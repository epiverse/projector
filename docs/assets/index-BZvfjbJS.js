var nC=Object.defineProperty;var xv=t=>{throw TypeError(t)};var iC=(t,e,r)=>e in t?nC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var H=(t,e,r)=>iC(t,typeof e!="symbol"?e+"":e,r),Lp=(t,e,r)=>e.has(t)||xv("Cannot "+r);var Pi=(t,e,r)=>(Lp(t,e,"read from private field"),r?r.call(t):e.get(t)),jp=(t,e,r)=>e.has(t)?xv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ef=(t,e,r,n)=>(Lp(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),zp=(t,e,r)=>(Lp(t,e,"access private method"),r);import Cv from"https://cdn.jsdelivr.net/npm/jszip@3.10.1/+esm";function hS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var $p={exports:{}},zl={},Vp={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function sC(){if(Av)return er;Av=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function k(G,ue,Se){this.props=G,this.context=ue,this.refs=E,this.updater=Se||x}k.prototype.isReactComponent={},k.prototype.setState=function(G,ue){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ue,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=k.prototype;function N(G,ue,Se){this.props=G,this.context=ue,this.refs=E,this.updater=Se||x}var M=N.prototype=new O;M.constructor=N,A(M,k.prototype),M.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function te(G,ue,Se){var Me,de={},De=null,$e=null;if(ue!=null)for(Me in ue.ref!==void 0&&($e=ue.ref),ue.key!==void 0&&(De=""+ue.key),ue)P.call(ue,Me)&&!j.hasOwnProperty(Me)&&(de[Me]=ue[Me]);var Be=arguments.length-2;if(Be===1)de.children=Se;else if(1<Be){for(var Oe=Array(Be),Ue=0;Ue<Be;Ue++)Oe[Ue]=arguments[Ue+2];de.children=Oe}if(G&&G.defaultProps)for(Me in Be=G.defaultProps,Be)de[Me]===void 0&&(de[Me]=Be[Me]);return{$$typeof:t,type:G,key:De,ref:$e,props:de,_owner:I.current}}function oe(G,ue){return{$$typeof:t,type:G.type,key:ue,ref:G.ref,props:G.props,_owner:G._owner}}function C(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Se){return ue[Se]})}var K=/\/+/g;function V(G,ue){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):ue.toString(36)}function Q(G,ue,Se,Me,de){var De=typeof G;(De==="undefined"||De==="boolean")&&(G=null);var $e=!1;if(G===null)$e=!0;else switch(De){case"string":case"number":$e=!0;break;case"object":switch(G.$$typeof){case t:case e:$e=!0}}if($e)return $e=G,de=de($e),G=Me===""?"."+V($e,0):Me,R(de)?(Se="",G!=null&&(Se=G.replace(K,"$&/")+"/"),Q(de,ue,Se,"",function(Ue){return Ue})):de!=null&&(C(de)&&(de=oe(de,Se+(!de.key||$e&&$e.key===de.key?"":(""+de.key).replace(K,"$&/")+"/")+G)),ue.push(de)),1;if($e=0,Me=Me===""?".":Me+":",R(G))for(var Be=0;Be<G.length;Be++){De=G[Be];var Oe=Me+V(De,Be);$e+=Q(De,ue,Se,Oe,de)}else if(Oe=w(G),typeof Oe=="function")for(G=Oe.call(G),Be=0;!(De=G.next()).done;)De=De.value,Oe=Me+V(De,Be++),$e+=Q(De,ue,Se,Oe,de);else if(De==="object")throw ue=String(G),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return $e}function J(G,ue,Se){if(G==null)return G;var Me=[],de=0;return Q(G,Me,"","",function(De){return ue.call(Se,De,de++)}),Me}function ie(G){if(G._status===-1){var ue=G._result;ue=ue(),ue.then(function(Se){(G._status===0||G._status===-1)&&(G._status=1,G._result=Se)},function(Se){(G._status===0||G._status===-1)&&(G._status=2,G._result=Se)}),G._status===-1&&(G._status=0,G._result=ue)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},se={transition:null},re={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:se,ReactCurrentOwner:I};function ye(){throw Error("act(...) is not supported in production builds of React.")}return er.Children={map:J,forEach:function(G,ue,Se){J(G,function(){ue.apply(this,arguments)},Se)},count:function(G){var ue=0;return J(G,function(){ue++}),ue},toArray:function(G){return J(G,function(ue){return ue})||[]},only:function(G){if(!C(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},er.Component=k,er.Fragment=r,er.Profiler=i,er.PureComponent=N,er.StrictMode=n,er.Suspense=f,er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,er.act=ye,er.cloneElement=function(G,ue,Se){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Me=A({},G.props),de=G.key,De=G.ref,$e=G._owner;if(ue!=null){if(ue.ref!==void 0&&(De=ue.ref,$e=I.current),ue.key!==void 0&&(de=""+ue.key),G.type&&G.type.defaultProps)var Be=G.type.defaultProps;for(Oe in ue)P.call(ue,Oe)&&!j.hasOwnProperty(Oe)&&(Me[Oe]=ue[Oe]===void 0&&Be!==void 0?Be[Oe]:ue[Oe])}var Oe=arguments.length-2;if(Oe===1)Me.children=Se;else if(1<Oe){Be=Array(Oe);for(var Ue=0;Ue<Oe;Ue++)Be[Ue]=arguments[Ue+2];Me.children=Be}return{$$typeof:t,type:G.type,key:de,ref:De,props:Me,_owner:$e}},er.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},er.createElement=te,er.createFactory=function(G){var ue=te.bind(null,G);return ue.type=G,ue},er.createRef=function(){return{current:null}},er.forwardRef=function(G){return{$$typeof:c,render:G}},er.isValidElement=C,er.lazy=function(G){return{$$typeof:y,_payload:{_status:-1,_result:G},_init:ie}},er.memo=function(G,ue){return{$$typeof:h,type:G,compare:ue===void 0?null:ue}},er.startTransition=function(G){var ue=se.transition;se.transition={};try{G()}finally{se.transition=ue}},er.unstable_act=ye,er.useCallback=function(G,ue){return ve.current.useCallback(G,ue)},er.useContext=function(G){return ve.current.useContext(G)},er.useDebugValue=function(){},er.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},er.useEffect=function(G,ue){return ve.current.useEffect(G,ue)},er.useId=function(){return ve.current.useId()},er.useImperativeHandle=function(G,ue,Se){return ve.current.useImperativeHandle(G,ue,Se)},er.useInsertionEffect=function(G,ue){return ve.current.useInsertionEffect(G,ue)},er.useLayoutEffect=function(G,ue){return ve.current.useLayoutEffect(G,ue)},er.useMemo=function(G,ue){return ve.current.useMemo(G,ue)},er.useReducer=function(G,ue,Se){return ve.current.useReducer(G,ue,Se)},er.useRef=function(G){return ve.current.useRef(G)},er.useState=function(G){return ve.current.useState(G)},er.useSyncExternalStore=function(G,ue,Se){return ve.current.useSyncExternalStore(G,ue,Se)},er.useTransition=function(){return ve.current.useTransition()},er.version="18.3.1",er}var Pv;function a0(){return Pv||(Pv=1,Vp.exports=sC()),Vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function oC(){if(Mv)return zl;Mv=1;var t=a0(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var y,b={},w=null,x=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(y in f)n.call(f,y)&&!s.hasOwnProperty(y)&&(b[y]=f[y]);if(c&&c.defaultProps)for(y in f=c.defaultProps,f)b[y]===void 0&&(b[y]=f[y]);return{$$typeof:e,type:c,key:w,ref:x,props:b,_owner:i.current}}return zl.Fragment=r,zl.jsx=l,zl.jsxs=l,zl}var kv;function aC(){return kv||(kv=1,$p.exports=oC()),$p.exports}var z=aC(),B=a0();const Qi=kd(B),Jg=hS({__proto__:null,default:Qi},[B]);var tf={},Wp={exports:{}},Hn={},Hp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function lC(){return Iv||(Iv=1,function(t){function e(se,re){var ye=se.length;se.push(re);e:for(;0<ye;){var G=ye-1>>>1,ue=se[G];if(0<i(ue,re))se[G]=re,se[ye]=ue,ye=G;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var re=se[0],ye=se.pop();if(ye!==re){se[0]=ye;e:for(var G=0,ue=se.length,Se=ue>>>1;G<Se;){var Me=2*(G+1)-1,de=se[Me],De=Me+1,$e=se[De];if(0>i(de,ye))De<ue&&0>i($e,de)?(se[G]=$e,se[De]=ye,G=De):(se[G]=de,se[Me]=ye,G=Me);else if(De<ue&&0>i($e,ye))se[G]=$e,se[De]=ye,G=De;else break e}}return re}function i(se,re){var ye=se.sortIndex-re.sortIndex;return ye!==0?ye:se.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],y=1,b=null,w=3,x=!1,A=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(se){for(var re=r(h);re!==null;){if(re.callback===null)n(h);else if(re.startTime<=se)n(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=r(h)}}function R(se){if(E=!1,M(se),!A)if(r(f)!==null)A=!0,ie(P);else{var re=r(h);re!==null&&ve(R,re.startTime-se)}}function P(se,re){A=!1,E&&(E=!1,O(te),te=-1),x=!0;var ye=w;try{for(M(re),b=r(f);b!==null&&(!(b.expirationTime>re)||se&&!F());){var G=b.callback;if(typeof G=="function"){b.callback=null,w=b.priorityLevel;var ue=G(b.expirationTime<=re);re=t.unstable_now(),typeof ue=="function"?b.callback=ue:b===r(f)&&n(f),M(re)}else n(f);b=r(f)}if(b!==null)var Se=!0;else{var Me=r(h);Me!==null&&ve(R,Me.startTime-re),Se=!1}return Se}finally{b=null,w=ye,x=!1}}var I=!1,j=null,te=-1,oe=5,C=-1;function F(){return!(t.unstable_now()-C<oe)}function K(){if(j!==null){var se=t.unstable_now();C=se;var re=!0;try{re=j(!0,se)}finally{re?V():(I=!1,j=null)}}else I=!1}var V;if(typeof N=="function")V=function(){N(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=K,V=function(){J.postMessage(null)}}else V=function(){k(K,0)};function ie(se){j=se,I||(I=!0,V())}function ve(se,re){te=k(function(){se(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,ie(P))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ye=w;w=re;try{return se()}finally{w=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,re){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ye=w;w=se;try{return re()}finally{w=ye}},t.unstable_scheduleCallback=function(se,re,ye){var G=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?G+ye:G):ye=G,se){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ye+ue,se={id:y++,callback:re,priorityLevel:se,startTime:ye,expirationTime:ue,sortIndex:-1},ye>G?(se.sortIndex=ye,e(h,se),r(f)===null&&se===r(h)&&(E?(O(te),te=-1):E=!0,ve(R,ye-G))):(se.sortIndex=ue,e(f,se),A||x||(A=!0,ie(P))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var re=w;return function(){var ye=w;w=re;try{return se.apply(this,arguments)}finally{w=ye}}}}(Xp)),Xp}var Nv;function cC(){return Nv||(Nv=1,Hp.exports=lC()),Hp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function uC(){if(Ov)return Hn;Ov=1;var t=a0(),e=cC();function r(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)n.add(a[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function w(o){return f.call(b,o)?!0:f.call(y,o)?!1:h.test(o)?b[o]=!0:(y[o]=!0,!1)}function x(o,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,a,u,p){if(a===null||typeof a>"u"||x(o,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(o,a,u,p,v,T,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=o,this.type=a,this.sanitizeURL=T,this.removeEmptyString=L}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];k[a]=new E(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(O,N);k[a]=new E(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(O,N);k[a]=new E(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(O,N);k[a]=new E(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,u,p){var v=k.hasOwnProperty(a)?k[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,u,v,p)&&(u=null),p||v===null?w(a)&&(u===null?o.removeAttribute(a):o.setAttribute(a,""+u)):v.mustUseProperty?o[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,p=v.attributeNamespace,u===null?o.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?o.setAttributeNS(p,a,u):o.setAttribute(a,u))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),se=Symbol.iterator;function re(o){return o===null||typeof o!="object"?null:(o=se&&o[se]||o["@@iterator"],typeof o=="function"?o:null)}var ye=Object.assign,G;function ue(o){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+o}var Se=!1;function Me(o,a){if(!o||Se)return"";Se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Ce){var p=Ce}Reflect.construct(o,[],a)}else{try{a.call()}catch(Ce){p=Ce}o.call(a.prototype)}else{try{throw Error()}catch(Ce){p=Ce}o()}}catch(Ce){if(Ce&&p&&typeof Ce.stack=="string"){for(var v=Ce.stack.split(`
`),T=p.stack.split(`
`),L=v.length-1,ne=T.length-1;1<=L&&0<=ne&&v[L]!==T[ne];)ne--;for(;1<=L&&0<=ne;L--,ne--)if(v[L]!==T[ne]){if(L!==1||ne!==1)do if(L--,ne--,0>ne||v[L]!==T[ne]){var fe=`
`+v[L].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=L&&0<=ne);break}}}finally{Se=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?ue(o):""}function de(o){switch(o.tag){case 5:return ue(o.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return o=Me(o.type,!1),o;case 11:return o=Me(o.type.render,!1),o;case 1:return o=Me(o.type,!0),o;default:return""}}function De(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case I:return"Portal";case oe:return"Profiler";case te:return"StrictMode";case V:return"Suspense";case Q:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case C:return(o._context.displayName||"Context")+".Provider";case K:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case J:return a=o.displayName||null,a!==null?a:De(o.type)||"Memo";case ie:a=o._payload,o=o._init;try{return De(o(a))}catch{}}return null}function $e(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(a);case 8:return a===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Oe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ue(o){var a=Oe(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,T=u.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){p=""+L,T.call(this,L)}}),Object.defineProperty(o,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ot(o){o._valueTracker||(o._valueTracker=Ue(o))}function qe(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return o&&(p=Oe(o)?o.checked?"true":"false":o.value),o=p,o!==u?(a.setValue(o),!0):!1}function ut(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function et(o,a){var u=a.checked;return ye({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Mt(o,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Be(a.value!=null?a.value:u),o._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ut(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function bt(o,a){Ut(o,a);var u=Be(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Dt(o,a.type,u):a.hasOwnProperty("defaultValue")&&Dt(o,a.type,Be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function xt(o,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,u||a===o.value||(o.value=a),o.defaultValue=a}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function Dt(o,a,u){(a!=="number"||ut(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Lt=Array.isArray;function gt(o,a,u,p){if(o=o.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<o.length;u++)v=a.hasOwnProperty("$"+o[u].value),o[u].selected!==v&&(o[u].selected=v),v&&p&&(o[u].defaultSelected=!0)}else{for(u=""+Be(u),a=null,v=0;v<o.length;v++){if(o[v].value===u){o[v].selected=!0,p&&(o[v].defaultSelected=!0);return}a!==null||o[v].disabled||(a=o[v])}a!==null&&(a.selected=!0)}}function rt(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return ye({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ur(o,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(r(92));if(Lt(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),u=a}o._wrapperState={initialValue:Be(u)}}function qt(o,a){var u=Be(a.value),p=Be(a.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),a.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),p!=null&&(o.defaultValue=""+p)}function Fe(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Qe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Qe(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Tt,Ot=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,v){MSApp.execUnsafeLocalFunction(function(){return o(a,u,p,v)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Tt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ct(o,a){if(a){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=a;return}}o.textContent=a}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(o){tr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),yt[a]=yt[o]})});function Gt(o,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||yt.hasOwnProperty(o)&&yt[o]?(""+a).trim():a+"px"}function Zt(o,a){o=o.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=Gt(u,a[u],p);u==="float"&&(u="cssFloat"),p?o.setProperty(u,v):o[u]=v}}var Ne=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(o,a){if(a){if(Ne[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Et(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function Yt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Pr=null,Nr=null,Ht=null;function pr(o){if(o=xl(o)){if(typeof Pr!="function")throw Error(r(280));var a=o.stateNode;a&&(a=gu(a),Pr(o.stateNode,o.type,a))}}function nn(o){Nr?Ht?Ht.push(o):Ht=[o]:Nr=o}function _r(){if(Nr){var o=Nr,a=Ht;if(Ht=Nr=null,pr(o),a)for(o=0;o<a.length;o++)pr(a[o])}}function Wr(o,a){return o(a)}function D(){}var _=!1;function g(o,a,u){if(_)return o(a,u);_=!0;try{return Wr(o,a,u)}finally{_=!1,(Nr!==null||Ht!==null)&&(D(),_r())}}function d(o,a){var u=o.stateNode;if(u===null)return null;var p=gu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var m=!1;if(c)try{var S={};Object.defineProperty(S,"passive",{get:function(){m=!0}}),window.addEventListener("test",S,S),window.removeEventListener("test",S,S)}catch{m=!1}function W(o,a,u,p,v,T,L,ne,fe){var Ce=Array.prototype.slice.call(arguments,3);try{a.apply(u,Ce)}catch(We){this.onError(We)}}var X=!1,q=null,Z=!1,ge=null,ae={onError:function(o){X=!0,q=o}};function Ae(o,a,u,p,v,T,L,ne,fe){X=!1,q=null,W.apply(ae,arguments)}function Xe(o,a,u,p,v,T,L,ne,fe){if(Ae.apply(this,arguments),X){if(X){var Ce=q;X=!1,q=null}else throw Error(r(198));Z||(Z=!0,ge=Ce)}}function Te(o){var a=o,u=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(u=a.return),o=a.return;while(o)}return a.tag===3?u:null}function ke(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function nt(o){if(Te(o)!==o)throw Error(r(188))}function ce(o){var a=o.alternate;if(!a){if(a=Te(o),a===null)throw Error(r(188));return a!==o?null:o}for(var u=o,p=a;;){var v=u.return;if(v===null)break;var T=v.alternate;if(T===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===u)return nt(v),o;if(T===p)return nt(v),a;T=T.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=T;else{for(var L=!1,ne=v.child;ne;){if(ne===u){L=!0,u=v,p=T;break}if(ne===p){L=!0,p=v,u=T;break}ne=ne.sibling}if(!L){for(ne=T.child;ne;){if(ne===u){L=!0,u=T,p=v;break}if(ne===p){L=!0,p=T,u=v;break}ne=ne.sibling}if(!L)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?o:a}function Ve(o){return o=ce(o),o!==null?st(o):null}function st(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=st(o);if(a!==null)return a;o=o.sibling}return null}var Ct=e.unstable_scheduleCallback,At=e.unstable_cancelCallback,ar=e.unstable_shouldYield,vt=e.unstable_requestPaint,it=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,U=e.unstable_ImmediatePriority,pe=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,xe=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,je=null,lt=null;function mt(o){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(je,o,void 0,(o.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:sn,nr=Math.log,yr=Math.LN2;function sn(o){return o>>>=0,o===0?32:31-(nr(o)/yr|0)|0}var Hr=64,jt=4194304;function ft(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Kt(o,a){var u=o.pendingLanes;if(u===0)return 0;var p=0,v=o.suspendedLanes,T=o.pingedLanes,L=u&268435455;if(L!==0){var ne=L&~v;ne!==0?p=ft(ne):(T&=L,T!==0&&(p=ft(T)))}else L=u&~v,L!==0?p=ft(L):T!==0&&(p=ft(T));if(p===0)return 0;if(a!==0&&a!==p&&!(a&v)&&(v=p&-p,T=a&-a,v>=T||v===16&&(T&4194240)!==0))return a;if(p&4&&(p|=u&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)u=31-kt(a),v=1<<u,p|=o[u],a&=~v;return p}function fr(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(o,a){for(var u=o.suspendedLanes,p=o.pingedLanes,v=o.expirationTimes,T=o.pendingLanes;0<T;){var L=31-kt(T),ne=1<<L,fe=v[L];fe===-1?(!(ne&u)||ne&p)&&(v[L]=fr(ne,a)):fe<=a&&(o.expiredLanes|=ne),T&=~ne}}function Un(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ln(){var o=Hr;return Hr<<=1,!(Hr&4194240)&&(Hr=64),o}function Si(o){for(var a=[],u=0;31>u;u++)a.push(o);return a}function ii(o,a,u){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-kt(a),o[a]=u}function Ts(o,a){var u=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<u;){var v=31-kt(u),T=1<<v;a[v]=0,p[v]=-1,o[v]=-1,u&=~T}}function $(o,a){var u=o.entangledLanes|=a;for(o=o.entanglements;u;){var p=31-kt(u),v=1<<p;v&a|o[p]&a&&(o[p]|=a),u&=~v}}var Y=0;function le(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Re,ze,ht,Qt,Xr,Yr=!1,Qr=[],on=null,Es=null,Rs=null,ul=new Map,fl=new Map,xs=[],xR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c_(o,a){switch(o){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":ul.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(a.pointerId)}}function dl(o,a,u,p,v,T){return o===null||o.nativeEvent!==T?(o={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:T,targetContainers:[v]},a!==null&&(a=xl(a),a!==null&&ze(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),o)}function CR(o,a,u,p,v){switch(a){case"focusin":return on=dl(on,o,a,u,p,v),!0;case"dragenter":return Es=dl(Es,o,a,u,p,v),!0;case"mouseover":return Rs=dl(Rs,o,a,u,p,v),!0;case"pointerover":var T=v.pointerId;return ul.set(T,dl(ul.get(T)||null,o,a,u,p,v)),!0;case"gotpointercapture":return T=v.pointerId,fl.set(T,dl(fl.get(T)||null,o,a,u,p,v)),!0}return!1}function u_(o){var a=so(o.target);if(a!==null){var u=Te(a);if(u!==null){if(a=u.tag,a===13){if(a=ke(u),a!==null){o.blockedOn=a,Xr(o.priority,function(){ht(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function tu(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var u=dh(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var p=new u.constructor(u.type,u);Pt=p,u.target.dispatchEvent(p),Pt=null}else return a=xl(u),a!==null&&ze(a),o.blockedOn=u,!1;a.shift()}return!0}function f_(o,a,u){tu(o)&&u.delete(a)}function AR(){Yr=!1,on!==null&&tu(on)&&(on=null),Es!==null&&tu(Es)&&(Es=null),Rs!==null&&tu(Rs)&&(Rs=null),ul.forEach(f_),fl.forEach(f_)}function hl(o,a){o.blockedOn===a&&(o.blockedOn=null,Yr||(Yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,AR)))}function pl(o){function a(v){return hl(v,o)}if(0<Qr.length){hl(Qr[0],o);for(var u=1;u<Qr.length;u++){var p=Qr[u];p.blockedOn===o&&(p.blockedOn=null)}}for(on!==null&&hl(on,o),Es!==null&&hl(Es,o),Rs!==null&&hl(Rs,o),ul.forEach(a),fl.forEach(a),u=0;u<xs.length;u++)p=xs[u],p.blockedOn===o&&(p.blockedOn=null);for(;0<xs.length&&(u=xs[0],u.blockedOn===null);)u_(u),u.blockedOn===null&&xs.shift()}var Qo=R.ReactCurrentBatchConfig,ru=!0;function PR(o,a,u,p){var v=Y,T=Qo.transition;Qo.transition=null;try{Y=1,fh(o,a,u,p)}finally{Y=v,Qo.transition=T}}function MR(o,a,u,p){var v=Y,T=Qo.transition;Qo.transition=null;try{Y=4,fh(o,a,u,p)}finally{Y=v,Qo.transition=T}}function fh(o,a,u,p){if(ru){var v=dh(o,a,u,p);if(v===null)Ph(o,a,p,nu,u),c_(o,p);else if(CR(v,o,a,u,p))p.stopPropagation();else if(c_(o,p),a&4&&-1<xR.indexOf(o)){for(;v!==null;){var T=xl(v);if(T!==null&&Re(T),T=dh(o,a,u,p),T===null&&Ph(o,a,p,nu,u),T===v)break;v=T}v!==null&&p.stopPropagation()}else Ph(o,a,p,null,u)}}var nu=null;function dh(o,a,u,p){if(nu=null,o=Yt(p),o=so(o),o!==null)if(a=Te(o),a===null)o=null;else if(u=a.tag,u===13){if(o=ke(a),o!==null)return o;o=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return nu=o,null}function d_(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case U:return 1;case pe:return 4;case Pe:case xe:return 16;case Ge:return 536870912;default:return 16}default:return 16}}var Cs=null,hh=null,iu=null;function h_(){if(iu)return iu;var o,a=hh,u=a.length,p,v="value"in Cs?Cs.value:Cs.textContent,T=v.length;for(o=0;o<u&&a[o]===v[o];o++);var L=u-o;for(p=1;p<=L&&a[u-p]===v[T-p];p++);return iu=v.slice(o,1<p?1-p:void 0)}function su(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ou(){return!0}function p_(){return!1}function qn(o){function a(u,p,v,T,L){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var ne in o)o.hasOwnProperty(ne)&&(u=o[ne],this[ne]=u?u(T):T[ne]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ou:p_,this.isPropagationStopped=p_,this}return ye(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),a}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ph=qn(Jo),gl=ye({},Jo,{view:0,detail:0}),kR=qn(gl),gh,mh,ml,au=ye({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ml&&(ml&&o.type==="mousemove"?(gh=o.screenX-ml.screenX,mh=o.screenY-ml.screenY):mh=gh=0,ml=o),gh)},movementY:function(o){return"movementY"in o?o.movementY:mh}}),g_=qn(au),IR=ye({},au,{dataTransfer:0}),NR=qn(IR),OR=ye({},gl,{relatedTarget:0}),_h=qn(OR),FR=ye({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),DR=qn(FR),BR=ye({},Jo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),UR=qn(BR),LR=ye({},Jo,{data:0}),m_=qn(LR),jR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VR(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=$R[o])?!!a[o]:!1}function yh(){return VR}var WR=ye({},gl,{key:function(o){if(o.key){var a=jR[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=su(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zR[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(o){return o.type==="keypress"?su(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?su(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),HR=qn(WR),XR=ye({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=qn(XR),YR=ye({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),KR=qn(YR),qR=ye({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZR=qn(qR),QR=ye({},au,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=qn(QR),GR=[9,13,27,32],vh=c&&"CompositionEvent"in window,_l=null;c&&"documentMode"in document&&(_l=document.documentMode);var ex=c&&"TextEvent"in window&&!_l,y_=c&&(!vh||_l&&8<_l&&11>=_l),v_=" ",w_=!1;function b_(o,a){switch(o){case"keyup":return GR.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Go=!1;function tx(o,a){switch(o){case"compositionend":return S_(a);case"keypress":return a.which!==32?null:(w_=!0,v_);case"textInput":return o=a.data,o===v_&&w_?null:o;default:return null}}function rx(o,a){if(Go)return o==="compositionend"||!vh&&b_(o,a)?(o=h_(),iu=hh=Cs=null,Go=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return y_&&a.locale!=="ko"?null:a.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!nx[o.type]:a==="textarea"}function E_(o,a,u,p){nn(p),a=du(a,"onChange"),0<a.length&&(u=new ph("onChange","change",null,u,p),o.push({event:u,listeners:a}))}var yl=null,vl=null;function ix(o){$_(o,0)}function lu(o){var a=ia(o);if(qe(a))return o}function sx(o,a){if(o==="change")return a}var R_=!1;if(c){var wh;if(c){var bh="oninput"in document;if(!bh){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),bh=typeof x_.oninput=="function"}wh=bh}else wh=!1;R_=wh&&(!document.documentMode||9<document.documentMode)}function C_(){yl&&(yl.detachEvent("onpropertychange",A_),vl=yl=null)}function A_(o){if(o.propertyName==="value"&&lu(vl)){var a=[];E_(a,vl,o,Yt(o)),g(ix,a)}}function ox(o,a,u){o==="focusin"?(C_(),yl=a,vl=u,yl.attachEvent("onpropertychange",A_)):o==="focusout"&&C_()}function ax(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lu(vl)}function lx(o,a){if(o==="click")return lu(a)}function cx(o,a){if(o==="input"||o==="change")return lu(a)}function ux(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Ti=typeof Object.is=="function"?Object.is:ux;function wl(o,a){if(Ti(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var u=Object.keys(o),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!f.call(a,v)||!Ti(o[v],a[v]))return!1}return!0}function P_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function M_(o,a){var u=P_(o);o=0;for(var p;u;){if(u.nodeType===3){if(p=o+u.textContent.length,o<=a&&p>=a)return{node:u,offset:a-o};o=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=P_(u)}}function k_(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?k_(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function I_(){for(var o=window,a=ut();a instanceof o.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)o=a.contentWindow;else break;a=ut(o.document)}return a}function Sh(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function fx(o){var a=I_(),u=o.focusedElem,p=o.selectionRange;if(a!==u&&u&&u.ownerDocument&&k_(u.ownerDocument.documentElement,u)){if(p!==null&&Sh(u)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(o,u.value.length);else if(o=(a=u.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var v=u.textContent.length,T=Math.min(p.start,v);p=p.end===void 0?T:Math.min(p.end,v),!o.extend&&T>p&&(v=p,p=T,T=v),v=M_(u,T);var L=M_(u,p);v&&L&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),o.removeAllRanges(),T>p?(o.addRange(a),o.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),o.addRange(a)))}}for(a=[],o=u;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)o=a[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var dx=c&&"documentMode"in document&&11>=document.documentMode,ea=null,Th=null,bl=null,Eh=!1;function N_(o,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Eh||ea==null||ea!==ut(p)||(p=ea,"selectionStart"in p&&Sh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bl&&wl(bl,p)||(bl=p,p=du(Th,"onSelect"),0<p.length&&(a=new ph("onSelect","select",null,a,u),o.push({event:a,listeners:p}),a.target=ea)))}function cu(o,a){var u={};return u[o.toLowerCase()]=a.toLowerCase(),u["Webkit"+o]="webkit"+a,u["Moz"+o]="moz"+a,u}var ta={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},Rh={},O_={};c&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function uu(o){if(Rh[o])return Rh[o];if(!ta[o])return o;var a=ta[o],u;for(u in a)if(a.hasOwnProperty(u)&&u in O_)return Rh[o]=a[u];return o}var F_=uu("animationend"),D_=uu("animationiteration"),B_=uu("animationstart"),U_=uu("transitionend"),L_=new Map,j_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(o,a){L_.set(o,a),s(a,[o])}for(var xh=0;xh<j_.length;xh++){var Ch=j_[xh],hx=Ch.toLowerCase(),px=Ch[0].toUpperCase()+Ch.slice(1);As(hx,"on"+px)}As(F_,"onAnimationEnd"),As(D_,"onAnimationIteration"),As(B_,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(U_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function z_(o,a,u){var p=o.type||"unknown-event";o.currentTarget=u,Xe(p,a,void 0,o),o.currentTarget=null}function $_(o,a){a=(a&4)!==0;for(var u=0;u<o.length;u++){var p=o[u],v=p.event;p=p.listeners;e:{var T=void 0;if(a)for(var L=p.length-1;0<=L;L--){var ne=p[L],fe=ne.instance,Ce=ne.currentTarget;if(ne=ne.listener,fe!==T&&v.isPropagationStopped())break e;z_(v,ne,Ce),T=fe}else for(L=0;L<p.length;L++){if(ne=p[L],fe=ne.instance,Ce=ne.currentTarget,ne=ne.listener,fe!==T&&v.isPropagationStopped())break e;z_(v,ne,Ce),T=fe}}}if(Z)throw o=ge,Z=!1,ge=null,o}function Mr(o,a){var u=a[Fh];u===void 0&&(u=a[Fh]=new Set);var p=o+"__bubble";u.has(p)||(V_(a,o,2,!1),u.add(p))}function Ah(o,a,u){var p=0;a&&(p|=4),V_(u,o,p,a)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Tl(o){if(!o[fu]){o[fu]=!0,n.forEach(function(u){u!=="selectionchange"&&(gx.has(u)||Ah(u,!1,o),Ah(u,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[fu]||(a[fu]=!0,Ah("selectionchange",!1,a))}}function V_(o,a,u,p){switch(d_(a)){case 1:var v=PR;break;case 4:v=MR;break;default:v=fh}u=v.bind(null,a,u,o),v=void 0,!m||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?o.addEventListener(a,u,{capture:!0,passive:v}):o.addEventListener(a,u,!0):v!==void 0?o.addEventListener(a,u,{passive:v}):o.addEventListener(a,u,!1)}function Ph(o,a,u,p,v){var T=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var ne=p.stateNode.containerInfo;if(ne===v||ne.nodeType===8&&ne.parentNode===v)break;if(L===4)for(L=p.return;L!==null;){var fe=L.tag;if((fe===3||fe===4)&&(fe=L.stateNode.containerInfo,fe===v||fe.nodeType===8&&fe.parentNode===v))return;L=L.return}for(;ne!==null;){if(L=so(ne),L===null)return;if(fe=L.tag,fe===5||fe===6){p=T=L;continue e}ne=ne.parentNode}}p=p.return}g(function(){var Ce=T,We=Yt(u),Ye=[];e:{var Le=L_.get(o);if(Le!==void 0){var pt=ph,wt=o;switch(o){case"keypress":if(su(u)===0)break e;case"keydown":case"keyup":pt=HR;break;case"focusin":wt="focus",pt=_h;break;case"focusout":wt="blur",pt=_h;break;case"beforeblur":case"afterblur":pt=_h;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=NR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=KR;break;case F_:case D_:case B_:pt=DR;break;case U_:pt=ZR;break;case"scroll":pt=kR;break;case"wheel":pt=JR;break;case"copy":case"cut":case"paste":pt=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=__}var St=(a&4)!==0,Kr=!St&&o==="scroll",we=St?Le!==null?Le+"Capture":null:Le;St=[];for(var he=Ce,Ee;he!==null;){Ee=he;var Je=Ee.stateNode;if(Ee.tag===5&&Je!==null&&(Ee=Je,we!==null&&(Je=d(he,we),Je!=null&&St.push(El(he,Je,Ee)))),Kr)break;he=he.return}0<St.length&&(Le=new pt(Le,wt,null,u,We),Ye.push({event:Le,listeners:St}))}}if(!(a&7)){e:{if(Le=o==="mouseover"||o==="pointerover",pt=o==="mouseout"||o==="pointerout",Le&&u!==Pt&&(wt=u.relatedTarget||u.fromElement)&&(so(wt)||wt[is]))break e;if((pt||Le)&&(Le=We.window===We?We:(Le=We.ownerDocument)?Le.defaultView||Le.parentWindow:window,pt?(wt=u.relatedTarget||u.toElement,pt=Ce,wt=wt?so(wt):null,wt!==null&&(Kr=Te(wt),wt!==Kr||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(pt=null,wt=Ce),pt!==wt)){if(St=g_,Je="onMouseLeave",we="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(St=__,Je="onPointerLeave",we="onPointerEnter",he="pointer"),Kr=pt==null?Le:ia(pt),Ee=wt==null?Le:ia(wt),Le=new St(Je,he+"leave",pt,u,We),Le.target=Kr,Le.relatedTarget=Ee,Je=null,so(We)===Ce&&(St=new St(we,he+"enter",wt,u,We),St.target=Ee,St.relatedTarget=Kr,Je=St),Kr=Je,pt&&wt)t:{for(St=pt,we=wt,he=0,Ee=St;Ee;Ee=ra(Ee))he++;for(Ee=0,Je=we;Je;Je=ra(Je))Ee++;for(;0<he-Ee;)St=ra(St),he--;for(;0<Ee-he;)we=ra(we),Ee--;for(;he--;){if(St===we||we!==null&&St===we.alternate)break t;St=ra(St),we=ra(we)}St=null}else St=null;pt!==null&&W_(Ye,Le,pt,St,!1),wt!==null&&Kr!==null&&W_(Ye,Kr,wt,St,!0)}}e:{if(Le=Ce?ia(Ce):window,pt=Le.nodeName&&Le.nodeName.toLowerCase(),pt==="select"||pt==="input"&&Le.type==="file")var Rt=sx;else if(T_(Le))if(R_)Rt=cx;else{Rt=ax;var It=ox}else(pt=Le.nodeName)&&pt.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(Rt=lx);if(Rt&&(Rt=Rt(o,Ce))){E_(Ye,Rt,u,We);break e}It&&It(o,Le,Ce),o==="focusout"&&(It=Le._wrapperState)&&It.controlled&&Le.type==="number"&&Dt(Le,"number",Le.value)}switch(It=Ce?ia(Ce):window,o){case"focusin":(T_(It)||It.contentEditable==="true")&&(ea=It,Th=Ce,bl=null);break;case"focusout":bl=Th=ea=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,N_(Ye,u,We);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":N_(Ye,u,We)}var Nt;if(vh)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Go?b_(o,u)&&(zt="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(zt="onCompositionStart");zt&&(y_&&u.locale!=="ko"&&(Go||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Go&&(Nt=h_()):(Cs=We,hh="value"in Cs?Cs.value:Cs.textContent,Go=!0)),It=du(Ce,zt),0<It.length&&(zt=new m_(zt,o,null,u,We),Ye.push({event:zt,listeners:It}),Nt?zt.data=Nt:(Nt=S_(u),Nt!==null&&(zt.data=Nt)))),(Nt=ex?tx(o,u):rx(o,u))&&(Ce=du(Ce,"onBeforeInput"),0<Ce.length&&(We=new m_("onBeforeInput","beforeinput",null,u,We),Ye.push({event:We,listeners:Ce}),We.data=Nt))}$_(Ye,a)})}function El(o,a,u){return{instance:o,listener:a,currentTarget:u}}function du(o,a){for(var u=a+"Capture",p=[];o!==null;){var v=o,T=v.stateNode;v.tag===5&&T!==null&&(v=T,T=d(o,u),T!=null&&p.unshift(El(o,T,v)),T=d(o,a),T!=null&&p.push(El(o,T,v))),o=o.return}return p}function ra(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function W_(o,a,u,p,v){for(var T=a._reactName,L=[];u!==null&&u!==p;){var ne=u,fe=ne.alternate,Ce=ne.stateNode;if(fe!==null&&fe===p)break;ne.tag===5&&Ce!==null&&(ne=Ce,v?(fe=d(u,T),fe!=null&&L.unshift(El(u,fe,ne))):v||(fe=d(u,T),fe!=null&&L.push(El(u,fe,ne)))),u=u.return}L.length!==0&&o.push({event:a,listeners:L})}var mx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function H_(o){return(typeof o=="string"?o:""+o).replace(mx,`
`).replace(_x,"")}function hu(o,a,u){if(a=H_(a),H_(o)!==a&&u)throw Error(r(425))}function pu(){}var Mh=null,kh=null;function Ih(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(o){return X_.resolve(null).then(o).catch(wx)}:Nh;function wx(o){setTimeout(function(){throw o})}function Oh(o,a){var u=a,p=0;do{var v=u.nextSibling;if(o.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){o.removeChild(v),pl(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);pl(a)}function Ps(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Y_(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return o;a--}else u==="/$"&&a++}o=o.previousSibling}return null}var na=Math.random().toString(36).slice(2),Di="__reactFiber$"+na,Rl="__reactProps$"+na,is="__reactContainer$"+na,Fh="__reactEvents$"+na,bx="__reactListeners$"+na,Sx="__reactHandles$"+na;function so(o){var a=o[Di];if(a)return a;for(var u=o.parentNode;u;){if(a=u[is]||u[Di]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(o=Y_(o);o!==null;){if(u=o[Di])return u;o=Y_(o)}return a}o=u,u=o.parentNode}return null}function xl(o){return o=o[Di]||o[is],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ia(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function gu(o){return o[Rl]||null}var Dh=[],sa=-1;function Ms(o){return{current:o}}function kr(o){0>sa||(o.current=Dh[sa],Dh[sa]=null,sa--)}function xr(o,a){sa++,Dh[sa]=o.current,o.current=a}var ks={},En=Ms(ks),jn=Ms(!1),oo=ks;function oa(o,a){var u=o.type.contextTypes;if(!u)return ks;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},T;for(T in u)v[T]=a[T];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=v),v}function zn(o){return o=o.childContextTypes,o!=null}function mu(){kr(jn),kr(En)}function K_(o,a,u){if(En.current!==ks)throw Error(r(168));xr(En,a),xr(jn,u)}function q_(o,a,u){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(r(108,$e(o)||"Unknown",v));return ye({},u,p)}function _u(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ks,oo=En.current,xr(En,o),xr(jn,jn.current),!0}function Z_(o,a,u){var p=o.stateNode;if(!p)throw Error(r(169));u?(o=q_(o,a,oo),p.__reactInternalMemoizedMergedChildContext=o,kr(jn),kr(En),xr(En,o)):kr(jn),xr(jn,u)}var ss=null,yu=!1,Bh=!1;function Q_(o){ss===null?ss=[o]:ss.push(o)}function Tx(o){yu=!0,Q_(o)}function Is(){if(!Bh&&ss!==null){Bh=!0;var o=0,a=Y;try{var u=ss;for(Y=1;o<u.length;o++){var p=u[o];do p=p(!0);while(p!==null)}ss=null,yu=!1}catch(v){throw ss!==null&&(ss=ss.slice(o+1)),Ct(U,Is),v}finally{Y=a,Bh=!1}}return null}var aa=[],la=0,vu=null,wu=0,si=[],oi=0,ao=null,os=1,as="";function lo(o,a){aa[la++]=wu,aa[la++]=vu,vu=o,wu=a}function J_(o,a,u){si[oi++]=os,si[oi++]=as,si[oi++]=ao,ao=o;var p=os;o=as;var v=32-kt(p)-1;p&=~(1<<v),u+=1;var T=32-kt(a)+v;if(30<T){var L=v-v%5;T=(p&(1<<L)-1).toString(32),p>>=L,v-=L,os=1<<32-kt(a)+v|u<<v|p,as=T+o}else os=1<<T|u<<v|p,as=o}function Uh(o){o.return!==null&&(lo(o,1),J_(o,1,0))}function Lh(o){for(;o===vu;)vu=aa[--la],aa[la]=null,wu=aa[--la],aa[la]=null;for(;o===ao;)ao=si[--oi],si[oi]=null,as=si[--oi],si[oi]=null,os=si[--oi],si[oi]=null}var Zn=null,Qn=null,Or=!1,Ei=null;function G_(o,a){var u=ui(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=o,a=o.deletions,a===null?(o.deletions=[u],o.flags|=16):a.push(u)}function ey(o,a){switch(o.tag){case 5:var u=o.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Zn=o,Qn=Ps(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Zn=o,Qn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=ao!==null?{id:os,overflow:as}:null,o.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=ui(18,null,null,0),u.stateNode=a,u.return=o,o.child=u,Zn=o,Qn=null,!0):!1;default:return!1}}function jh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function zh(o){if(Or){var a=Qn;if(a){var u=a;if(!ey(o,a)){if(jh(o))throw Error(r(418));a=Ps(u.nextSibling);var p=Zn;a&&ey(o,a)?G_(p,u):(o.flags=o.flags&-4097|2,Or=!1,Zn=o)}}else{if(jh(o))throw Error(r(418));o.flags=o.flags&-4097|2,Or=!1,Zn=o}}}function ty(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Zn=o}function bu(o){if(o!==Zn)return!1;if(!Or)return ty(o),Or=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Ih(o.type,o.memoizedProps)),a&&(a=Qn)){if(jh(o))throw ry(),Error(r(418));for(;a;)G_(o,a),a=Ps(a.nextSibling)}if(ty(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(a===0){Qn=Ps(o.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}o=o.nextSibling}Qn=null}}else Qn=Zn?Ps(o.stateNode.nextSibling):null;return!0}function ry(){for(var o=Qn;o;)o=Ps(o.nextSibling)}function ca(){Qn=Zn=null,Or=!1}function $h(o){Ei===null?Ei=[o]:Ei.push(o)}var Ex=R.ReactCurrentBatchConfig;function Cl(o,a,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var p=u.stateNode}if(!p)throw Error(r(147,o));var v=p,T=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(L){var ne=v.refs;L===null?delete ne[T]:ne[T]=L},a._stringRef=T,a)}if(typeof o!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,o))}return o}function Su(o,a){throw o=Object.prototype.toString.call(a),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function ny(o){var a=o._init;return a(o._payload)}function iy(o){function a(we,he){if(o){var Ee=we.deletions;Ee===null?(we.deletions=[he],we.flags|=16):Ee.push(he)}}function u(we,he){if(!o)return null;for(;he!==null;)a(we,he),he=he.sibling;return null}function p(we,he){for(we=new Map;he!==null;)he.key!==null?we.set(he.key,he):we.set(he.index,he),he=he.sibling;return we}function v(we,he){return we=js(we,he),we.index=0,we.sibling=null,we}function T(we,he,Ee){return we.index=Ee,o?(Ee=we.alternate,Ee!==null?(Ee=Ee.index,Ee<he?(we.flags|=2,he):Ee):(we.flags|=2,he)):(we.flags|=1048576,he)}function L(we){return o&&we.alternate===null&&(we.flags|=2),we}function ne(we,he,Ee,Je){return he===null||he.tag!==6?(he=Np(Ee,we.mode,Je),he.return=we,he):(he=v(he,Ee),he.return=we,he)}function fe(we,he,Ee,Je){var Rt=Ee.type;return Rt===j?We(we,he,Ee.props.children,Je,Ee.key):he!==null&&(he.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===ie&&ny(Rt)===he.type)?(Je=v(he,Ee.props),Je.ref=Cl(we,he,Ee),Je.return=we,Je):(Je=Xu(Ee.type,Ee.key,Ee.props,null,we.mode,Je),Je.ref=Cl(we,he,Ee),Je.return=we,Je)}function Ce(we,he,Ee,Je){return he===null||he.tag!==4||he.stateNode.containerInfo!==Ee.containerInfo||he.stateNode.implementation!==Ee.implementation?(he=Op(Ee,we.mode,Je),he.return=we,he):(he=v(he,Ee.children||[]),he.return=we,he)}function We(we,he,Ee,Je,Rt){return he===null||he.tag!==7?(he=_o(Ee,we.mode,Je,Rt),he.return=we,he):(he=v(he,Ee),he.return=we,he)}function Ye(we,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Np(""+he,we.mode,Ee),he.return=we,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return Ee=Xu(he.type,he.key,he.props,null,we.mode,Ee),Ee.ref=Cl(we,null,he),Ee.return=we,Ee;case I:return he=Op(he,we.mode,Ee),he.return=we,he;case ie:var Je=he._init;return Ye(we,Je(he._payload),Ee)}if(Lt(he)||re(he))return he=_o(he,we.mode,Ee,null),he.return=we,he;Su(we,he)}return null}function Le(we,he,Ee,Je){var Rt=he!==null?he.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Rt!==null?null:ne(we,he,""+Ee,Je);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case P:return Ee.key===Rt?fe(we,he,Ee,Je):null;case I:return Ee.key===Rt?Ce(we,he,Ee,Je):null;case ie:return Rt=Ee._init,Le(we,he,Rt(Ee._payload),Je)}if(Lt(Ee)||re(Ee))return Rt!==null?null:We(we,he,Ee,Je,null);Su(we,Ee)}return null}function pt(we,he,Ee,Je,Rt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return we=we.get(Ee)||null,ne(he,we,""+Je,Rt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case P:return we=we.get(Je.key===null?Ee:Je.key)||null,fe(he,we,Je,Rt);case I:return we=we.get(Je.key===null?Ee:Je.key)||null,Ce(he,we,Je,Rt);case ie:var It=Je._init;return pt(we,he,Ee,It(Je._payload),Rt)}if(Lt(Je)||re(Je))return we=we.get(Ee)||null,We(he,we,Je,Rt,null);Su(he,Je)}return null}function wt(we,he,Ee,Je){for(var Rt=null,It=null,Nt=he,zt=he=0,dn=null;Nt!==null&&zt<Ee.length;zt++){Nt.index>zt?(dn=Nt,Nt=null):dn=Nt.sibling;var sr=Le(we,Nt,Ee[zt],Je);if(sr===null){Nt===null&&(Nt=dn);break}o&&Nt&&sr.alternate===null&&a(we,Nt),he=T(sr,he,zt),It===null?Rt=sr:It.sibling=sr,It=sr,Nt=dn}if(zt===Ee.length)return u(we,Nt),Or&&lo(we,zt),Rt;if(Nt===null){for(;zt<Ee.length;zt++)Nt=Ye(we,Ee[zt],Je),Nt!==null&&(he=T(Nt,he,zt),It===null?Rt=Nt:It.sibling=Nt,It=Nt);return Or&&lo(we,zt),Rt}for(Nt=p(we,Nt);zt<Ee.length;zt++)dn=pt(Nt,we,zt,Ee[zt],Je),dn!==null&&(o&&dn.alternate!==null&&Nt.delete(dn.key===null?zt:dn.key),he=T(dn,he,zt),It===null?Rt=dn:It.sibling=dn,It=dn);return o&&Nt.forEach(function(zs){return a(we,zs)}),Or&&lo(we,zt),Rt}function St(we,he,Ee,Je){var Rt=re(Ee);if(typeof Rt!="function")throw Error(r(150));if(Ee=Rt.call(Ee),Ee==null)throw Error(r(151));for(var It=Rt=null,Nt=he,zt=he=0,dn=null,sr=Ee.next();Nt!==null&&!sr.done;zt++,sr=Ee.next()){Nt.index>zt?(dn=Nt,Nt=null):dn=Nt.sibling;var zs=Le(we,Nt,sr.value,Je);if(zs===null){Nt===null&&(Nt=dn);break}o&&Nt&&zs.alternate===null&&a(we,Nt),he=T(zs,he,zt),It===null?Rt=zs:It.sibling=zs,It=zs,Nt=dn}if(sr.done)return u(we,Nt),Or&&lo(we,zt),Rt;if(Nt===null){for(;!sr.done;zt++,sr=Ee.next())sr=Ye(we,sr.value,Je),sr!==null&&(he=T(sr,he,zt),It===null?Rt=sr:It.sibling=sr,It=sr);return Or&&lo(we,zt),Rt}for(Nt=p(we,Nt);!sr.done;zt++,sr=Ee.next())sr=pt(Nt,we,zt,sr.value,Je),sr!==null&&(o&&sr.alternate!==null&&Nt.delete(sr.key===null?zt:sr.key),he=T(sr,he,zt),It===null?Rt=sr:It.sibling=sr,It=sr);return o&&Nt.forEach(function(rC){return a(we,rC)}),Or&&lo(we,zt),Rt}function Kr(we,he,Ee,Je){if(typeof Ee=="object"&&Ee!==null&&Ee.type===j&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case P:e:{for(var Rt=Ee.key,It=he;It!==null;){if(It.key===Rt){if(Rt=Ee.type,Rt===j){if(It.tag===7){u(we,It.sibling),he=v(It,Ee.props.children),he.return=we,we=he;break e}}else if(It.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===ie&&ny(Rt)===It.type){u(we,It.sibling),he=v(It,Ee.props),he.ref=Cl(we,It,Ee),he.return=we,we=he;break e}u(we,It);break}else a(we,It);It=It.sibling}Ee.type===j?(he=_o(Ee.props.children,we.mode,Je,Ee.key),he.return=we,we=he):(Je=Xu(Ee.type,Ee.key,Ee.props,null,we.mode,Je),Je.ref=Cl(we,he,Ee),Je.return=we,we=Je)}return L(we);case I:e:{for(It=Ee.key;he!==null;){if(he.key===It)if(he.tag===4&&he.stateNode.containerInfo===Ee.containerInfo&&he.stateNode.implementation===Ee.implementation){u(we,he.sibling),he=v(he,Ee.children||[]),he.return=we,we=he;break e}else{u(we,he);break}else a(we,he);he=he.sibling}he=Op(Ee,we.mode,Je),he.return=we,we=he}return L(we);case ie:return It=Ee._init,Kr(we,he,It(Ee._payload),Je)}if(Lt(Ee))return wt(we,he,Ee,Je);if(re(Ee))return St(we,he,Ee,Je);Su(we,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,he!==null&&he.tag===6?(u(we,he.sibling),he=v(he,Ee),he.return=we,we=he):(u(we,he),he=Np(Ee,we.mode,Je),he.return=we,we=he),L(we)):u(we,he)}return Kr}var ua=iy(!0),sy=iy(!1),Tu=Ms(null),Eu=null,fa=null,Vh=null;function Wh(){Vh=fa=Eu=null}function Hh(o){var a=Tu.current;kr(Tu),o._currentValue=a}function Xh(o,a,u){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===u)break;o=o.return}}function da(o,a){Eu=o,Vh=fa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&($n=!0),o.firstContext=null)}function ai(o){var a=o._currentValue;if(Vh!==o)if(o={context:o,memoizedValue:a,next:null},fa===null){if(Eu===null)throw Error(r(308));fa=o,Eu.dependencies={lanes:0,firstContext:o}}else fa=fa.next=o;return a}var co=null;function Yh(o){co===null?co=[o]:co.push(o)}function oy(o,a,u,p){var v=a.interleaved;return v===null?(u.next=u,Yh(a)):(u.next=v.next,v.next=u),a.interleaved=u,ls(o,p)}function ls(o,a){o.lanes|=a;var u=o.alternate;for(u!==null&&(u.lanes|=a),u=o,o=o.return;o!==null;)o.childLanes|=a,u=o.alternate,u!==null&&(u.childLanes|=a),u=o,o=o.return;return u.tag===3?u.stateNode:null}var Ns=!1;function Kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ay(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function cs(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Os(o,a,u){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,ir&2){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,ls(o,u)}return v=p.interleaved,v===null?(a.next=a,Yh(p)):(a.next=v.next,v.next=a),p.interleaved=a,ls(o,u)}function Ru(o,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,$(o,u)}}function ly(o,a){var u=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var L={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};T===null?v=T=L:T=T.next=L,u=u.next}while(u!==null);T===null?v=T=a:T=T.next=a}else v=T=a;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:p.shared,effects:p.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=a:o.next=a,u.lastBaseUpdate=a}function xu(o,a,u,p){var v=o.updateQueue;Ns=!1;var T=v.firstBaseUpdate,L=v.lastBaseUpdate,ne=v.shared.pending;if(ne!==null){v.shared.pending=null;var fe=ne,Ce=fe.next;fe.next=null,L===null?T=Ce:L.next=Ce,L=fe;var We=o.alternate;We!==null&&(We=We.updateQueue,ne=We.lastBaseUpdate,ne!==L&&(ne===null?We.firstBaseUpdate=Ce:ne.next=Ce,We.lastBaseUpdate=fe))}if(T!==null){var Ye=v.baseState;L=0,We=Ce=fe=null,ne=T;do{var Le=ne.lane,pt=ne.eventTime;if((p&Le)===Le){We!==null&&(We=We.next={eventTime:pt,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var wt=o,St=ne;switch(Le=a,pt=u,St.tag){case 1:if(wt=St.payload,typeof wt=="function"){Ye=wt.call(pt,Ye,Le);break e}Ye=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=St.payload,Le=typeof wt=="function"?wt.call(pt,Ye,Le):wt,Le==null)break e;Ye=ye({},Ye,Le);break e;case 2:Ns=!0}}ne.callback!==null&&ne.lane!==0&&(o.flags|=64,Le=v.effects,Le===null?v.effects=[ne]:Le.push(ne))}else pt={eventTime:pt,lane:Le,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},We===null?(Ce=We=pt,fe=Ye):We=We.next=pt,L|=Le;if(ne=ne.next,ne===null){if(ne=v.shared.pending,ne===null)break;Le=ne,ne=Le.next,Le.next=null,v.lastBaseUpdate=Le,v.shared.pending=null}}while(!0);if(We===null&&(fe=Ye),v.baseState=fe,v.firstBaseUpdate=Ce,v.lastBaseUpdate=We,a=v.shared.interleaved,a!==null){v=a;do L|=v.lane,v=v.next;while(v!==a)}else T===null&&(v.shared.lanes=0);ho|=L,o.lanes=L,o.memoizedState=Ye}}function cy(o,a,u){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(r(191,v));v.call(p)}}}var Al={},Bi=Ms(Al),Pl=Ms(Al),Ml=Ms(Al);function uo(o){if(o===Al)throw Error(r(174));return o}function qh(o,a){switch(xr(Ml,a),xr(Pl,o),xr(Bi,Al),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:dt(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=dt(a,o)}kr(Bi),xr(Bi,a)}function ha(){kr(Bi),kr(Pl),kr(Ml)}function uy(o){uo(Ml.current);var a=uo(Bi.current),u=dt(a,o.type);a!==u&&(xr(Pl,o),xr(Bi,u))}function Zh(o){Pl.current===o&&(kr(Bi),kr(Pl))}var Br=Ms(0);function Cu(o){for(var a=o;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qh=[];function Jh(){for(var o=0;o<Qh.length;o++)Qh[o]._workInProgressVersionPrimary=null;Qh.length=0}var Au=R.ReactCurrentDispatcher,Gh=R.ReactCurrentBatchConfig,fo=0,Ur=null,an=null,un=null,Pu=!1,kl=!1,Il=0,Rx=0;function Rn(){throw Error(r(321))}function ep(o,a){if(a===null)return!1;for(var u=0;u<a.length&&u<o.length;u++)if(!Ti(o[u],a[u]))return!1;return!0}function tp(o,a,u,p,v,T){if(fo=T,Ur=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Au.current=o===null||o.memoizedState===null?Px:Mx,o=u(p,v),kl){T=0;do{if(kl=!1,Il=0,25<=T)throw Error(r(301));T+=1,un=an=null,a.updateQueue=null,Au.current=kx,o=u(p,v)}while(kl)}if(Au.current=Iu,a=an!==null&&an.next!==null,fo=0,un=an=Ur=null,Pu=!1,a)throw Error(r(300));return o}function rp(){var o=Il!==0;return Il=0,o}function Ui(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ur.memoizedState=un=o:un=un.next=o,un}function li(){if(an===null){var o=Ur.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var a=un===null?Ur.memoizedState:un.next;if(a!==null)un=a,an=o;else{if(o===null)throw Error(r(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},un===null?Ur.memoizedState=un=o:un=un.next=o}return un}function Nl(o,a){return typeof a=="function"?a(o):a}function np(o){var a=li(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=an,v=p.baseQueue,T=u.pending;if(T!==null){if(v!==null){var L=v.next;v.next=T.next,T.next=L}p.baseQueue=v=T,u.pending=null}if(v!==null){T=v.next,p=p.baseState;var ne=L=null,fe=null,Ce=T;do{var We=Ce.lane;if((fo&We)===We)fe!==null&&(fe=fe.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),p=Ce.hasEagerState?Ce.eagerState:o(p,Ce.action);else{var Ye={lane:We,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};fe===null?(ne=fe=Ye,L=p):fe=fe.next=Ye,Ur.lanes|=We,ho|=We}Ce=Ce.next}while(Ce!==null&&Ce!==T);fe===null?L=p:fe.next=ne,Ti(p,a.memoizedState)||($n=!0),a.memoizedState=p,a.baseState=L,a.baseQueue=fe,u.lastRenderedState=p}if(o=u.interleaved,o!==null){v=o;do T=v.lane,Ur.lanes|=T,ho|=T,v=v.next;while(v!==o)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function ip(o){var a=li(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=u.dispatch,v=u.pending,T=a.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do T=o(T,L.action),L=L.next;while(L!==v);Ti(T,a.memoizedState)||($n=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,p]}function fy(){}function dy(o,a){var u=Ur,p=li(),v=a(),T=!Ti(p.memoizedState,v);if(T&&(p.memoizedState=v,$n=!0),p=p.queue,sp(gy.bind(null,u,p,o),[o]),p.getSnapshot!==a||T||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,Ol(9,py.bind(null,u,p,v,a),void 0,null),fn===null)throw Error(r(349));fo&30||hy(u,a,v)}return v}function hy(o,a,u){o.flags|=16384,o={getSnapshot:a,value:u},a=Ur.updateQueue,a===null?(a={lastEffect:null,stores:null},Ur.updateQueue=a,a.stores=[o]):(u=a.stores,u===null?a.stores=[o]:u.push(o))}function py(o,a,u,p){a.value=u,a.getSnapshot=p,my(a)&&_y(o)}function gy(o,a,u){return u(function(){my(a)&&_y(o)})}function my(o){var a=o.getSnapshot;o=o.value;try{var u=a();return!Ti(o,u)}catch{return!0}}function _y(o){var a=ls(o,1);a!==null&&Ai(a,o,1,-1)}function yy(o){var a=Ui();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:o},a.queue=o,o=o.dispatch=Ax.bind(null,Ur,o),[a.memoizedState,o]}function Ol(o,a,u,p){return o={tag:o,create:a,destroy:u,deps:p,next:null},a=Ur.updateQueue,a===null?(a={lastEffect:null,stores:null},Ur.updateQueue=a,a.lastEffect=o.next=o):(u=a.lastEffect,u===null?a.lastEffect=o.next=o:(p=u.next,u.next=o,o.next=p,a.lastEffect=o)),o}function vy(){return li().memoizedState}function Mu(o,a,u,p){var v=Ui();Ur.flags|=o,v.memoizedState=Ol(1|a,u,void 0,p===void 0?null:p)}function ku(o,a,u,p){var v=li();p=p===void 0?null:p;var T=void 0;if(an!==null){var L=an.memoizedState;if(T=L.destroy,p!==null&&ep(p,L.deps)){v.memoizedState=Ol(a,u,T,p);return}}Ur.flags|=o,v.memoizedState=Ol(1|a,u,T,p)}function wy(o,a){return Mu(8390656,8,o,a)}function sp(o,a){return ku(2048,8,o,a)}function by(o,a){return ku(4,2,o,a)}function Sy(o,a){return ku(4,4,o,a)}function Ty(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Ey(o,a,u){return u=u!=null?u.concat([o]):null,ku(4,4,Ty.bind(null,a,o),u)}function op(){}function Ry(o,a){var u=li();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&ep(a,p[1])?p[0]:(u.memoizedState=[o,a],o)}function xy(o,a){var u=li();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&ep(a,p[1])?p[0]:(o=o(),u.memoizedState=[o,a],o)}function Cy(o,a,u){return fo&21?(Ti(u,a)||(u=Ln(),Ur.lanes|=u,ho|=u,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,$n=!0),o.memoizedState=u)}function xx(o,a){var u=Y;Y=u!==0&&4>u?u:4,o(!0);var p=Gh.transition;Gh.transition={};try{o(!1),a()}finally{Y=u,Gh.transition=p}}function Ay(){return li().memoizedState}function Cx(o,a,u){var p=Us(o);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Py(o))My(a,u);else if(u=oy(o,a,u,p),u!==null){var v=Nn();Ai(u,o,p,v),ky(u,a,p)}}function Ax(o,a,u){var p=Us(o),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Py(o))My(a,v);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var L=a.lastRenderedState,ne=T(L,u);if(v.hasEagerState=!0,v.eagerState=ne,Ti(ne,L)){var fe=a.interleaved;fe===null?(v.next=v,Yh(a)):(v.next=fe.next,fe.next=v),a.interleaved=v;return}}catch{}finally{}u=oy(o,a,v,p),u!==null&&(v=Nn(),Ai(u,o,p,v),ky(u,a,p))}}function Py(o){var a=o.alternate;return o===Ur||a!==null&&a===Ur}function My(o,a){kl=Pu=!0;var u=o.pending;u===null?a.next=a:(a.next=u.next,u.next=a),o.pending=a}function ky(o,a,u){if(u&4194240){var p=a.lanes;p&=o.pendingLanes,u|=p,a.lanes=u,$(o,u)}}var Iu={readContext:ai,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},Px={readContext:ai,useCallback:function(o,a){return Ui().memoizedState=[o,a===void 0?null:a],o},useContext:ai,useEffect:wy,useImperativeHandle:function(o,a,u){return u=u!=null?u.concat([o]):null,Mu(4194308,4,Ty.bind(null,a,o),u)},useLayoutEffect:function(o,a){return Mu(4194308,4,o,a)},useInsertionEffect:function(o,a){return Mu(4,2,o,a)},useMemo:function(o,a){var u=Ui();return a=a===void 0?null:a,o=o(),u.memoizedState=[o,a],o},useReducer:function(o,a,u){var p=Ui();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=Cx.bind(null,Ur,o),[p.memoizedState,o]},useRef:function(o){var a=Ui();return o={current:o},a.memoizedState=o},useState:yy,useDebugValue:op,useDeferredValue:function(o){return Ui().memoizedState=o},useTransition:function(){var o=yy(!1),a=o[0];return o=xx.bind(null,o[1]),Ui().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,u){var p=Ur,v=Ui();if(Or){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),fn===null)throw Error(r(349));fo&30||hy(p,a,u)}v.memoizedState=u;var T={value:u,getSnapshot:a};return v.queue=T,wy(gy.bind(null,p,T,o),[o]),p.flags|=2048,Ol(9,py.bind(null,p,T,u,a),void 0,null),u},useId:function(){var o=Ui(),a=fn.identifierPrefix;if(Or){var u=as,p=os;u=(p&~(1<<32-kt(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=Il++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=Rx++,a=":"+a+"r"+u.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},Mx={readContext:ai,useCallback:Ry,useContext:ai,useEffect:sp,useImperativeHandle:Ey,useInsertionEffect:by,useLayoutEffect:Sy,useMemo:xy,useReducer:np,useRef:vy,useState:function(){return np(Nl)},useDebugValue:op,useDeferredValue:function(o){var a=li();return Cy(a,an.memoizedState,o)},useTransition:function(){var o=np(Nl)[0],a=li().memoizedState;return[o,a]},useMutableSource:fy,useSyncExternalStore:dy,useId:Ay,unstable_isNewReconciler:!1},kx={readContext:ai,useCallback:Ry,useContext:ai,useEffect:sp,useImperativeHandle:Ey,useInsertionEffect:by,useLayoutEffect:Sy,useMemo:xy,useReducer:ip,useRef:vy,useState:function(){return ip(Nl)},useDebugValue:op,useDeferredValue:function(o){var a=li();return an===null?a.memoizedState=o:Cy(a,an.memoizedState,o)},useTransition:function(){var o=ip(Nl)[0],a=li().memoizedState;return[o,a]},useMutableSource:fy,useSyncExternalStore:dy,useId:Ay,unstable_isNewReconciler:!1};function Ri(o,a){if(o&&o.defaultProps){a=ye({},a),o=o.defaultProps;for(var u in o)a[u]===void 0&&(a[u]=o[u]);return a}return a}function ap(o,a,u,p){a=o.memoizedState,u=u(p,a),u=u==null?a:ye({},a,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Nu={isMounted:function(o){return(o=o._reactInternals)?Te(o)===o:!1},enqueueSetState:function(o,a,u){o=o._reactInternals;var p=Nn(),v=Us(o),T=cs(p,v);T.payload=a,u!=null&&(T.callback=u),a=Os(o,T,v),a!==null&&(Ai(a,o,v,p),Ru(a,o,v))},enqueueReplaceState:function(o,a,u){o=o._reactInternals;var p=Nn(),v=Us(o),T=cs(p,v);T.tag=1,T.payload=a,u!=null&&(T.callback=u),a=Os(o,T,v),a!==null&&(Ai(a,o,v,p),Ru(a,o,v))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var u=Nn(),p=Us(o),v=cs(u,p);v.tag=2,a!=null&&(v.callback=a),a=Os(o,v,p),a!==null&&(Ai(a,o,p,u),Ru(a,o,p))}};function Iy(o,a,u,p,v,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,T,L):a.prototype&&a.prototype.isPureReactComponent?!wl(u,p)||!wl(v,T):!0}function Ny(o,a,u){var p=!1,v=ks,T=a.contextType;return typeof T=="object"&&T!==null?T=ai(T):(v=zn(a)?oo:En.current,p=a.contextTypes,T=(p=p!=null)?oa(o,v):ks),a=new a(u,T),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nu,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=T),a}function Oy(o,a,u,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==o&&Nu.enqueueReplaceState(a,a.state,null)}function lp(o,a,u,p){var v=o.stateNode;v.props=u,v.state=o.memoizedState,v.refs={},Kh(o);var T=a.contextType;typeof T=="object"&&T!==null?v.context=ai(T):(T=zn(a)?oo:En.current,v.context=oa(o,T)),v.state=o.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ap(o,a,T,u),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Nu.enqueueReplaceState(v,v.state,null),xu(o,u,v,p),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function pa(o,a){try{var u="",p=a;do u+=de(p),p=p.return;while(p);var v=u}catch(T){v=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:a,stack:v,digest:null}}function cp(o,a,u){return{value:o,source:null,stack:u??null,digest:a??null}}function up(o,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var Ix=typeof WeakMap=="function"?WeakMap:Map;function Fy(o,a,u){u=cs(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){ju||(ju=!0,Rp=p),up(o,a)},u}function Dy(o,a,u){u=cs(-1,u),u.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;u.payload=function(){return p(v)},u.callback=function(){up(o,a)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(u.callback=function(){up(o,a),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),u}function By(o,a,u){var p=o.pingCache;if(p===null){p=o.pingCache=new Ix;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(u)||(v.add(u),o=Xx.bind(null,o,a,u),a.then(o,o))}function Uy(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function Ly(o,a,u,p,v){return o.mode&1?(o.flags|=65536,o.lanes=v,o):(o===a?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=cs(-1,1),a.tag=2,Os(u,a,1))),u.lanes|=1),o)}var Nx=R.ReactCurrentOwner,$n=!1;function In(o,a,u,p){a.child=o===null?sy(a,null,u,p):ua(a,o.child,u,p)}function jy(o,a,u,p,v){u=u.render;var T=a.ref;return da(a,v),p=tp(o,a,u,p,T,v),u=rp(),o!==null&&!$n?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,us(o,a,v)):(Or&&u&&Uh(a),a.flags|=1,In(o,a,p,v),a.child)}function zy(o,a,u,p,v){if(o===null){var T=u.type;return typeof T=="function"&&!Ip(T)&&T.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=T,$y(o,a,T,p,v)):(o=Xu(u.type,null,p,a,a.mode,v),o.ref=a.ref,o.return=a,a.child=o)}if(T=o.child,!(o.lanes&v)){var L=T.memoizedProps;if(u=u.compare,u=u!==null?u:wl,u(L,p)&&o.ref===a.ref)return us(o,a,v)}return a.flags|=1,o=js(T,p),o.ref=a.ref,o.return=a,a.child=o}function $y(o,a,u,p,v){if(o!==null){var T=o.memoizedProps;if(wl(T,p)&&o.ref===a.ref)if($n=!1,a.pendingProps=p=T,(o.lanes&v)!==0)o.flags&131072&&($n=!0);else return a.lanes=o.lanes,us(o,a,v)}return fp(o,a,u,p,v)}function Vy(o,a,u){var p=a.pendingProps,v=p.children,T=o!==null?o.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(ma,Jn),Jn|=u;else{if(!(u&1073741824))return o=T!==null?T.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,xr(ma,Jn),Jn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:u,xr(ma,Jn),Jn|=p}else T!==null?(p=T.baseLanes|u,a.memoizedState=null):p=u,xr(ma,Jn),Jn|=p;return In(o,a,v,u),a.child}function Wy(o,a){var u=a.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function fp(o,a,u,p,v){var T=zn(u)?oo:En.current;return T=oa(a,T),da(a,v),u=tp(o,a,u,p,T,v),p=rp(),o!==null&&!$n?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v,us(o,a,v)):(Or&&p&&Uh(a),a.flags|=1,In(o,a,u,v),a.child)}function Hy(o,a,u,p,v){if(zn(u)){var T=!0;_u(a)}else T=!1;if(da(a,v),a.stateNode===null)Fu(o,a),Ny(a,u,p),lp(a,u,p,v),p=!0;else if(o===null){var L=a.stateNode,ne=a.memoizedProps;L.props=ne;var fe=L.context,Ce=u.contextType;typeof Ce=="object"&&Ce!==null?Ce=ai(Ce):(Ce=zn(u)?oo:En.current,Ce=oa(a,Ce));var We=u.getDerivedStateFromProps,Ye=typeof We=="function"||typeof L.getSnapshotBeforeUpdate=="function";Ye||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ne!==p||fe!==Ce)&&Oy(a,L,p,Ce),Ns=!1;var Le=a.memoizedState;L.state=Le,xu(a,p,L,v),fe=a.memoizedState,ne!==p||Le!==fe||jn.current||Ns?(typeof We=="function"&&(ap(a,u,We,p),fe=a.memoizedState),(ne=Ns||Iy(a,u,ne,p,Le,fe,Ce))?(Ye||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=fe),L.props=p,L.state=fe,L.context=Ce,p=ne):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{L=a.stateNode,ay(o,a),ne=a.memoizedProps,Ce=a.type===a.elementType?ne:Ri(a.type,ne),L.props=Ce,Ye=a.pendingProps,Le=L.context,fe=u.contextType,typeof fe=="object"&&fe!==null?fe=ai(fe):(fe=zn(u)?oo:En.current,fe=oa(a,fe));var pt=u.getDerivedStateFromProps;(We=typeof pt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ne!==Ye||Le!==fe)&&Oy(a,L,p,fe),Ns=!1,Le=a.memoizedState,L.state=Le,xu(a,p,L,v);var wt=a.memoizedState;ne!==Ye||Le!==wt||jn.current||Ns?(typeof pt=="function"&&(ap(a,u,pt,p),wt=a.memoizedState),(Ce=Ns||Iy(a,u,Ce,p,Le,wt,fe)||!1)?(We||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,wt,fe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,wt,fe)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||ne===o.memoizedProps&&Le===o.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=wt),L.props=p,L.state=wt,L.context=fe,p=Ce):(typeof L.componentDidUpdate!="function"||ne===o.memoizedProps&&Le===o.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&Le===o.memoizedState||(a.flags|=1024),p=!1)}return dp(o,a,u,p,T,v)}function dp(o,a,u,p,v,T){Wy(o,a);var L=(a.flags&128)!==0;if(!p&&!L)return v&&Z_(a,u,!1),us(o,a,T);p=a.stateNode,Nx.current=a;var ne=L&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&L?(a.child=ua(a,o.child,null,T),a.child=ua(a,null,ne,T)):In(o,a,ne,T),a.memoizedState=p.state,v&&Z_(a,u,!0),a.child}function Xy(o){var a=o.stateNode;a.pendingContext?K_(o,a.pendingContext,a.pendingContext!==a.context):a.context&&K_(o,a.context,!1),qh(o,a.containerInfo)}function Yy(o,a,u,p,v){return ca(),$h(v),a.flags|=256,In(o,a,u,p),a.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function pp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ky(o,a,u){var p=a.pendingProps,v=Br.current,T=!1,L=(a.flags&128)!==0,ne;if((ne=L)||(ne=o!==null&&o.memoizedState===null?!1:(v&2)!==0),ne?(T=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),xr(Br,v&1),o===null)return zh(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(L=p.children,o=p.fallback,T?(p=a.mode,T=a.child,L={mode:"hidden",children:L},!(p&1)&&T!==null?(T.childLanes=0,T.pendingProps=L):T=Yu(L,p,0,null),o=_o(o,p,u,null),T.return=a,o.return=a,T.sibling=o,a.child=T,a.child.memoizedState=pp(u),a.memoizedState=hp,o):gp(a,L));if(v=o.memoizedState,v!==null&&(ne=v.dehydrated,ne!==null))return Ox(o,a,L,p,ne,v,u);if(T){T=p.fallback,L=a.mode,v=o.child,ne=v.sibling;var fe={mode:"hidden",children:p.children};return!(L&1)&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=fe,a.deletions=null):(p=js(v,fe),p.subtreeFlags=v.subtreeFlags&14680064),ne!==null?T=js(ne,T):(T=_o(T,L,u,null),T.flags|=2),T.return=a,p.return=a,p.sibling=T,a.child=p,p=T,T=a.child,L=o.child.memoizedState,L=L===null?pp(u):{baseLanes:L.baseLanes|u,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=o.childLanes&~u,a.memoizedState=hp,p}return T=o.child,o=T.sibling,p=js(T,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=u),p.return=a,p.sibling=null,o!==null&&(u=a.deletions,u===null?(a.deletions=[o],a.flags|=16):u.push(o)),a.child=p,a.memoizedState=null,p}function gp(o,a){return a=Yu({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Ou(o,a,u,p){return p!==null&&$h(p),ua(a,o.child,null,u),o=gp(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Ox(o,a,u,p,v,T,L){if(u)return a.flags&256?(a.flags&=-257,p=cp(Error(r(422))),Ou(o,a,L,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(T=p.fallback,v=a.mode,p=Yu({mode:"visible",children:p.children},v,0,null),T=_o(T,v,L,null),T.flags|=2,p.return=a,T.return=a,p.sibling=T,a.child=p,a.mode&1&&ua(a,o.child,null,L),a.child.memoizedState=pp(L),a.memoizedState=hp,T);if(!(a.mode&1))return Ou(o,a,L,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var ne=p.dgst;return p=ne,T=Error(r(419)),p=cp(T,p,void 0),Ou(o,a,L,p)}if(ne=(L&o.childLanes)!==0,$n||ne){if(p=fn,p!==null){switch(L&-L){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(p.suspendedLanes|L)?0:v,v!==0&&v!==T.retryLane&&(T.retryLane=v,ls(o,v),Ai(p,o,v,-1))}return kp(),p=cp(Error(r(421))),Ou(o,a,L,p)}return v.data==="$?"?(a.flags|=128,a.child=o.child,a=Yx.bind(null,o),v._reactRetry=a,null):(o=T.treeContext,Qn=Ps(v.nextSibling),Zn=a,Or=!0,Ei=null,o!==null&&(si[oi++]=os,si[oi++]=as,si[oi++]=ao,os=o.id,as=o.overflow,ao=a),a=gp(a,p.children),a.flags|=4096,a)}function qy(o,a,u){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),Xh(o.return,a,u)}function mp(o,a,u,p,v){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=u,T.tailMode=v)}function Zy(o,a,u){var p=a.pendingProps,v=p.revealOrder,T=p.tail;if(In(o,a,p.children,u),p=Br.current,p&2)p=p&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qy(o,u,a);else if(o.tag===19)qy(o,u,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(xr(Br,p),!(a.mode&1))a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)o=u.alternate,o!==null&&Cu(o)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),mp(a,!1,v,u,T);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(o=v.alternate,o!==null&&Cu(o)===null){a.child=v;break}o=v.sibling,v.sibling=u,u=v,v=o}mp(a,!0,u,null,T);break;case"together":mp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Fu(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function us(o,a,u){if(o!==null&&(a.dependencies=o.dependencies),ho|=a.lanes,!(u&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(r(153));if(a.child!==null){for(o=a.child,u=js(o,o.pendingProps),a.child=u,u.return=a;o.sibling!==null;)o=o.sibling,u=u.sibling=js(o,o.pendingProps),u.return=a;u.sibling=null}return a.child}function Fx(o,a,u){switch(a.tag){case 3:Xy(a),ca();break;case 5:uy(a);break;case 1:zn(a.type)&&_u(a);break;case 4:qh(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;xr(Tu,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(xr(Br,Br.current&1),a.flags|=128,null):u&a.child.childLanes?Ky(o,a,u):(xr(Br,Br.current&1),o=us(o,a,u),o!==null?o.sibling:null);xr(Br,Br.current&1);break;case 19:if(p=(u&a.childLanes)!==0,o.flags&128){if(p)return Zy(o,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),xr(Br,Br.current),p)break;return null;case 22:case 23:return a.lanes=0,Vy(o,a,u)}return us(o,a,u)}var Qy,_p,Jy,Gy;Qy=function(o,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},_p=function(){},Jy=function(o,a,u,p){var v=o.memoizedProps;if(v!==p){o=a.stateNode,uo(Bi.current);var T=null;switch(u){case"input":v=et(o,v),p=et(o,p),T=[];break;case"select":v=ye({},v,{value:void 0}),p=ye({},p,{value:void 0}),T=[];break;case"textarea":v=rt(o,v),p=rt(o,p),T=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=pu)}Ke(u,p);var L;u=null;for(Ce in v)if(!p.hasOwnProperty(Ce)&&v.hasOwnProperty(Ce)&&v[Ce]!=null)if(Ce==="style"){var ne=v[Ce];for(L in ne)ne.hasOwnProperty(L)&&(u||(u={}),u[L]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(i.hasOwnProperty(Ce)?T||(T=[]):(T=T||[]).push(Ce,null));for(Ce in p){var fe=p[Ce];if(ne=v!=null?v[Ce]:void 0,p.hasOwnProperty(Ce)&&fe!==ne&&(fe!=null||ne!=null))if(Ce==="style")if(ne){for(L in ne)!ne.hasOwnProperty(L)||fe&&fe.hasOwnProperty(L)||(u||(u={}),u[L]="");for(L in fe)fe.hasOwnProperty(L)&&ne[L]!==fe[L]&&(u||(u={}),u[L]=fe[L])}else u||(T||(T=[]),T.push(Ce,u)),u=fe;else Ce==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ne=ne?ne.__html:void 0,fe!=null&&ne!==fe&&(T=T||[]).push(Ce,fe)):Ce==="children"?typeof fe!="string"&&typeof fe!="number"||(T=T||[]).push(Ce,""+fe):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ce)?(fe!=null&&Ce==="onScroll"&&Mr("scroll",o),T||ne===fe||(T=[])):(T=T||[]).push(Ce,fe))}u&&(T=T||[]).push("style",u);var Ce=T;(a.updateQueue=Ce)&&(a.flags|=4)}},Gy=function(o,a,u,p){u!==p&&(a.flags|=4)};function Fl(o,a){if(!Or)switch(o.tailMode){case"hidden":a=o.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function xn(o){var a=o.alternate!==null&&o.alternate.child===o.child,u=0,p=0;if(a)for(var v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=p,o.childLanes=u,a}function Dx(o,a,u){var p=a.pendingProps;switch(Lh(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(a),null;case 1:return zn(a.type)&&mu(),xn(a),null;case 3:return p=a.stateNode,ha(),kr(jn),kr(En),Jh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(bu(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Ei!==null&&(Ap(Ei),Ei=null))),_p(o,a),xn(a),null;case 5:Zh(a);var v=uo(Ml.current);if(u=a.type,o!==null&&a.stateNode!=null)Jy(o,a,u,p,v),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(r(166));return xn(a),null}if(o=uo(Bi.current),bu(a)){p=a.stateNode,u=a.type;var T=a.memoizedProps;switch(p[Di]=a,p[Rl]=T,o=(a.mode&1)!==0,u){case"dialog":Mr("cancel",p),Mr("close",p);break;case"iframe":case"object":case"embed":Mr("load",p);break;case"video":case"audio":for(v=0;v<Sl.length;v++)Mr(Sl[v],p);break;case"source":Mr("error",p);break;case"img":case"image":case"link":Mr("error",p),Mr("load",p);break;case"details":Mr("toggle",p);break;case"input":Mt(p,T),Mr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!T.multiple},Mr("invalid",p);break;case"textarea":ur(p,T),Mr("invalid",p)}Ke(u,T),v=null;for(var L in T)if(T.hasOwnProperty(L)){var ne=T[L];L==="children"?typeof ne=="string"?p.textContent!==ne&&(T.suppressHydrationWarning!==!0&&hu(p.textContent,ne,o),v=["children",ne]):typeof ne=="number"&&p.textContent!==""+ne&&(T.suppressHydrationWarning!==!0&&hu(p.textContent,ne,o),v=["children",""+ne]):i.hasOwnProperty(L)&&ne!=null&&L==="onScroll"&&Mr("scroll",p)}switch(u){case"input":ot(p),xt(p,T,!0);break;case"textarea":ot(p),Fe(p);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(p.onclick=pu)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{L=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Qe(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=L.createElement(u,{is:p.is}):(o=L.createElement(u),u==="select"&&(L=o,p.multiple?L.multiple=!0:p.size&&(L.size=p.size))):o=L.createElementNS(o,u),o[Di]=a,o[Rl]=p,Qy(o,a,!1,!1),a.stateNode=o;e:{switch(L=Et(u,p),u){case"dialog":Mr("cancel",o),Mr("close",o),v=p;break;case"iframe":case"object":case"embed":Mr("load",o),v=p;break;case"video":case"audio":for(v=0;v<Sl.length;v++)Mr(Sl[v],o);v=p;break;case"source":Mr("error",o),v=p;break;case"img":case"image":case"link":Mr("error",o),Mr("load",o),v=p;break;case"details":Mr("toggle",o),v=p;break;case"input":Mt(o,p),v=et(o,p),Mr("invalid",o);break;case"option":v=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},v=ye({},p,{value:void 0}),Mr("invalid",o);break;case"textarea":ur(o,p),v=rt(o,p),Mr("invalid",o);break;default:v=p}Ke(u,v),ne=v;for(T in ne)if(ne.hasOwnProperty(T)){var fe=ne[T];T==="style"?Zt(o,fe):T==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Ot(o,fe)):T==="children"?typeof fe=="string"?(u!=="textarea"||fe!=="")&&ct(o,fe):typeof fe=="number"&&ct(o,""+fe):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?fe!=null&&T==="onScroll"&&Mr("scroll",o):fe!=null&&M(o,T,fe,L))}switch(u){case"input":ot(o),xt(o,p,!1);break;case"textarea":ot(o),Fe(o);break;case"option":p.value!=null&&o.setAttribute("value",""+Be(p.value));break;case"select":o.multiple=!!p.multiple,T=p.value,T!=null?gt(o,!!p.multiple,T,!1):p.defaultValue!=null&&gt(o,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=pu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return xn(a),null;case 6:if(o&&a.stateNode!=null)Gy(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(r(166));if(u=uo(Ml.current),uo(Bi.current),bu(a)){if(p=a.stateNode,u=a.memoizedProps,p[Di]=a,(T=p.nodeValue!==u)&&(o=Zn,o!==null))switch(o.tag){case 3:hu(p.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&hu(p.nodeValue,u,(o.mode&1)!==0)}T&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Di]=a,a.stateNode=p}return xn(a),null;case 13:if(kr(Br),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Or&&Qn!==null&&a.mode&1&&!(a.flags&128))ry(),ca(),a.flags|=98560,T=!1;else if(T=bu(a),p!==null&&p.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Di]=a}else ca(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;xn(a),T=!1}else Ei!==null&&(Ap(Ei),Ei=null),T=!0;if(!T)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(o===null||Br.current&1?ln===0&&(ln=3):kp())),a.updateQueue!==null&&(a.flags|=4),xn(a),null);case 4:return ha(),_p(o,a),o===null&&Tl(a.stateNode.containerInfo),xn(a),null;case 10:return Hh(a.type._context),xn(a),null;case 17:return zn(a.type)&&mu(),xn(a),null;case 19:if(kr(Br),T=a.memoizedState,T===null)return xn(a),null;if(p=(a.flags&128)!==0,L=T.rendering,L===null)if(p)Fl(T,!1);else{if(ln!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(L=Cu(o),L!==null){for(a.flags|=128,Fl(T,!1),p=L.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)T=u,o=p,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,o=L.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return xr(Br,Br.current&1|2),a.child}o=o.sibling}T.tail!==null&&it()>_a&&(a.flags|=128,p=!0,Fl(T,!1),a.lanes=4194304)}else{if(!p)if(o=Cu(L),o!==null){if(a.flags|=128,p=!0,u=o.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Fl(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Or)return xn(a),null}else 2*it()-T.renderingStartTime>_a&&u!==1073741824&&(a.flags|=128,p=!0,Fl(T,!1),a.lanes=4194304);T.isBackwards?(L.sibling=a.child,a.child=L):(u=T.last,u!==null?u.sibling=L:a.child=L,T.last=L)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=it(),a.sibling=null,u=Br.current,xr(Br,p?u&1|2:u&1),a):(xn(a),null);case 22:case 23:return Mp(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Jn&1073741824&&(xn(a),a.subtreeFlags&6&&(a.flags|=8192)):xn(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function Bx(o,a){switch(Lh(a),a.tag){case 1:return zn(a.type)&&mu(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ha(),kr(jn),kr(En),Jh(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return Zh(a),null;case 13:if(kr(Br),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ca()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return kr(Br),null;case 4:return ha(),null;case 10:return Hh(a.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var Du=!1,Cn=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,_t=null;function ga(o,a){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){jr(o,a,p)}else u.current=null}function yp(o,a,u){try{u()}catch(p){jr(o,a,p)}}var ev=!1;function Lx(o,a){if(Mh=ru,o=I_(),Sh(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var L=0,ne=-1,fe=-1,Ce=0,We=0,Ye=o,Le=null;t:for(;;){for(var pt;Ye!==u||v!==0&&Ye.nodeType!==3||(ne=L+v),Ye!==T||p!==0&&Ye.nodeType!==3||(fe=L+p),Ye.nodeType===3&&(L+=Ye.nodeValue.length),(pt=Ye.firstChild)!==null;)Le=Ye,Ye=pt;for(;;){if(Ye===o)break t;if(Le===u&&++Ce===v&&(ne=L),Le===T&&++We===p&&(fe=L),(pt=Ye.nextSibling)!==null)break;Ye=Le,Le=Ye.parentNode}Ye=pt}u=ne===-1||fe===-1?null:{start:ne,end:fe}}else u=null}u=u||{start:0,end:0}}else u=null;for(kh={focusedElem:o,selectionRange:u},ru=!1,_t=a;_t!==null;)if(a=_t,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,_t=o;else for(;_t!==null;){a=_t;try{var wt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var St=wt.memoizedProps,Kr=wt.memoizedState,we=a.stateNode,he=we.getSnapshotBeforeUpdate(a.elementType===a.type?St:Ri(a.type,St),Kr);we.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var Ee=a.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){jr(a,a.return,Je)}if(o=a.sibling,o!==null){o.return=a.return,_t=o;break}_t=a.return}return wt=ev,ev=!1,wt}function Dl(o,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&o)===o){var T=v.destroy;v.destroy=void 0,T!==void 0&&yp(a,u,T)}v=v.next}while(v!==p)}}function Bu(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&o)===o){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function vp(o){var a=o.ref;if(a!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof a=="function"?a(o):a.current=o}}function tv(o){var a=o.alternate;a!==null&&(o.alternate=null,tv(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Di],delete a[Rl],delete a[Fh],delete a[bx],delete a[Sx])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function rv(o){return o.tag===5||o.tag===3||o.tag===4}function nv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||rv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function wp(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(o,a):u.insertBefore(o,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(o,u)):(a=u,a.appendChild(o)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=pu));else if(p!==4&&(o=o.child,o!==null))for(wp(o,a,u),o=o.sibling;o!==null;)wp(o,a,u),o=o.sibling}function bp(o,a,u){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?u.insertBefore(o,a):u.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(bp(o,a,u),o=o.sibling;o!==null;)bp(o,a,u),o=o.sibling}var mn=null,xi=!1;function Fs(o,a,u){for(u=u.child;u!==null;)iv(o,a,u),u=u.sibling}function iv(o,a,u){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(je,u)}catch{}switch(u.tag){case 5:Cn||ga(u,a);case 6:var p=mn,v=xi;mn=null,Fs(o,a,u),mn=p,xi=v,mn!==null&&(xi?(o=mn,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&(xi?(o=mn,u=u.stateNode,o.nodeType===8?Oh(o.parentNode,u):o.nodeType===1&&Oh(o,u),pl(o)):Oh(mn,u.stateNode));break;case 4:p=mn,v=xi,mn=u.stateNode.containerInfo,xi=!0,Fs(o,a,u),mn=p,xi=v;break;case 0:case 11:case 14:case 15:if(!Cn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var T=v,L=T.destroy;T=T.tag,L!==void 0&&(T&2||T&4)&&yp(u,a,L),v=v.next}while(v!==p)}Fs(o,a,u);break;case 1:if(!Cn&&(ga(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(ne){jr(u,a,ne)}Fs(o,a,u);break;case 21:Fs(o,a,u);break;case 22:u.mode&1?(Cn=(p=Cn)||u.memoizedState!==null,Fs(o,a,u),Cn=p):Fs(o,a,u);break;default:Fs(o,a,u)}}function sv(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new Ux),a.forEach(function(p){var v=Kx.bind(null,o,p);u.has(p)||(u.add(p),p.then(v,v))})}}function Ci(o,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var T=o,L=a,ne=L;e:for(;ne!==null;){switch(ne.tag){case 5:mn=ne.stateNode,xi=!1;break e;case 3:mn=ne.stateNode.containerInfo,xi=!0;break e;case 4:mn=ne.stateNode.containerInfo,xi=!0;break e}ne=ne.return}if(mn===null)throw Error(r(160));iv(T,L,v),mn=null,xi=!1;var fe=v.alternate;fe!==null&&(fe.return=null),v.return=null}catch(Ce){jr(v,a,Ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ov(a,o),a=a.sibling}function ov(o,a){var u=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ci(a,o),Li(o),p&4){try{Dl(3,o,o.return),Bu(3,o)}catch(St){jr(o,o.return,St)}try{Dl(5,o,o.return)}catch(St){jr(o,o.return,St)}}break;case 1:Ci(a,o),Li(o),p&512&&u!==null&&ga(u,u.return);break;case 5:if(Ci(a,o),Li(o),p&512&&u!==null&&ga(u,u.return),o.flags&32){var v=o.stateNode;try{ct(v,"")}catch(St){jr(o,o.return,St)}}if(p&4&&(v=o.stateNode,v!=null)){var T=o.memoizedProps,L=u!==null?u.memoizedProps:T,ne=o.type,fe=o.updateQueue;if(o.updateQueue=null,fe!==null)try{ne==="input"&&T.type==="radio"&&T.name!=null&&Ut(v,T),Et(ne,L);var Ce=Et(ne,T);for(L=0;L<fe.length;L+=2){var We=fe[L],Ye=fe[L+1];We==="style"?Zt(v,Ye):We==="dangerouslySetInnerHTML"?Ot(v,Ye):We==="children"?ct(v,Ye):M(v,We,Ye,Ce)}switch(ne){case"input":bt(v,T);break;case"textarea":qt(v,T);break;case"select":var Le=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!T.multiple;var pt=T.value;pt!=null?gt(v,!!T.multiple,pt,!1):Le!==!!T.multiple&&(T.defaultValue!=null?gt(v,!!T.multiple,T.defaultValue,!0):gt(v,!!T.multiple,T.multiple?[]:"",!1))}v[Rl]=T}catch(St){jr(o,o.return,St)}}break;case 6:if(Ci(a,o),Li(o),p&4){if(o.stateNode===null)throw Error(r(162));v=o.stateNode,T=o.memoizedProps;try{v.nodeValue=T}catch(St){jr(o,o.return,St)}}break;case 3:if(Ci(a,o),Li(o),p&4&&u!==null&&u.memoizedState.isDehydrated)try{pl(a.containerInfo)}catch(St){jr(o,o.return,St)}break;case 4:Ci(a,o),Li(o);break;case 13:Ci(a,o),Li(o),v=o.child,v.flags&8192&&(T=v.memoizedState!==null,v.stateNode.isHidden=T,!T||v.alternate!==null&&v.alternate.memoizedState!==null||(Ep=it())),p&4&&sv(o);break;case 22:if(We=u!==null&&u.memoizedState!==null,o.mode&1?(Cn=(Ce=Cn)||We,Ci(a,o),Cn=Ce):Ci(a,o),Li(o),p&8192){if(Ce=o.memoizedState!==null,(o.stateNode.isHidden=Ce)&&!We&&o.mode&1)for(_t=o,We=o.child;We!==null;){for(Ye=_t=We;_t!==null;){switch(Le=_t,pt=Le.child,Le.tag){case 0:case 11:case 14:case 15:Dl(4,Le,Le.return);break;case 1:ga(Le,Le.return);var wt=Le.stateNode;if(typeof wt.componentWillUnmount=="function"){p=Le,u=Le.return;try{a=p,wt.props=a.memoizedProps,wt.state=a.memoizedState,wt.componentWillUnmount()}catch(St){jr(p,u,St)}}break;case 5:ga(Le,Le.return);break;case 22:if(Le.memoizedState!==null){cv(Ye);continue}}pt!==null?(pt.return=Le,_t=pt):cv(Ye)}We=We.sibling}e:for(We=null,Ye=o;;){if(Ye.tag===5){if(We===null){We=Ye;try{v=Ye.stateNode,Ce?(T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(ne=Ye.stateNode,fe=Ye.memoizedProps.style,L=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ne.style.display=Gt("display",L))}catch(St){jr(o,o.return,St)}}}else if(Ye.tag===6){if(We===null)try{Ye.stateNode.nodeValue=Ce?"":Ye.memoizedProps}catch(St){jr(o,o.return,St)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===o)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===o)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===o)break e;We===Ye&&(We=null),Ye=Ye.return}We===Ye&&(We=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Ci(a,o),Li(o),p&4&&sv(o);break;case 21:break;default:Ci(a,o),Li(o)}}function Li(o){var a=o.flags;if(a&2){try{e:{for(var u=o.return;u!==null;){if(rv(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(ct(v,""),p.flags&=-33);var T=nv(o);bp(o,T,v);break;case 3:case 4:var L=p.stateNode.containerInfo,ne=nv(o);wp(o,ne,L);break;default:throw Error(r(161))}}catch(fe){jr(o,o.return,fe)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function jx(o,a,u){_t=o,av(o)}function av(o,a,u){for(var p=(o.mode&1)!==0;_t!==null;){var v=_t,T=v.child;if(v.tag===22&&p){var L=v.memoizedState!==null||Du;if(!L){var ne=v.alternate,fe=ne!==null&&ne.memoizedState!==null||Cn;ne=Du;var Ce=Cn;if(Du=L,(Cn=fe)&&!Ce)for(_t=v;_t!==null;)L=_t,fe=L.child,L.tag===22&&L.memoizedState!==null?uv(v):fe!==null?(fe.return=L,_t=fe):uv(v);for(;T!==null;)_t=T,av(T),T=T.sibling;_t=v,Du=ne,Cn=Ce}lv(o)}else v.subtreeFlags&8772&&T!==null?(T.return=v,_t=T):lv(o)}}function lv(o){for(;_t!==null;){var a=_t;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Cn||Bu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Cn)if(u===null)p.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Ri(a.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&cy(a,T,p);break;case 3:var L=a.updateQueue;if(L!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}cy(a,L,u)}break;case 5:var ne=a.stateNode;if(u===null&&a.flags&4){u=ne;var fe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&u.focus();break;case"img":fe.src&&(u.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Ce=a.alternate;if(Ce!==null){var We=Ce.memoizedState;if(We!==null){var Ye=We.dehydrated;Ye!==null&&pl(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Cn||a.flags&512&&vp(a)}catch(Le){jr(a,a.return,Le)}}if(a===o){_t=null;break}if(u=a.sibling,u!==null){u.return=a.return,_t=u;break}_t=a.return}}function cv(o){for(;_t!==null;){var a=_t;if(a===o){_t=null;break}var u=a.sibling;if(u!==null){u.return=a.return,_t=u;break}_t=a.return}}function uv(o){for(;_t!==null;){var a=_t;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Bu(4,a)}catch(fe){jr(a,u,fe)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(fe){jr(a,v,fe)}}var T=a.return;try{vp(a)}catch(fe){jr(a,T,fe)}break;case 5:var L=a.return;try{vp(a)}catch(fe){jr(a,L,fe)}}}catch(fe){jr(a,a.return,fe)}if(a===o){_t=null;break}var ne=a.sibling;if(ne!==null){ne.return=a.return,_t=ne;break}_t=a.return}}var zx=Math.ceil,Uu=R.ReactCurrentDispatcher,Sp=R.ReactCurrentOwner,ci=R.ReactCurrentBatchConfig,ir=0,fn=null,Jr=null,_n=0,Jn=0,ma=Ms(0),ln=0,Bl=null,ho=0,Lu=0,Tp=0,Ul=null,Vn=null,Ep=0,_a=1/0,fs=null,ju=!1,Rp=null,Ds=null,zu=!1,Bs=null,$u=0,Ll=0,xp=null,Vu=-1,Wu=0;function Nn(){return ir&6?it():Vu!==-1?Vu:Vu=it()}function Us(o){return o.mode&1?ir&2&&_n!==0?_n&-_n:Ex.transition!==null?(Wu===0&&(Wu=Ln()),Wu):(o=Y,o!==0||(o=window.event,o=o===void 0?16:d_(o.type)),o):1}function Ai(o,a,u,p){if(50<Ll)throw Ll=0,xp=null,Error(r(185));ii(o,u,p),(!(ir&2)||o!==fn)&&(o===fn&&(!(ir&2)&&(Lu|=u),ln===4&&Ls(o,_n)),Wn(o,p),u===1&&ir===0&&!(a.mode&1)&&(_a=it()+500,yu&&Is()))}function Wn(o,a){var u=o.callbackNode;gr(o,a);var p=Kt(o,o===fn?_n:0);if(p===0)u!==null&&At(u),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(u!=null&&At(u),a===1)o.tag===0?Tx(dv.bind(null,o)):Q_(dv.bind(null,o)),vx(function(){!(ir&6)&&Is()}),u=null;else{switch(le(p)){case 1:u=U;break;case 4:u=pe;break;case 16:u=Pe;break;case 536870912:u=Ge;break;default:u=Pe}u=wv(u,fv.bind(null,o))}o.callbackPriority=a,o.callbackNode=u}}function fv(o,a){if(Vu=-1,Wu=0,ir&6)throw Error(r(327));var u=o.callbackNode;if(ya()&&o.callbackNode!==u)return null;var p=Kt(o,o===fn?_n:0);if(p===0)return null;if(p&30||p&o.expiredLanes||a)a=Hu(o,p);else{a=p;var v=ir;ir|=2;var T=pv();(fn!==o||_n!==a)&&(fs=null,_a=it()+500,go(o,a));do try{Wx();break}catch(ne){hv(o,ne)}while(!0);Wh(),Uu.current=T,ir=v,Jr!==null?a=0:(fn=null,_n=0,a=ln)}if(a!==0){if(a===2&&(v=Un(o),v!==0&&(p=v,a=Cp(o,v))),a===1)throw u=Bl,go(o,0),Ls(o,p),Wn(o,it()),u;if(a===6)Ls(o,p);else{if(v=o.current.alternate,!(p&30)&&!$x(v)&&(a=Hu(o,p),a===2&&(T=Un(o),T!==0&&(p=T,a=Cp(o,T))),a===1))throw u=Bl,go(o,0),Ls(o,p),Wn(o,it()),u;switch(o.finishedWork=v,o.finishedLanes=p,a){case 0:case 1:throw Error(r(345));case 2:mo(o,Vn,fs);break;case 3:if(Ls(o,p),(p&130023424)===p&&(a=Ep+500-it(),10<a)){if(Kt(o,0)!==0)break;if(v=o.suspendedLanes,(v&p)!==p){Nn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Nh(mo.bind(null,o,Vn,fs),a);break}mo(o,Vn,fs);break;case 4:if(Ls(o,p),(p&4194240)===p)break;for(a=o.eventTimes,v=-1;0<p;){var L=31-kt(p);T=1<<L,L=a[L],L>v&&(v=L),p&=~T}if(p=v,p=it()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*zx(p/1960))-p,10<p){o.timeoutHandle=Nh(mo.bind(null,o,Vn,fs),p);break}mo(o,Vn,fs);break;case 5:mo(o,Vn,fs);break;default:throw Error(r(329))}}}return Wn(o,it()),o.callbackNode===u?fv.bind(null,o):null}function Cp(o,a){var u=Ul;return o.current.memoizedState.isDehydrated&&(go(o,a).flags|=256),o=Hu(o,a),o!==2&&(a=Vn,Vn=u,a!==null&&Ap(a)),o}function Ap(o){Vn===null?Vn=o:Vn.push.apply(Vn,o)}function $x(o){for(var a=o;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],T=v.getSnapshot;v=v.value;try{if(!Ti(T(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ls(o,a){for(a&=~Tp,a&=~Lu,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var u=31-kt(a),p=1<<u;o[u]=-1,a&=~p}}function dv(o){if(ir&6)throw Error(r(327));ya();var a=Kt(o,0);if(!(a&1))return Wn(o,it()),null;var u=Hu(o,a);if(o.tag!==0&&u===2){var p=Un(o);p!==0&&(a=p,u=Cp(o,p))}if(u===1)throw u=Bl,go(o,0),Ls(o,a),Wn(o,it()),u;if(u===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,mo(o,Vn,fs),Wn(o,it()),null}function Pp(o,a){var u=ir;ir|=1;try{return o(a)}finally{ir=u,ir===0&&(_a=it()+500,yu&&Is())}}function po(o){Bs!==null&&Bs.tag===0&&!(ir&6)&&ya();var a=ir;ir|=1;var u=ci.transition,p=Y;try{if(ci.transition=null,Y=1,o)return o()}finally{Y=p,ci.transition=u,ir=a,!(ir&6)&&Is()}}function Mp(){Jn=ma.current,kr(ma)}function go(o,a){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,yx(u)),Jr!==null)for(u=Jr.return;u!==null;){var p=u;switch(Lh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&mu();break;case 3:ha(),kr(jn),kr(En),Jh();break;case 5:Zh(p);break;case 4:ha();break;case 13:kr(Br);break;case 19:kr(Br);break;case 10:Hh(p.type._context);break;case 22:case 23:Mp()}u=u.return}if(fn=o,Jr=o=js(o.current,null),_n=Jn=a,ln=0,Bl=null,Tp=Lu=ho=0,Vn=Ul=null,co!==null){for(a=0;a<co.length;a++)if(u=co[a],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,T=u.pending;if(T!==null){var L=T.next;T.next=v,p.next=L}u.pending=p}co=null}return o}function hv(o,a){do{var u=Jr;try{if(Wh(),Au.current=Iu,Pu){for(var p=Ur.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Pu=!1}if(fo=0,un=an=Ur=null,kl=!1,Il=0,Sp.current=null,u===null||u.return===null){ln=1,Bl=a,Jr=null;break}e:{var T=o,L=u.return,ne=u,fe=a;if(a=_n,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ce=fe,We=ne,Ye=We.tag;if(!(We.mode&1)&&(Ye===0||Ye===11||Ye===15)){var Le=We.alternate;Le?(We.updateQueue=Le.updateQueue,We.memoizedState=Le.memoizedState,We.lanes=Le.lanes):(We.updateQueue=null,We.memoizedState=null)}var pt=Uy(L);if(pt!==null){pt.flags&=-257,Ly(pt,L,ne,T,a),pt.mode&1&&By(T,Ce,a),a=pt,fe=Ce;var wt=a.updateQueue;if(wt===null){var St=new Set;St.add(fe),a.updateQueue=St}else wt.add(fe);break e}else{if(!(a&1)){By(T,Ce,a),kp();break e}fe=Error(r(426))}}else if(Or&&ne.mode&1){var Kr=Uy(L);if(Kr!==null){!(Kr.flags&65536)&&(Kr.flags|=256),Ly(Kr,L,ne,T,a),$h(pa(fe,ne));break e}}T=fe=pa(fe,ne),ln!==4&&(ln=2),Ul===null?Ul=[T]:Ul.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var we=Fy(T,fe,a);ly(T,we);break e;case 1:ne=fe;var he=T.type,Ee=T.stateNode;if(!(T.flags&128)&&(typeof he.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Ds===null||!Ds.has(Ee)))){T.flags|=65536,a&=-a,T.lanes|=a;var Je=Dy(T,ne,a);ly(T,Je);break e}}T=T.return}while(T!==null)}mv(u)}catch(Rt){a=Rt,Jr===u&&u!==null&&(Jr=u=u.return);continue}break}while(!0)}function pv(){var o=Uu.current;return Uu.current=Iu,o===null?Iu:o}function kp(){(ln===0||ln===3||ln===2)&&(ln=4),fn===null||!(ho&268435455)&&!(Lu&268435455)||Ls(fn,_n)}function Hu(o,a){var u=ir;ir|=2;var p=pv();(fn!==o||_n!==a)&&(fs=null,go(o,a));do try{Vx();break}catch(v){hv(o,v)}while(!0);if(Wh(),ir=u,Uu.current=p,Jr!==null)throw Error(r(261));return fn=null,_n=0,ln}function Vx(){for(;Jr!==null;)gv(Jr)}function Wx(){for(;Jr!==null&&!ar();)gv(Jr)}function gv(o){var a=vv(o.alternate,o,Jn);o.memoizedProps=o.pendingProps,a===null?mv(o):Jr=a,Sp.current=null}function mv(o){var a=o;do{var u=a.alternate;if(o=a.return,a.flags&32768){if(u=Bx(u,a),u!==null){u.flags&=32767,Jr=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ln=6,Jr=null;return}}else if(u=Dx(u,a,Jn),u!==null){Jr=u;return}if(a=a.sibling,a!==null){Jr=a;return}Jr=a=o}while(a!==null);ln===0&&(ln=5)}function mo(o,a,u){var p=Y,v=ci.transition;try{ci.transition=null,Y=1,Hx(o,a,u,p)}finally{ci.transition=v,Y=p}return null}function Hx(o,a,u,p){do ya();while(Bs!==null);if(ir&6)throw Error(r(327));u=o.finishedWork;var v=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=u.lanes|u.childLanes;if(Ts(o,T),o===fn&&(Jr=fn=null,_n=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||zu||(zu=!0,wv(Pe,function(){return ya(),null})),T=(u.flags&15990)!==0,u.subtreeFlags&15990||T){T=ci.transition,ci.transition=null;var L=Y;Y=1;var ne=ir;ir|=4,Sp.current=null,Lx(o,u),ov(u,o),fx(kh),ru=!!Mh,kh=Mh=null,o.current=u,jx(u),vt(),ir=ne,Y=L,ci.transition=T}else o.current=u;if(zu&&(zu=!1,Bs=o,$u=v),T=o.pendingLanes,T===0&&(Ds=null),mt(u.stateNode),Wn(o,it()),a!==null)for(p=o.onRecoverableError,u=0;u<a.length;u++)v=a[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(ju)throw ju=!1,o=Rp,Rp=null,o;return $u&1&&o.tag!==0&&ya(),T=o.pendingLanes,T&1?o===xp?Ll++:(Ll=0,xp=o):Ll=0,Is(),null}function ya(){if(Bs!==null){var o=le($u),a=ci.transition,u=Y;try{if(ci.transition=null,Y=16>o?16:o,Bs===null)var p=!1;else{if(o=Bs,Bs=null,$u=0,ir&6)throw Error(r(331));var v=ir;for(ir|=4,_t=o.current;_t!==null;){var T=_t,L=T.child;if(_t.flags&16){var ne=T.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var Ce=ne[fe];for(_t=Ce;_t!==null;){var We=_t;switch(We.tag){case 0:case 11:case 15:Dl(8,We,T)}var Ye=We.child;if(Ye!==null)Ye.return=We,_t=Ye;else for(;_t!==null;){We=_t;var Le=We.sibling,pt=We.return;if(tv(We),We===Ce){_t=null;break}if(Le!==null){Le.return=pt,_t=Le;break}_t=pt}}}var wt=T.alternate;if(wt!==null){var St=wt.child;if(St!==null){wt.child=null;do{var Kr=St.sibling;St.sibling=null,St=Kr}while(St!==null)}}_t=T}}if(T.subtreeFlags&2064&&L!==null)L.return=T,_t=L;else e:for(;_t!==null;){if(T=_t,T.flags&2048)switch(T.tag){case 0:case 11:case 15:Dl(9,T,T.return)}var we=T.sibling;if(we!==null){we.return=T.return,_t=we;break e}_t=T.return}}var he=o.current;for(_t=he;_t!==null;){L=_t;var Ee=L.child;if(L.subtreeFlags&2064&&Ee!==null)Ee.return=L,_t=Ee;else e:for(L=he;_t!==null;){if(ne=_t,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:Bu(9,ne)}}catch(Rt){jr(ne,ne.return,Rt)}if(ne===L){_t=null;break e}var Je=ne.sibling;if(Je!==null){Je.return=ne.return,_t=Je;break e}_t=ne.return}}if(ir=v,Is(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(je,o)}catch{}p=!0}return p}finally{Y=u,ci.transition=a}}return!1}function _v(o,a,u){a=pa(u,a),a=Fy(o,a,1),o=Os(o,a,1),a=Nn(),o!==null&&(ii(o,1,a),Wn(o,a))}function jr(o,a,u){if(o.tag===3)_v(o,o,u);else for(;a!==null;){if(a.tag===3){_v(a,o,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ds===null||!Ds.has(p))){o=pa(u,o),o=Dy(a,o,1),a=Os(a,o,1),o=Nn(),a!==null&&(ii(a,1,o),Wn(a,o));break}}a=a.return}}function Xx(o,a,u){var p=o.pingCache;p!==null&&p.delete(a),a=Nn(),o.pingedLanes|=o.suspendedLanes&u,fn===o&&(_n&u)===u&&(ln===4||ln===3&&(_n&130023424)===_n&&500>it()-Ep?go(o,0):Tp|=u),Wn(o,a)}function yv(o,a){a===0&&(o.mode&1?(a=jt,jt<<=1,!(jt&130023424)&&(jt=4194304)):a=1);var u=Nn();o=ls(o,a),o!==null&&(ii(o,a,u),Wn(o,u))}function Yx(o){var a=o.memoizedState,u=0;a!==null&&(u=a.retryLane),yv(o,u)}function Kx(o,a){var u=0;switch(o.tag){case 13:var p=o.stateNode,v=o.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(a),yv(o,u)}var vv;vv=function(o,a,u){if(o!==null)if(o.memoizedProps!==a.pendingProps||jn.current)$n=!0;else{if(!(o.lanes&u)&&!(a.flags&128))return $n=!1,Fx(o,a,u);$n=!!(o.flags&131072)}else $n=!1,Or&&a.flags&1048576&&J_(a,wu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Fu(o,a),o=a.pendingProps;var v=oa(a,En.current);da(a,u),v=tp(null,a,p,o,v,u);var T=rp();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,zn(p)?(T=!0,_u(a)):T=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Kh(a),v.updater=Nu,a.stateNode=v,v._reactInternals=a,lp(a,p,o,u),a=dp(null,a,p,!0,T,u)):(a.tag=0,Or&&T&&Uh(a),In(null,a,v,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Fu(o,a),o=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=Zx(p),o=Ri(p,o),v){case 0:a=fp(null,a,p,o,u);break e;case 1:a=Hy(null,a,p,o,u);break e;case 11:a=jy(null,a,p,o,u);break e;case 14:a=zy(null,a,p,Ri(p.type,o),u);break e}throw Error(r(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Ri(p,v),fp(o,a,p,v,u);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Ri(p,v),Hy(o,a,p,v,u);case 3:e:{if(Xy(a),o===null)throw Error(r(387));p=a.pendingProps,T=a.memoizedState,v=T.element,ay(o,a),xu(a,p,null,u);var L=a.memoizedState;if(p=L.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){v=pa(Error(r(423)),a),a=Yy(o,a,p,u,v);break e}else if(p!==v){v=pa(Error(r(424)),a),a=Yy(o,a,p,u,v);break e}else for(Qn=Ps(a.stateNode.containerInfo.firstChild),Zn=a,Or=!0,Ei=null,u=sy(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ca(),p===v){a=us(o,a,u);break e}In(o,a,p,u)}a=a.child}return a;case 5:return uy(a),o===null&&zh(a),p=a.type,v=a.pendingProps,T=o!==null?o.memoizedProps:null,L=v.children,Ih(p,v)?L=null:T!==null&&Ih(p,T)&&(a.flags|=32),Wy(o,a),In(o,a,L,u),a.child;case 6:return o===null&&zh(a),null;case 13:return Ky(o,a,u);case 4:return qh(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=ua(a,null,p,u):In(o,a,p,u),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Ri(p,v),jy(o,a,p,v,u);case 7:return In(o,a,a.pendingProps,u),a.child;case 8:return In(o,a,a.pendingProps.children,u),a.child;case 12:return In(o,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,T=a.memoizedProps,L=v.value,xr(Tu,p._currentValue),p._currentValue=L,T!==null)if(Ti(T.value,L)){if(T.children===v.children&&!jn.current){a=us(o,a,u);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var ne=T.dependencies;if(ne!==null){L=T.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===p){if(T.tag===1){fe=cs(-1,u&-u),fe.tag=2;var Ce=T.updateQueue;if(Ce!==null){Ce=Ce.shared;var We=Ce.pending;We===null?fe.next=fe:(fe.next=We.next,We.next=fe),Ce.pending=fe}}T.lanes|=u,fe=T.alternate,fe!==null&&(fe.lanes|=u),Xh(T.return,u,a),ne.lanes|=u;break}fe=fe.next}}else if(T.tag===10)L=T.type===a.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(r(341));L.lanes|=u,ne=L.alternate,ne!==null&&(ne.lanes|=u),Xh(L,u,a),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===a){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}In(o,a,v.children,u),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,da(a,u),v=ai(v),p=p(v),a.flags|=1,In(o,a,p,u),a.child;case 14:return p=a.type,v=Ri(p,a.pendingProps),v=Ri(p.type,v),zy(o,a,p,v,u);case 15:return $y(o,a,a.type,a.pendingProps,u);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Ri(p,v),Fu(o,a),a.tag=1,zn(p)?(o=!0,_u(a)):o=!1,da(a,u),Ny(a,p,v),lp(a,p,v,u),dp(null,a,p,!0,o,u);case 19:return Zy(o,a,u);case 22:return Vy(o,a,u)}throw Error(r(156,a.tag))};function wv(o,a){return Ct(o,a)}function qx(o,a,u,p){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(o,a,u,p){return new qx(o,a,u,p)}function Ip(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zx(o){if(typeof o=="function")return Ip(o)?1:0;if(o!=null){if(o=o.$$typeof,o===K)return 11;if(o===J)return 14}return 2}function js(o,a){var u=o.alternate;return u===null?(u=ui(o.tag,a,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=a,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,a=o.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Xu(o,a,u,p,v,T){var L=2;if(p=o,typeof o=="function")Ip(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case j:return _o(u.children,v,T,a);case te:L=8,v|=8;break;case oe:return o=ui(12,u,a,v|2),o.elementType=oe,o.lanes=T,o;case V:return o=ui(13,u,a,v),o.elementType=V,o.lanes=T,o;case Q:return o=ui(19,u,a,v),o.elementType=Q,o.lanes=T,o;case ve:return Yu(u,v,T,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:L=10;break e;case F:L=9;break e;case K:L=11;break e;case J:L=14;break e;case ie:L=16,p=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return a=ui(L,u,a,v),a.elementType=o,a.type=p,a.lanes=T,a}function _o(o,a,u,p){return o=ui(7,o,p,a),o.lanes=u,o}function Yu(o,a,u,p){return o=ui(22,o,p,a),o.elementType=ve,o.lanes=u,o.stateNode={isHidden:!1},o}function Np(o,a,u){return o=ui(6,o,null,a),o.lanes=u,o}function Op(o,a,u){return a=ui(4,o.children!==null?o.children:[],o.key,a),a.lanes=u,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Qx(o,a,u,p,v){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Fp(o,a,u,p,v,T,L,ne,fe){return o=new Qx(o,a,u,ne,fe),a===1?(a=1,T===!0&&(a|=8)):a=0,T=ui(3,null,null,a),o.current=T,T.stateNode=o,T.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(T),o}function Jx(o,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:p==null?null:""+p,children:o,containerInfo:a,implementation:u}}function bv(o){if(!o)return ks;o=o._reactInternals;e:{if(Te(o)!==o||o.tag!==1)throw Error(r(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(zn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(o.tag===1){var u=o.type;if(zn(u))return q_(o,u,a)}return a}function Sv(o,a,u,p,v,T,L,ne,fe){return o=Fp(u,p,!0,o,v,T,L,ne,fe),o.context=bv(null),u=o.current,p=Nn(),v=Us(u),T=cs(p,v),T.callback=a??null,Os(u,T,v),o.current.lanes=v,ii(o,v,p),Wn(o,p),o}function Ku(o,a,u,p){var v=a.current,T=Nn(),L=Us(v);return u=bv(u),a.context===null?a.context=u:a.pendingContext=u,a=cs(T,L),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Os(v,a,L),o!==null&&(Ai(o,v,L,T),Ru(o,v,L)),L}function qu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Tv(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<a?u:a}}function Dp(o,a){Tv(o,a),(o=o.alternate)&&Tv(o,a)}var Ev=typeof reportError=="function"?reportError:function(o){console.error(o)};function Bp(o){this._internalRoot=o}Zu.prototype.render=Bp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(r(409));Ku(o,a,null,null)},Zu.prototype.unmount=Bp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;po(function(){Ku(null,o,null,null)}),a[is]=null}};function Zu(o){this._internalRoot=o}Zu.prototype.unstable_scheduleHydration=function(o){if(o){var a=Qt();o={blockedOn:null,target:o,priority:a};for(var u=0;u<xs.length&&a!==0&&a<xs[u].priority;u++);xs.splice(u,0,o),u===0&&u_(o)}};function Up(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Qu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function Gx(o,a,u,p,v){if(v){if(typeof p=="function"){var T=p;p=function(){var Ce=qu(L);T.call(Ce)}}var L=Sv(a,p,o,0,null,!1,!1,"",Rv);return o._reactRootContainer=L,o[is]=L.current,Tl(o.nodeType===8?o.parentNode:o),po(),L}for(;v=o.lastChild;)o.removeChild(v);if(typeof p=="function"){var ne=p;p=function(){var Ce=qu(fe);ne.call(Ce)}}var fe=Fp(o,0,!1,null,null,!1,!1,"",Rv);return o._reactRootContainer=fe,o[is]=fe.current,Tl(o.nodeType===8?o.parentNode:o),po(function(){Ku(a,fe,u,p)}),fe}function Ju(o,a,u,p,v){var T=u._reactRootContainer;if(T){var L=T;if(typeof v=="function"){var ne=v;v=function(){var fe=qu(L);ne.call(fe)}}Ku(a,L,o,v)}else L=Gx(u,a,o,v,p);return qu(L)}Re=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var u=ft(a.pendingLanes);u!==0&&($(a,u|1),Wn(a,it()),!(ir&6)&&(_a=it()+500,Is()))}break;case 13:po(function(){var p=ls(o,1);if(p!==null){var v=Nn();Ai(p,o,1,v)}}),Dp(o,1)}},ze=function(o){if(o.tag===13){var a=ls(o,134217728);if(a!==null){var u=Nn();Ai(a,o,134217728,u)}Dp(o,134217728)}},ht=function(o){if(o.tag===13){var a=Us(o),u=ls(o,a);if(u!==null){var p=Nn();Ai(u,o,a,p)}Dp(o,a)}},Qt=function(){return Y},Xr=function(o,a){var u=Y;try{return Y=o,a()}finally{Y=u}},Pr=function(o,a,u){switch(a){case"input":if(bt(o,u),a=u.name,u.type==="radio"&&a!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==o&&p.form===o.form){var v=gu(p);if(!v)throw Error(r(90));qe(p),bt(p,v)}}}break;case"textarea":qt(o,u);break;case"select":a=u.value,a!=null&&gt(o,!!u.multiple,a,!1)}},Wr=Pp,D=po;var eC={usingClientEntryPoint:!1,Events:[xl,ia,gu,nn,_r,Pp]},jl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ve(o),o===null?null:o.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{je=Gu.inject(tC),lt=Gu}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC,Hn.createPortal=function(o,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(a))throw Error(r(200));return Jx(o,a,null,u)},Hn.createRoot=function(o,a){if(!Up(o))throw Error(r(299));var u=!1,p="",v=Ev;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Fp(o,1,!1,null,null,u,!1,p,v),o[is]=a.current,Tl(o.nodeType===8?o.parentNode:o),new Bp(a)},Hn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Ve(a),o=o===null?null:o.stateNode,o},Hn.flushSync=function(o){return po(o)},Hn.hydrate=function(o,a,u){if(!Qu(a))throw Error(r(200));return Ju(null,o,a,!0,u)},Hn.hydrateRoot=function(o,a,u){if(!Up(o))throw Error(r(405));var p=u!=null&&u.hydratedSources||null,v=!1,T="",L=Ev;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),a=Sv(a,null,o,1,u??null,v,!1,T,L),o[is]=a.current,Tl(o),p)for(o=0;o<p.length;o++)u=p[o],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new Zu(a)},Hn.render=function(o,a,u){if(!Qu(a))throw Error(r(200));return Ju(null,o,a,!1,u)},Hn.unmountComponentAtNode=function(o){if(!Qu(o))throw Error(r(40));return o._reactRootContainer?(po(function(){Ju(null,null,o,!1,function(){o._reactRootContainer=null,o[is]=null})}),!0):!1},Hn.unstable_batchedUpdates=Pp,Hn.unstable_renderSubtreeIntoContainer=function(o,a,u,p){if(!Qu(u))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Ju(o,a,u,!1,p)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var Fv;function pS(){if(Fv)return Wp.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=uC(),Wp.exports}var Dv;function fC(){if(Dv)return tf;Dv=1;var t=pS();return tf.createRoot=t.createRoot,tf.hydrateRoot=t.hydrateRoot,tf}var dC=fC();const Ec={black:"#000",white:"#fff"},va={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wa={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ba={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Sa={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},$l={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rc={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function vs(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const Uc="$$material";function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bf.apply(null,arguments)}var hC=!1;function pC(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gC(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mC=function(){function t(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!hC:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gC(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pC(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pn="-ms-",Uf="-moz-",lr="-webkit-",gS="comm",l0="rule",c0="decl",_C="@import",mS="@keyframes",yC="@layer",vC=Math.abs,Id=String.fromCharCode,wC=Object.assign;function bC(t,e){return bn(t,0)^45?(((e<<2^bn(t,0))<<2^bn(t,1))<<2^bn(t,2))<<2^bn(t,3):0}function _S(t){return t.trim()}function SC(t,e){return(t=e.exec(t))?t[0]:t}function cr(t,e,r){return t.replace(e,r)}function Gg(t,e){return t.indexOf(e)}function bn(t,e){return t.charCodeAt(e)|0}function xc(t,e,r){return t.slice(e,r)}function Yi(t){return t.length}function u0(t){return t.length}function rf(t,e){return e.push(t),t}function TC(t,e){return t.map(e).join("")}var Nd=1,Ka=1,yS=0,Yn=0,tn=0,sl="";function Od(t,e,r,n,i,s,l){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Nd,column:Ka,length:l,return:""}}function Vl(t,e){return wC(Od("",null,null,"",null,null,0),t,{length:-t.length},e)}function EC(){return tn}function RC(){return tn=Yn>0?bn(sl,--Yn):0,Ka--,tn===10&&(Ka=1,Nd--),tn}function ni(){return tn=Yn<yS?bn(sl,Yn++):0,Ka++,tn===10&&(Ka=1,Nd++),tn}function es(){return bn(sl,Yn)}function Mf(){return Yn}function Lc(t,e){return xc(sl,t,e)}function Cc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vS(t){return Nd=Ka=1,yS=Yi(sl=t),Yn=0,[]}function wS(t){return sl="",t}function kf(t){return _S(Lc(Yn-1,em(t===91?t+2:t===40?t+1:t)))}function xC(t){for(;(tn=es())&&tn<33;)ni();return Cc(t)>2||Cc(tn)>3?"":" "}function CC(t,e){for(;--e&&ni()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return Lc(t,Mf()+(e<6&&es()==32&&ni()==32))}function em(t){for(;ni();)switch(tn){case t:return Yn;case 34:case 39:t!==34&&t!==39&&em(tn);break;case 40:t===41&&em(t);break;case 92:ni();break}return Yn}function AC(t,e){for(;ni()&&t+tn!==57;)if(t+tn===84&&es()===47)break;return"/*"+Lc(e,Yn-1)+"*"+Id(t===47?t:ni())}function PC(t){for(;!Cc(es());)ni();return Lc(t,Yn)}function MC(t){return wS(If("",null,null,null,[""],t=vS(t),0,[0],t))}function If(t,e,r,n,i,s,l,c,f){for(var h=0,y=0,b=l,w=0,x=0,A=0,E=1,k=1,O=1,N=0,M="",R=i,P=s,I=n,j=M;k;)switch(A=N,N=ni()){case 40:if(A!=108&&bn(j,b-1)==58){Gg(j+=cr(kf(N),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:j+=kf(N);break;case 9:case 10:case 13:case 32:j+=xC(A);break;case 92:j+=CC(Mf()-1,7);continue;case 47:switch(es()){case 42:case 47:rf(kC(AC(ni(),Mf()),e,r),f);break;default:j+="/"}break;case 123*E:c[h++]=Yi(j)*O;case 125*E:case 59:case 0:switch(N){case 0:case 125:k=0;case 59+y:O==-1&&(j=cr(j,/\f/g,"")),x>0&&Yi(j)-b&&rf(x>32?Uv(j+";",n,r,b-1):Uv(cr(j," ","")+";",n,r,b-2),f);break;case 59:j+=";";default:if(rf(I=Bv(j,e,r,h,y,i,c,M,R=[],P=[],b),s),N===123)if(y===0)If(j,e,I,I,R,s,b,c,P);else switch(w===99&&bn(j,3)===110?100:w){case 100:case 108:case 109:case 115:If(t,I,I,n&&rf(Bv(t,I,I,0,0,i,c,M,i,R=[],b),P),i,P,b,c,n?R:P);break;default:If(j,I,I,I,[""],P,0,c,P)}}h=y=x=0,E=O=1,M=j="",b=l;break;case 58:b=1+Yi(j),x=A;default:if(E<1){if(N==123)--E;else if(N==125&&E++==0&&RC()==125)continue}switch(j+=Id(N),N*E){case 38:O=y>0?1:(j+="\f",-1);break;case 44:c[h++]=(Yi(j)-1)*O,O=1;break;case 64:es()===45&&(j+=kf(ni())),w=es(),y=b=Yi(M=j+=PC(Mf())),N++;break;case 45:A===45&&Yi(j)==2&&(E=0)}}return s}function Bv(t,e,r,n,i,s,l,c,f,h,y){for(var b=i-1,w=i===0?s:[""],x=u0(w),A=0,E=0,k=0;A<n;++A)for(var O=0,N=xc(t,b+1,b=vC(E=l[A])),M=t;O<x;++O)(M=_S(E>0?w[O]+" "+N:cr(N,/&\f/g,w[O])))&&(f[k++]=M);return Od(t,e,r,i===0?l0:c,f,h,y)}function kC(t,e,r){return Od(t,e,r,gS,Id(EC()),xc(t,2,-2),0)}function Uv(t,e,r,n){return Od(t,e,r,c0,xc(t,0,n),xc(t,n+1,-1),n)}function $a(t,e){for(var r="",n=u0(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function IC(t,e,r,n){switch(t.type){case yC:if(t.children.length)break;case _C:case c0:return t.return=t.return||t.value;case gS:return"";case mS:return t.return=t.value+"{"+$a(t.children,n)+"}";case l0:t.value=t.props.join(",")}return Yi(r=$a(t.children,n))?t.return=t.value+"{"+r+"}":""}function NC(t){var e=u0(t);return function(r,n,i,s){for(var l="",c=0;c<e;c++)l+=t[c](r,n,i,s)||"";return l}}function OC(t){return function(e){e.root||(e=e.return)&&t(e)}}function bS(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var FC=function(e,r,n){for(var i=0,s=0;i=s,s=es(),i===38&&s===12&&(r[n]=1),!Cc(s);)ni();return Lc(e,Yn)},DC=function(e,r){var n=-1,i=44;do switch(Cc(i)){case 0:i===38&&es()===12&&(r[n]=1),e[n]+=FC(Yn-1,r,n);break;case 2:e[n]+=kf(i);break;case 4:if(i===44){e[++n]=es()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Id(i)}while(i=ni());return e},BC=function(e,r){return wS(DC(vS(e),r))},Lv=new WeakMap,UC=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!Lv.get(n))&&!i){Lv.set(e,!0);for(var s=[],l=BC(r,s),c=n.props,f=0,h=0;f<l.length;f++)for(var y=0;y<c.length;y++,h++)e.props[h]=s[f]?l[f].replace(/&\f/g,c[y]):c[y]+" "+l[f]}}},LC=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function SS(t,e){switch(bC(t,e)){case 5103:return lr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lr+t+Uf+t+Pn+t+t;case 6828:case 4268:return lr+t+Pn+t+t;case 6165:return lr+t+Pn+"flex-"+t+t;case 5187:return lr+t+cr(t,/(\w+).+(:[^]+)/,lr+"box-$1$2"+Pn+"flex-$1$2")+t;case 5443:return lr+t+Pn+"flex-item-"+cr(t,/flex-|-self/,"")+t;case 4675:return lr+t+Pn+"flex-line-pack"+cr(t,/align-content|flex-|-self/,"")+t;case 5548:return lr+t+Pn+cr(t,"shrink","negative")+t;case 5292:return lr+t+Pn+cr(t,"basis","preferred-size")+t;case 6060:return lr+"box-"+cr(t,"-grow","")+lr+t+Pn+cr(t,"grow","positive")+t;case 4554:return lr+cr(t,/([^-])(transform)/g,"$1"+lr+"$2")+t;case 6187:return cr(cr(cr(t,/(zoom-|grab)/,lr+"$1"),/(image-set)/,lr+"$1"),t,"")+t;case 5495:case 3959:return cr(t,/(image-set\([^]*)/,lr+"$1$`$1");case 4968:return cr(cr(t,/(.+:)(flex-)?(.*)/,lr+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lr+t+t;case 4095:case 3583:case 4068:case 2532:return cr(t,/(.+)-inline(.+)/,lr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yi(t)-1-e>6)switch(bn(t,e+1)){case 109:if(bn(t,e+4)!==45)break;case 102:return cr(t,/(.+:)(.+)-([^]+)/,"$1"+lr+"$2-$3$1"+Uf+(bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gg(t,"stretch")?SS(cr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bn(t,e+1)!==115)break;case 6444:switch(bn(t,Yi(t)-3-(~Gg(t,"!important")&&10))){case 107:return cr(t,":",":"+lr)+t;case 101:return cr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lr+(bn(t,14)===45?"inline-":"")+"box$3$1"+lr+"$2$3$1"+Pn+"$2box$3")+t}break;case 5936:switch(bn(t,e+11)){case 114:return lr+t+Pn+cr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lr+t+Pn+cr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lr+t+Pn+cr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return lr+t+Pn+t+t}return t}var jC=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case c0:e.return=SS(e.value,e.length);break;case mS:return $a([Vl(e,{value:cr(e.value,"@","@"+lr)})],i);case l0:if(e.length)return TC(e.props,function(s){switch(SC(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $a([Vl(e,{props:[cr(s,/:(read-\w+)/,":"+Uf+"$1")]})],i);case"::placeholder":return $a([Vl(e,{props:[cr(s,/:(plac\w+)/,":"+lr+"input-$1")]}),Vl(e,{props:[cr(s,/:(plac\w+)/,":"+Uf+"$1")]}),Vl(e,{props:[cr(s,/:(plac\w+)/,Pn+"input-$1")]})],i)}return""})}},zC=[jC],$C=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(E){var k=E.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||zC,s={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(E){for(var k=E.getAttribute("data-emotion").split(" "),O=1;O<k.length;O++)s[k[O]]=!0;c.push(E)});var f,h=[UC,LC];{var y,b=[IC,OC(function(E){y.insert(E)})],w=NC(h.concat(i,b)),x=function(k){return $a(MC(k),w)};f=function(k,O,N,M){y=N,x(k?k+"{"+O.styles+"}":O.styles),M&&(A.inserted[O.name]=!0)}}var A={key:r,sheet:new mC({key:r,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:f};return A.sheet.hydrate(c),A},Yp={exports:{}},dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function VC(){if(jv)return dr;jv=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,w=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,A=t?Symbol.for("react.lazy"):60116,E=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,O=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function M(P){if(typeof P=="object"&&P!==null){var I=P.$$typeof;switch(I){case e:switch(P=P.type,P){case f:case h:case n:case s:case i:case b:return P;default:switch(P=P&&P.$$typeof,P){case c:case y:case A:case x:case l:return P;default:return I}}case r:return I}}}function R(P){return M(P)===h}return dr.AsyncMode=f,dr.ConcurrentMode=h,dr.ContextConsumer=c,dr.ContextProvider=l,dr.Element=e,dr.ForwardRef=y,dr.Fragment=n,dr.Lazy=A,dr.Memo=x,dr.Portal=r,dr.Profiler=s,dr.StrictMode=i,dr.Suspense=b,dr.isAsyncMode=function(P){return R(P)||M(P)===f},dr.isConcurrentMode=R,dr.isContextConsumer=function(P){return M(P)===c},dr.isContextProvider=function(P){return M(P)===l},dr.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},dr.isForwardRef=function(P){return M(P)===y},dr.isFragment=function(P){return M(P)===n},dr.isLazy=function(P){return M(P)===A},dr.isMemo=function(P){return M(P)===x},dr.isPortal=function(P){return M(P)===r},dr.isProfiler=function(P){return M(P)===s},dr.isStrictMode=function(P){return M(P)===i},dr.isSuspense=function(P){return M(P)===b},dr.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===n||P===h||P===s||P===i||P===b||P===w||typeof P=="object"&&P!==null&&(P.$$typeof===A||P.$$typeof===x||P.$$typeof===l||P.$$typeof===c||P.$$typeof===y||P.$$typeof===k||P.$$typeof===O||P.$$typeof===N||P.$$typeof===E)},dr.typeOf=M,dr}var zv;function WC(){return zv||(zv=1,Yp.exports=VC()),Yp.exports}var Kp,$v;function HC(){if($v)return Kp;$v=1;var t=WC(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=n,s[t.Memo]=i;function l(A){return t.isMemo(A)?i:s[A.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,w=Object.prototype;function x(A,E,k){if(typeof E!="string"){if(w){var O=b(E);O&&O!==w&&x(A,O,k)}var N=f(E);h&&(N=N.concat(h(E)));for(var M=l(A),R=l(E),P=0;P<N.length;++P){var I=N[P];if(!r[I]&&!(k&&k[I])&&!(R&&R[I])&&!(M&&M[I])){var j=y(E,I);try{c(A,I,j)}catch{}}}}return A}return Kp=x,Kp}HC();var XC=!0;function TS(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var f0=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||XC===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},d0=function(e,r,n){f0(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function YC(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var KC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qC=/[A-Z]|^ms/g,ZC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ES=function(e){return e.charCodeAt(1)===45},Vv=function(e){return e!=null&&typeof e!="boolean"},qp=bS(function(t){return ES(t)?t:t.replace(qC,"-$&").toLowerCase()}),Wv=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(ZC,function(n,i,s){return Ki={name:i,styles:s,next:Ki},i})}return KC[e]!==1&&!ES(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ac(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Ki={name:i.name,styles:i.styles,next:Ki},i.name;var s=r;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Ki={name:l.name,styles:l.styles,next:Ki},l=l.next;var c=s.styles+";";return c}return QC(t,e,r)}case"function":{if(t!==void 0){var f=Ki,h=r(t);return Ki=f,Ac(t,e,h)}break}}var y=r;if(e==null)return y;var b=e[y];return b!==void 0?b:y}function QC(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ac(t,e,r[i])+";";else for(var s in r){var l=r[s];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?n+=s+"{"+e[c]+"}":Vv(c)&&(n+=qp(s)+":"+Wv(s,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var f=0;f<l.length;f++)Vv(l[f])&&(n+=qp(s)+":"+Wv(s,l[f])+";");else{var h=Ac(t,e,l);switch(s){case"animation":case"animationName":{n+=qp(s)+":"+h+";";break}default:n+=s+"{"+h+"}"}}}return n}var Hv=/label:\s*([^\s;{]+)\s*(;|$)/g,Ki;function jc(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";Ki=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,i+=Ac(r,e,s);else{var l=s;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=Ac(r,e,t[c]),n){var f=s;i+=f[c]}Hv.lastIndex=0;for(var h="",y;(y=Hv.exec(i))!==null;)h+="-"+y[1];var b=YC(i)+h;return{name:b,styles:i,next:Ki}}var JC=function(e){return e()},RS=Jg.useInsertionEffect?Jg.useInsertionEffect:!1,xS=RS||JC,Xv=RS||B.useLayoutEffect,GC=!1,CS=B.createContext(typeof HTMLElement<"u"?$C({key:"css"}):null);CS.Provider;var h0=function(e){return B.forwardRef(function(r,n){var i=B.useContext(CS);return e(r,i,n)})},Fd=B.createContext({}),p0={}.hasOwnProperty,tm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eA=function(e,r){var n={};for(var i in r)p0.call(r,i)&&(n[i]=r[i]);return n[tm]=e,n},tA=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return f0(r,n,i),xS(function(){return d0(r,n,i)}),null},rA=h0(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[tm],s=[n],l="";typeof t.className=="string"?l=TS(e.registered,s,t.className):t.className!=null&&(l=t.className+" ");var c=jc(s,void 0,B.useContext(Fd));l+=e.key+"-"+c.name;var f={};for(var h in t)p0.call(t,h)&&h!=="css"&&h!==tm&&!GC&&(f[h]=t[h]);return f.className=l,r&&(f.ref=r),B.createElement(B.Fragment,null,B.createElement(tA,{cache:e,serialized:c,isStringTag:typeof i=="string"}),B.createElement(i,f))}),nA=rA,iA=function(e,r){var n=arguments;if(r==null||!p0.call(r,"css"))return B.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=nA,s[1]=eA(e,r);for(var l=2;l<i;l++)s[l]=n[l];return B.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(iA);var AS=h0(function(t,e){var r=t.styles,n=jc([r],void 0,B.useContext(Fd)),i=B.useRef();return Xv(function(){var s=e.key+"-global",l=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,f=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),f!==null&&(c=!0,f.setAttribute("data-emotion",s),l.hydrate([f])),i.current=[l,c],function(){l.flush()}},[e]),Xv(function(){var s=i.current,l=s[0],c=s[1];if(c){s[1]=!1;return}if(n.next!==void 0&&d0(e,n.next,!0),l.tags.length){var f=l.tags[l.tags.length-1].nextElementSibling;l.before=f,l.flush()}e.insert("",n,l,!1)},[e,n.name]),null});function g0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return jc(e)}function zc(){var t=g0.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var sA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oA=bS(function(t){return sA.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),aA=oA,lA=function(e){return e!=="theme"},Yv=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?aA:lA},Kv=function(e,r,n){var i;if(r){var s=r.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},cA=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return f0(r,n,i),xS(function(){return d0(r,n,i)}),null},uA=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,l;r!==void 0&&(s=r.label,l=r.target);var c=Kv(e,r,n),f=c||Yv(i),h=!f("as");return function(){var y=arguments,b=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&b.push("label:"+s+";"),y[0]==null||y[0].raw===void 0)b.push.apply(b,y);else{var w=y[0];b.push(w[0]);for(var x=y.length,A=1;A<x;A++)b.push(y[A],w[A])}var E=h0(function(k,O,N){var M=h&&k.as||i,R="",P=[],I=k;if(k.theme==null){I={};for(var j in k)I[j]=k[j];I.theme=B.useContext(Fd)}typeof k.className=="string"?R=TS(O.registered,P,k.className):k.className!=null&&(R=k.className+" ");var te=jc(b.concat(P),O.registered,I);R+=O.key+"-"+te.name,l!==void 0&&(R+=" "+l);var oe=h&&c===void 0?Yv(M):f,C={};for(var F in k)h&&F==="as"||oe(F)&&(C[F]=k[F]);return C.className=R,N&&(C.ref=N),B.createElement(B.Fragment,null,B.createElement(cA,{cache:O,serialized:te,isStringTag:typeof M=="string"}),B.createElement(M,C))});return E.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=b,E.__emotion_forwardProp=c,Object.defineProperty(E,"toString",{value:function(){return"."+l}}),E.withComponent=function(k,O){var N=t(k,Bf({},r,O,{shouldForwardProp:Kv(E,O,!0)}));return N.apply(void 0,b)},E}},fA=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rm=uA.bind(null);fA.forEach(function(t){rm[t]=rm(t)});function dA(t){return t==null||Object.keys(t).length===0}function hA(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(dA(i)?r:i):e;return z.jsx(AS,{styles:n})}/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function PS(t,e){return rm(t,e)}function pA(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const qv=[];function Zv(t){return qv[0]=t,jc(qv)}var Zp={exports:{}},vr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function gA(){if(Qv)return vr;Qv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),x=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var k=E.$$typeof;switch(k){case t:switch(E=E.type,E){case r:case i:case n:case f:case h:return E;default:switch(E=E&&E.$$typeof,E){case l:case c:case b:case y:return E;case s:return E;default:return k}}case e:return k}}}return vr.ContextConsumer=s,vr.ContextProvider=l,vr.Element=t,vr.ForwardRef=c,vr.Fragment=r,vr.Lazy=b,vr.Memo=y,vr.Portal=e,vr.Profiler=i,vr.StrictMode=n,vr.Suspense=f,vr.SuspenseList=h,vr.isContextConsumer=function(E){return A(E)===s},vr.isContextProvider=function(E){return A(E)===l},vr.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},vr.isForwardRef=function(E){return A(E)===c},vr.isFragment=function(E){return A(E)===r},vr.isLazy=function(E){return A(E)===b},vr.isMemo=function(E){return A(E)===y},vr.isPortal=function(E){return A(E)===e},vr.isProfiler=function(E){return A(E)===i},vr.isStrictMode=function(E){return A(E)===n},vr.isSuspense=function(E){return A(E)===f},vr.isSuspenseList=function(E){return A(E)===h},vr.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===i||E===n||E===f||E===h||E===w||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===y||E.$$typeof===l||E.$$typeof===s||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},vr.typeOf=A,vr}var Jv;function mA(){return Jv||(Jv=1,Zp.exports=gA()),Zp.exports}var MS=mA();function qi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kS(t){if(B.isValidElement(t)||MS.isValidElementType(t)||!qi(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=kS(t[r])}),e}function pn(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return qi(t)&&qi(e)&&Object.keys(e).forEach(i=>{B.isValidElement(e[i])||MS.isValidElementType(e[i])?n[i]=e[i]:qi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&qi(t[i])?n[i]=pn(t[i],e[i],r):r.clone?n[i]=qi(e[i])?kS(e[i]):e[i]:n[i]=e[i]}),n}const _A=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function yA(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,s=_A(e),l=Object.keys(s);function c(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${r})`}function f(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-n/100}${r})`}function h(w,x){const A=l.indexOf(x);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${r}) and (max-width:${(A!==-1&&typeof e[l[A]]=="number"?e[l[A]]:x)-n/100}${r})`}function y(w){return l.indexOf(w)+1<l.length?h(w,l[l.indexOf(w)+1]):c(w)}function b(w){const x=l.indexOf(w);return x===0?c(l[1]):x===l.length-1?f(l[x]):h(w,l[l.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:c,down:f,between:h,only:y,not:b,unit:r,...i}}function vA(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{var l,c;const s=/min-width:\s*([0-9.]+)/;return+(((l=n.match(s))==null?void 0:l[1])||0)-+(((c=i.match(s))==null?void 0:c[1])||0)});return r.length?r.reduce((n,i)=>{const s=e[i];return delete n[i],n[i]=s,n},{...e}):e}function wA(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function bA(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,s=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(s)}function SA(t){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function r(s,l){s.up=(...c)=>e(t.breakpoints.up(...c),l),s.down=(...c)=>e(t.breakpoints.down(...c),l),s.between=(...c)=>e(t.breakpoints.between(...c),l),s.only=(...c)=>e(t.breakpoints.only(...c),l),s.not=(...c)=>{const f=e(t.breakpoints.not(...c),l);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const n={},i=s=>(r(n,s),n);return r(i),{...t,containerQueries:i}}const TA={borderRadius:4};function hc(t,e){return e?pn(t,e,{clone:!1}):t}const Dd={xs:0,sm:600,md:900,lg:1200,xl:1536},Gv={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Dd[t]}px)`},EA={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:Dd[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function Kn(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const s=n.breakpoints||Gv;return e.reduce((l,c,f)=>(l[s.up(s.keys[f])]=r(e[f]),l),{})}if(typeof e=="object"){const s=n.breakpoints||Gv;return Object.keys(e).reduce((l,c)=>{if(wA(s.keys,c)){const f=bA(n.containerQueries?n:EA,c);f&&(l[f]=r(e[c],c))}else if(Object.keys(s.values||Dd).includes(c)){const f=s.up(c);l[f]=r(e[c],c)}else{const f=c;l[f]=e[f]}return l},{})}return r(e)}function IS(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,i)=>{const s=t.up(i);return n[s]={},n},{}))||{}}function NS(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function RA(t,...e){const r=IS(t),n=[r,...e].reduce((i,s)=>pn(i,s),{});return NS(Object.keys(r),n)}function xA(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,s)=>{s<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function No({values:t,breakpoints:e,base:r}){const n=r||xA(t,e),i=Object.keys(n);if(i.length===0)return t;let s;return i.reduce((l,c,f)=>(Array.isArray(t)?(l[c]=t[f]!=null?t[f]:t[s],s=f):typeof t=="object"?(l[c]=t[c]!=null?t[c]:t[s],s=c):l[c]=t,l),{})}function tt(t){if(typeof t!="string")throw new Error(vs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Bd(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Lf(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Bd(t,r)||n,e&&(i=e(i,n,t)),i}function Zr(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,s=l=>{if(l[e]==null)return null;const c=l[e],f=l.theme,h=Bd(f,n)||{};return Kn(l,c,b=>{let w=Lf(h,i,b);return b===w&&typeof b=="string"&&(w=Lf(h,i,`${e}${b==="default"?"":tt(b)}`,b)),r===!1?w:{[r]:w}})};return s.propTypes={},s.filterProps=[e],s}function CA(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const AA={m:"margin",p:"padding"},PA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ew={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},MA=CA(t=>{if(t.length>2)if(ew[t])t=ew[t];else return[t];const[e,r]=t.split(""),n=AA[e],i=PA[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),m0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...m0,..._0];function $c(t,e,r,n){const i=Bd(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),c=i[l];return s>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function Ud(t){return $c(t,"spacing",8)}function Lo(t,e){return typeof e=="string"||e==null?e:t(e)}function kA(t,e){return r=>t.reduce((n,i)=>(n[i]=Lo(e,r),n),{})}function IA(t,e,r,n){if(!e.includes(r))return null;const i=MA(r),s=kA(i,n),l=t[r];return Kn(t,l,s)}function OS(t,e){const r=Ud(t.theme);return Object.keys(t).map(n=>IA(t,e,n,r)).reduce(hc,{})}function $r(t){return OS(t,m0)}$r.propTypes={};$r.filterProps=m0;function Vr(t){return OS(t,_0)}Vr.propTypes={};Vr.filterProps=_0;function FS(t=8,e=Ud({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function Ld(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>e[s]?hc(i,e[s](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function pi(t){return typeof t!="number"?t:`${t}px solid`}function bi(t,e){return Zr({prop:t,themeKey:"borders",transform:e})}const NA=bi("border",pi),OA=bi("borderTop",pi),FA=bi("borderRight",pi),DA=bi("borderBottom",pi),BA=bi("borderLeft",pi),UA=bi("borderColor"),LA=bi("borderTopColor"),jA=bi("borderRightColor"),zA=bi("borderBottomColor"),$A=bi("borderLeftColor"),VA=bi("outline",pi),WA=bi("outlineColor"),jd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=$c(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Lo(e,n)});return Kn(t,t.borderRadius,r)}return null};jd.propTypes={};jd.filterProps=["borderRadius"];Ld(NA,OA,FA,DA,BA,UA,LA,jA,zA,$A,jd,VA,WA);const zd=t=>{if(t.gap!==void 0&&t.gap!==null){const e=$c(t.theme,"spacing",8),r=n=>({gap:Lo(e,n)});return Kn(t,t.gap,r)}return null};zd.propTypes={};zd.filterProps=["gap"];const $d=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=$c(t.theme,"spacing",8),r=n=>({columnGap:Lo(e,n)});return Kn(t,t.columnGap,r)}return null};$d.propTypes={};$d.filterProps=["columnGap"];const Vd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=$c(t.theme,"spacing",8),r=n=>({rowGap:Lo(e,n)});return Kn(t,t.rowGap,r)}return null};Vd.propTypes={};Vd.filterProps=["rowGap"];const HA=Zr({prop:"gridColumn"}),XA=Zr({prop:"gridRow"}),YA=Zr({prop:"gridAutoFlow"}),KA=Zr({prop:"gridAutoColumns"}),qA=Zr({prop:"gridAutoRows"}),ZA=Zr({prop:"gridTemplateColumns"}),QA=Zr({prop:"gridTemplateRows"}),JA=Zr({prop:"gridTemplateAreas"}),GA=Zr({prop:"gridArea"});Ld(zd,$d,Vd,HA,XA,YA,KA,qA,ZA,QA,JA,GA);function Va(t,e){return e==="grey"?e:t}const eP=Zr({prop:"color",themeKey:"palette",transform:Va}),tP=Zr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Va}),rP=Zr({prop:"backgroundColor",themeKey:"palette",transform:Va});Ld(eP,tP,rP);function ti(t){return t<=1&&t!==0?`${t*100}%`:t}const nP=Zr({prop:"width",transform:ti}),y0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var i,s,l,c,f;const n=((l=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[r])||Dd[r];return n?((f=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:ti(r)}};return Kn(t,t.maxWidth,e)}return null};y0.filterProps=["maxWidth"];const iP=Zr({prop:"minWidth",transform:ti}),sP=Zr({prop:"height",transform:ti}),oP=Zr({prop:"maxHeight",transform:ti}),aP=Zr({prop:"minHeight",transform:ti});Zr({prop:"size",cssProperty:"width",transform:ti});Zr({prop:"size",cssProperty:"height",transform:ti});const lP=Zr({prop:"boxSizing"});Ld(nP,y0,iP,sP,oP,aP,lP);const Vc={border:{themeKey:"borders",transform:pi},borderTop:{themeKey:"borders",transform:pi},borderRight:{themeKey:"borders",transform:pi},borderBottom:{themeKey:"borders",transform:pi},borderLeft:{themeKey:"borders",transform:pi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:pi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jd},color:{themeKey:"palette",transform:Va},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Va},backgroundColor:{themeKey:"palette",transform:Va},p:{style:Vr},pt:{style:Vr},pr:{style:Vr},pb:{style:Vr},pl:{style:Vr},px:{style:Vr},py:{style:Vr},padding:{style:Vr},paddingTop:{style:Vr},paddingRight:{style:Vr},paddingBottom:{style:Vr},paddingLeft:{style:Vr},paddingX:{style:Vr},paddingY:{style:Vr},paddingInline:{style:Vr},paddingInlineStart:{style:Vr},paddingInlineEnd:{style:Vr},paddingBlock:{style:Vr},paddingBlockStart:{style:Vr},paddingBlockEnd:{style:Vr},m:{style:$r},mt:{style:$r},mr:{style:$r},mb:{style:$r},ml:{style:$r},mx:{style:$r},my:{style:$r},margin:{style:$r},marginTop:{style:$r},marginRight:{style:$r},marginBottom:{style:$r},marginLeft:{style:$r},marginX:{style:$r},marginY:{style:$r},marginInline:{style:$r},marginInlineStart:{style:$r},marginInlineEnd:{style:$r},marginBlock:{style:$r},marginBlockStart:{style:$r},marginBlockEnd:{style:$r},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zd},rowGap:{style:Vd},columnGap:{style:$d},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ti},maxWidth:{style:y0},minWidth:{transform:ti},height:{transform:ti},maxHeight:{transform:ti},minHeight:{transform:ti},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cP(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function uP(t,e){return typeof t=="function"?t(e):t}function fP(){function t(r,n,i,s){const l={[r]:n,theme:i},c=s[r];if(!c)return{[r]:n};const{cssProperty:f=r,themeKey:h,transform:y,style:b}=c;if(n==null)return null;if(h==="typography"&&n==="inherit")return{[r]:n};const w=Bd(i,h)||{};return b?b(l):Kn(l,n,A=>{let E=Lf(w,y,A);return A===E&&typeof A=="string"&&(E=Lf(w,y,`${r}${A==="default"?"":tt(A)}`,A)),f===!1?E:{[f]:E}})}function e(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const s=i.unstable_sxConfig??Vc;function l(c){let f=c;if(typeof c=="function")f=c(i);else if(typeof c!="object")return c;if(!f)return null;const h=IS(i.breakpoints),y=Object.keys(h);let b=h;return Object.keys(f).forEach(w=>{const x=uP(f[w],i);if(x!=null)if(typeof x=="object")if(s[w])b=hc(b,t(w,x,i,s));else{const A=Kn({theme:i},x,E=>({[w]:E}));cP(A,x)?b[w]=e({sx:x,theme:i}):b=hc(b,A)}else b=hc(b,t(w,x,i,s))}),vA(i,NS(y,b))}return Array.isArray(n)?n.map(l):l(n)}return e}const jo=fP();jo.filterProps=["sx"];function dP(t,e){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[t])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return r.palette.mode===t?e:{}}function Wd(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:s={},...l}=t,c=yA(r),f=FS(i);let h=pn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:f,shape:{...TA,...s}},l);return h=SA(h),h.applyStyles=dP,h=e.reduce((y,b)=>pn(y,b),h),h.unstable_sxConfig={...Vc,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(b){return jo({sx:b,theme:this})},h}function hP(t){return Object.keys(t).length===0}function pP(t=null){const e=B.useContext(Fd);return!e||hP(e)?t:e}const gP=Wd();function Hd(t=gP){return pP(t)}function mP({styles:t,themeId:e,defaultTheme:r={}}){const n=Hd(r),i=typeof t=="function"?t(e&&n[e]||n):t;return z.jsx(hA,{styles:i})}const _P=t=>{var n;const e={systemProps:{},otherProps:{}},r=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??Vc;return Object.keys(t).forEach(i=>{r[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function Xd(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=_P(r);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...l)=>{const c=e(...l);return qi(c)?{...n,...c}:n}:s={...n,...e},{...i,sx:s}}const tw=t=>t,yP=()=>{let t=tw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=tw}}},DS=yP();function BS(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=BS(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function at(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=BS(t))&&(n&&(n+=" "),n+=e);return n}function vP(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,s=PS("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(jo);return B.forwardRef(function(f,h){const y=Hd(r),{className:b,component:w="div",...x}=Xd(f);return z.jsx(s,{as:w,ref:h,className:at(b,i?i(n):n),theme:e&&y[e]||y,...x})})}const wP={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $t(t,e,r="Mui"){const n=wP[e];return n?`${r}-${n}`:`${DS.generate(t)}-${e}`}function Bt(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=$t(t,i,r)}),n}function US(t){const{variants:e,...r}=t,n={variants:e,style:Zv(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Zv(i.style))}),n}const bP=Wd();function Qp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function SP(t){return t?(e,r)=>r[t]:null}function TP(t,e,r){t.theme=RP(t.theme)?r:t.theme[e]||t.theme}function Nf(t,e){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(n=>Nf(t,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:i,...s}=r;n=s}return LS(t,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function LS(t,e,r=[]){var i;let n;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),!l.props(n))continue}else for(const c in l.props)if(t[c]!==l.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==l.props[c])continue e;typeof l.style=="function"?(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),r.push(l.style(n))):r.push(l.style)}return r}function jS(t={}){const{themeId:e,defaultTheme:r=bP,rootShouldForwardProp:n=Qp,slotShouldForwardProp:i=Qp}=t;function s(c){TP(c,e,r)}return(c,f={})=>{pA(c,P=>P.filter(I=>I!==jo));const{name:h,slot:y,skipVariantsResolver:b,skipSx:w,overridesResolver:x=SP(CP(y)),...A}=f,E=b!==void 0?b:y&&y!=="Root"&&y!=="root"||!1,k=w||!1;let O=Qp;y==="Root"||y==="root"?O=n:y?O=i:xP(c)&&(O=void 0);const N=PS(c,{shouldForwardProp:O,label:EP(),...A}),M=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(j){return Nf(j,P)};if(qi(P)){const I=US(P);return I.variants?function(te){return Nf(te,I)}:I.style}return P},R=(...P)=>{const I=[],j=P.map(M),te=[];if(I.push(s),h&&x&&te.push(function(K){var ie,ve;const Q=(ve=(ie=K.theme.components)==null?void 0:ie[h])==null?void 0:ve.styleOverrides;if(!Q)return null;const J={};for(const se in Q)J[se]=Nf(K,Q[se]);return x(K,J)}),h&&!E&&te.push(function(K){var J,ie;const V=K.theme,Q=(ie=(J=V==null?void 0:V.components)==null?void 0:J[h])==null?void 0:ie.variants;return Q?LS(K,Q):null}),k||te.push(jo),Array.isArray(j[0])){const F=j.shift(),K=new Array(I.length).fill(""),V=new Array(te.length).fill("");let Q;Q=[...K,...F,...V],Q.raw=[...K,...F.raw,...V],I.unshift(Q)}const oe=[...I,...j,...te],C=N(...oe);return c.muiName&&(C.muiName=c.muiName),C};return N.withConfig&&(R.withConfig=N.withConfig),R}}function EP(t,e){return void 0}function RP(t){for(const e in t)return!1;return!0}function xP(t){return typeof t=="string"&&t.charCodeAt(0)>96}function CP(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const AP=jS();function Pc(t,e){const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=n;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],l=e[i];if(!l)r[i]=s||{};else if(!s)r[i]=l;else{r[i]={...l};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=c;r[i][f]=Pc(s[f],l[f])}}}else r[i]===void 0&&(r[i]=t[i])}return r}function PP(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:Pc(e.components[r].defaultProps,n)}function zS({props:t,name:e,defaultTheme:r,themeId:n}){let i=Hd(r);return n&&(i=i[n]||i),PP({theme:i,name:e,props:t})}const wi=typeof window<"u"?B.useLayoutEffect:B.useEffect;function Ia(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function v0(t,e=0,r=1){return Ia(t,e,r)}function MP(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Js(t){if(t.type)return t;if(t.charAt(0)==="#")return Js(MP(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(vs(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(vs(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const kP=t=>{const e=Js(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},nc=(t,e)=>{try{return kP(t)}catch{return t}};function Yd(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function $S(t){t=Js(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),l=(h,y=(h+r/30)%12)=>i-s*Math.max(Math.min(y-3,9-y,1),-1);let c="rgb";const f=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(c+="a",f.push(e[3])),Yd({type:c,values:f})}function nm(t){t=Js(t);let e=t.type==="hsl"||t.type==="hsla"?Js($S(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IP(t,e){const r=nm(t),n=nm(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Rr(t,e){return t=Js(t),e=v0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Yd(t)}function nf(t,e,r){try{return Rr(t,e)}catch{return t}}function zo(t,e){if(t=Js(t),e=v0(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Yd(t)}function Tr(t,e,r){try{return zo(t,e)}catch{return t}}function $o(t,e){if(t=Js(t),e=v0(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Yd(t)}function Er(t,e,r){try{return $o(t,e)}catch{return t}}function NP(t,e=.15){return nm(t)>.5?zo(t,e):$o(t,e)}function sf(t,e,r){try{return NP(t,e)}catch{return t}}function im(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function Wc(t,e=166){let r;function n(...i){const s=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(s,e)}return n.clear=()=>{clearTimeout(r)},n}function Jp(t,e){var r,n,i;return B.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(n=(r=t.type)==null?void 0:r._payload)==null?void 0:n.value)==null?void 0:i.muiName))!==-1}function rn(t){return t&&t.ownerDocument||document}function Sn(t){return rn(t).defaultView||window}function sm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let rw=0;function OP(t){const[e,r]=B.useState(t),n=t||e;return B.useEffect(()=>{e==null&&(rw+=1,r(`mui-${rw}`))},[e]),n}const FP={...Jg},nw=FP.useId;function Hc(t){if(nw!==void 0){const e=nw();return t??e}return OP(t)}function Mc({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=B.useRef(t!==void 0),[s,l]=B.useState(e),c=i?t:s,f=B.useCallback(h=>{i||l(h)},[]);return[c,f]}function Bn(t){const e=B.useRef(t);return wi(()=>{e.current=t}),B.useRef((...r)=>(0,e.current)(...r)).current}function qr(...t){return B.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{sm(r,e)})},t)}const iw={};function VS(t,e){const r=B.useRef(iw);return r.current===iw&&(r.current=t(e)),r}const DP=[];function BP(t){B.useEffect(t,DP)}class w0{constructor(){H(this,"currentId",null);H(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});H(this,"disposeEffect",()=>this.clear)}static create(){return new w0}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function WS(){const t=VS(w0.create).current;return BP(t.disposeEffect),t}function jf(t){try{return t.matches(":focus-visible")}catch{}return!1}function HS(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const UP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Vt(t,e,r=void 0){const n={};for(const i in t){const s=t[i];let l="",c=!0;for(let f=0;f<s.length;f+=1){const h=s[f];h&&(l+=(c===!0?"":" ")+e(h),c=!1,r&&r[h]&&(l+=" "+r[h]))}n[i]=l}return n}function LP(t){return typeof t=="string"}function XS(t,e,r){return t===void 0||LP(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function pc(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function sw(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function YS(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:s}=t;if(!e){const x=at(r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),A={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},E={...r,...i,...n};return x.length>0&&(E.className=x),Object.keys(A).length>0&&(E.style=A),{props:E,internalRef:void 0}}const l=pc({...i,...n}),c=sw(n),f=sw(i),h=e(l),y=at(h==null?void 0:h.className,r==null?void 0:r.className,s,i==null?void 0:i.className,n==null?void 0:n.className),b={...h==null?void 0:h.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},w={...h,...r,...f,...c};return y.length>0&&(w.className=y),Object.keys(b).length>0&&(w.style=b),{props:w,internalRef:h.ref}}function KS(t,e,r){return typeof t=="function"?t(e,r):t}function Xn(t){var b;const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...s}=t,l=i?{}:KS(r,n),{props:c,internalRef:f}=YS({...s,externalSlotProps:l}),h=qr(f,l==null?void 0:l.ref,(b=t.additionalProps)==null?void 0:b.ref);return XS(e,{...c,ref:h},n)}function ol(t){var e;return parseInt(B.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const jP=B.createContext(),Xc=()=>B.useContext(jP)??!1,zP=B.createContext(void 0);function $P(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?Pc(i.defaultProps,n):!i.styleOverrides&&!i.variants?Pc(i,n):n}function VP({props:t,name:e}){const r=B.useContext(zP);return $P({props:t,name:e,theme:{components:r}})}const ow={theme:void 0};function WP(t){let e,r;return function(i){let s=e;return(s===void 0||i.theme!==r)&&(ow.theme=i.theme,s=US(t(ow)),e=s,r=i.theme),s}}function HP(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const aw=(t,e,r,n=[])=>{let i=t;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=r:i&&typeof i=="object"&&(i[s]=r):i&&typeof i=="object"&&(i[s]||(i[s]=n.includes(s)?[]:{}),i=i[s])})},XP=(t,e,r)=>{function n(i,s=[],l=[]){Object.entries(i).forEach(([c,f])=>{(!r||!r([...s,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?n(f,[...s,c],Array.isArray(f)?[...l,c]:l):e([...s,c],f,l))})}n(t)},YP=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Gp(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},s={},l={};return XP(t,(c,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!n||!n(c,f))){const y=`--${r?`${r}-`:""}${c.join("-")}`,b=YP(c,f);Object.assign(i,{[y]:b}),aw(s,c,`var(${y})`,h),aw(l,c,`var(${y}, ${b})`,h)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function KP(t,e={}){const{getSelector:r=k,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:c="light",...f}=t,{vars:h,css:y,varsWithDefaults:b}=Gp(f,e);let w=b;const x={},{[c]:A,...E}=s;if(Object.entries(E||{}).forEach(([M,R])=>{const{vars:P,css:I,varsWithDefaults:j}=Gp(R,e);w=pn(w,j),x[M]={css:I,vars:P}}),A){const{css:M,vars:R,varsWithDefaults:P}=Gp(A,e);w=pn(w,P),x[c]={css:M,vars:R}}function k(M,R){var I,j;let P=i;if(i==="class"&&(P=".%s"),i==="data"&&(P="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(P=`[${i}="%s"]`),M){if(P==="media")return t.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((j=(I=s[M])==null?void 0:I.palette)==null?void 0:j.mode)||M})`]:{":root":R}};if(P)return t.defaultColorScheme===M?`:root, ${P.replace("%s",String(M))}`:P.replace("%s",String(M))}return":root"}return{vars:w,generateThemeVars:()=>{let M={...h};return Object.entries(x).forEach(([,{vars:R}])=>{M=pn(M,R)}),M},generateStyleSheets:()=>{var te,oe;const M=[],R=t.defaultColorScheme||"light";function P(C,F){Object.keys(F).length&&M.push(typeof C=="string"?{[C]:{...F}}:C)}P(r(void 0,{...y}),y);const{[R]:I,...j}=x;if(I){const{css:C}=I,F=(oe=(te=s[R])==null?void 0:te.palette)==null?void 0:oe.mode,K=!n&&F?{colorScheme:F,...C}:{...C};P(r(R,{...K}),K)}return Object.entries(j).forEach(([C,{css:F}])=>{var Q,J;const K=(J=(Q=s[C])==null?void 0:Q.palette)==null?void 0:J.mode,V=!n&&K?{colorScheme:K,...F}:{...F};P(r(C,{...V}),V)}),M}}}function qP(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}const ZP=Wd(),QP=AP("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function JP(t){return zS({props:t,name:"MuiStack",defaultTheme:ZP})}function GP(t,e){const r=B.Children.toArray(t).filter(Boolean);return r.reduce((n,i,s)=>(n.push(i),s<r.length-1&&n.push(B.cloneElement(e,{key:`separator-${s}`})),n),[])}const e2=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],t2=({ownerState:t,theme:e})=>{let r={display:"flex",flexDirection:"column",...Kn({theme:e},No({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=Ud(e),i=Object.keys(e.breakpoints.values).reduce((f,h)=>((typeof t.spacing=="object"&&t.spacing[h]!=null||typeof t.direction=="object"&&t.direction[h]!=null)&&(f[h]=!0),f),{}),s=No({values:t.direction,base:i}),l=No({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((f,h,y)=>{if(!s[f]){const w=h>0?s[y[h-1]]:"column";s[f]=w}}),r=pn(r,Kn({theme:e},l,(f,h)=>t.useFlexGap?{gap:Lo(n,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${e2(h?s[h]:t.direction)}`]:Lo(n,f)}}))}return r=RA(e.breakpoints,r),r};function r2(t={}){const{createStyledComponent:e=QP,useThemeProps:r=JP,componentName:n="MuiStack"}=t,i=()=>Vt({root:["root"]},f=>$t(n,f),{}),s=e(t2);return B.forwardRef(function(f,h){const y=r(f),b=Xd(y),{component:w="div",direction:x="column",spacing:A=0,divider:E,children:k,className:O,useFlexGap:N=!1,...M}=b,R={direction:x,spacing:A,useFlexGap:N},P=i();return z.jsx(s,{as:w,ownerState:R,ref:h,className:at(P.root,O),...M,children:E?GP(k,E):k})})}function qS(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ec.white,default:Ec.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const n2=qS();function ZS(){return{text:{primary:Ec.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ec.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const lw=ZS();function cw(t,e,r,n){const i=n.light||n,s=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=$o(t.main,i):e==="dark"&&(t.dark=zo(t.main,s)))}function i2(t="light"){return t==="dark"?{main:ba[200],light:ba[50],dark:ba[400]}:{main:ba[700],light:ba[400],dark:ba[800]}}function s2(t="light"){return t==="dark"?{main:wa[200],light:wa[50],dark:wa[400]}:{main:wa[500],light:wa[300],dark:wa[700]}}function o2(t="light"){return t==="dark"?{main:va[500],light:va[300],dark:va[700]}:{main:va[700],light:va[400],dark:va[800]}}function a2(t="light"){return t==="dark"?{main:bo[400],light:bo[300],dark:bo[700]}:{main:bo[700],light:bo[500],dark:bo[900]}}function l2(t="light"){return t==="dark"?{main:Sa[400],light:Sa[300],dark:Sa[700]}:{main:Sa[800],light:Sa[500],dark:Sa[900]}}function c2(t="light"){return t==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:"#ed6c02",light:$l[500],dark:$l[900]}}function b0(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=t,s=t.primary||i2(e),l=t.secondary||s2(e),c=t.error||o2(e),f=t.info||a2(e),h=t.success||l2(e),y=t.warning||c2(e);function b(E){return IP(E,lw.text.primary)>=r?lw.text.primary:n2.text.primary}const w=({color:E,name:k,mainShade:O=500,lightShade:N=300,darkShade:M=700})=>{if(E={...E},!E.main&&E[O]&&(E.main=E[O]),!E.hasOwnProperty("main"))throw new Error(vs(11,k?` (${k})`:"",O));if(typeof E.main!="string")throw new Error(vs(12,k?` (${k})`:"",JSON.stringify(E.main)));return cw(E,"light",N,n),cw(E,"dark",M,n),E.contrastText||(E.contrastText=b(E.main)),E};let x;return e==="light"?x=qS():e==="dark"&&(x=ZS()),pn({common:{...Ec},mode:e,primary:w({color:s,name:"primary"}),secondary:w({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:c,name:"error"}),warning:w({color:y,name:"warning"}),info:w({color:f,name:"info"}),success:w({color:h,name:"success"}),grey:Rc,contrastThreshold:r,getContrastText:b,augmentColor:w,tonalOffset:n,...x},i)}function u2(t){const e={};return Object.entries(t).forEach(n=>{const[i,s]=n;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function f2(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function d2(t){return Math.round(t*1e5)/1e5}const uw={textTransform:"uppercase"},fw='"Roboto", "Helvetica", "Arial", sans-serif';function h2(t,e){const{fontFamily:r=fw,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:h,pxToRem:y,...b}=typeof e=="function"?e(t):e,w=n/14,x=y||(k=>`${k/f*w}rem`),A=(k,O,N,M,R)=>({fontFamily:r,fontWeight:k,fontSize:x(O),lineHeight:N,...r===fw?{letterSpacing:`${d2(M/O)}em`}:{},...R,...h}),E={h1:A(i,96,1.167,-1.5),h2:A(i,60,1.2,-.5),h3:A(s,48,1.167,0),h4:A(s,34,1.235,.25),h5:A(s,24,1.334,0),h6:A(l,20,1.6,.15),subtitle1:A(s,16,1.75,.15),subtitle2:A(l,14,1.57,.1),body1:A(s,16,1.5,.15),body2:A(s,14,1.43,.15),button:A(l,14,1.75,.4,uw),caption:A(s,12,1.66,.4),overline:A(s,12,2.66,1,uw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pn({htmlFontSize:f,pxToRem:x,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c,...E},b,{clone:!1})}const p2=.2,g2=.14,m2=.12;function Fr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${p2})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${g2})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${m2})`].join(",")}const _2=["none",Fr(0,2,1,-1,0,1,1,0,0,1,3,0),Fr(0,3,1,-2,0,2,2,0,0,1,5,0),Fr(0,3,3,-2,0,3,4,0,0,1,8,0),Fr(0,2,4,-1,0,4,5,0,0,1,10,0),Fr(0,3,5,-1,0,5,8,0,0,1,14,0),Fr(0,3,5,-1,0,6,10,0,0,1,18,0),Fr(0,4,5,-2,0,7,10,1,0,2,16,1),Fr(0,5,5,-3,0,8,10,1,0,3,14,2),Fr(0,5,6,-3,0,9,12,1,0,3,16,2),Fr(0,6,6,-3,0,10,14,1,0,4,18,3),Fr(0,6,7,-4,0,11,15,1,0,4,20,3),Fr(0,7,8,-4,0,12,17,2,0,5,22,4),Fr(0,7,8,-4,0,13,19,2,0,5,24,4),Fr(0,7,9,-4,0,14,21,2,0,5,26,4),Fr(0,8,9,-5,0,15,22,2,0,6,28,5),Fr(0,8,10,-5,0,16,24,2,0,6,30,5),Fr(0,8,11,-5,0,17,26,2,0,6,32,5),Fr(0,9,11,-5,0,18,28,2,0,7,34,6),Fr(0,9,12,-6,0,19,29,2,0,7,36,6),Fr(0,10,13,-6,0,20,31,3,0,8,38,7),Fr(0,10,13,-6,0,21,33,3,0,8,40,7),Fr(0,10,14,-6,0,22,35,3,0,8,42,7),Fr(0,11,14,-7,0,23,36,3,0,9,44,8),Fr(0,11,15,-7,0,24,38,3,0,9,46,8)],y2={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},v2={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dw(t){return`${Math.round(t)}ms`}function w2(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function b2(t){const e={...y2,...t.easing},r={...v2,...t.duration};return{getAutoHeightDuration:w2,create:(i=["all"],s={})=>{const{duration:l=r.standard,easing:c=e.easeInOut,delay:f=0,...h}=s;return(Array.isArray(i)?i:[i]).map(y=>`${y} ${typeof l=="string"?l:dw(l)} ${c} ${typeof f=="string"?f:dw(f)}`).join(",")},...t,easing:e,duration:r}}const S2={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function T2(t){return qi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function QS(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let s=0;s<i.length;s++){const[l,c]=i[s];!T2(c)||l.startsWith("unstable_")?delete n[l]:qi(c)&&(n[l]={...c},r(n[l]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function om(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:s={},transitions:l={},typography:c={},shape:f,...h}=t;if(t.vars)throw new Error(vs(20));const y=b0(s),b=Wd(t);let w=pn(b,{mixins:f2(b.breakpoints,n),palette:y,shadows:_2.slice(),typography:h2(y,c),transitions:b2(l),zIndex:{...S2}});return w=pn(w,h),w=e.reduce((x,A)=>pn(x,A),w),w.unstable_sxConfig={...Vc,...h==null?void 0:h.unstable_sxConfig},w.unstable_sx=function(A){return jo({sx:A,theme:this})},w.toRuntimeSource=QS,w}function am(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const E2=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=am(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function JS(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function GS(t){return t==="dark"?E2:[]}function R2(t){const{palette:e={mode:"light"},opacity:r,overlays:n,...i}=t,s=b0(e);return{palette:s,opacity:{...JS(s.mode),...r},overlays:n||GS(s.mode),...i}}function x2(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const C2=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],A2=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return C2(t.cssVarPrefix).forEach(c=>{l[c]=r[c],delete r[c]}),s==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:l}}:s?{[s.replace("%s",e)]:l,[`${n}, ${s.replace("%s",e)}`]:r}:{[n]:{...r,...l}}}if(s&&s!=="media")return`${n}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(s)return s.replace("%s",String(e))}return n};function P2(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function Ie(t,e,r){!t[e]&&r&&(t[e]=r)}function ic(t){return typeof t!="string"||!t.startsWith("hsl")?t:$S(t)}function ds(t,e){`${e}Channel`in t||(t[`${e}Channel`]=nc(ic(t[e])))}function M2(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ji=t=>{try{return t()}catch{}},k2=(t="mui")=>HP(t);function eg(t,e,r,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!r){t[n]=R2({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=om({...r,palette:{mode:i,...e==null?void 0:e.palette}});return t[n]={...e,palette:s,opacity:{...JS(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||GS(i)},l}function I2(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=x2,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:f=":root",...h}=t,y=Object.keys(r)[0],b=n||(r.light&&y!=="light"?"light":y),w=k2(s),{[b]:x,light:A,dark:E,...k}=r,O={...k};let N=x;if((b==="dark"&&!("dark"in r)||b==="light"&&!("light"in r))&&(N=!0),!N)throw new Error(vs(21,b));const M=eg(O,N,h,b);A&&!O.light&&eg(O,A,void 0,"light"),E&&!O.dark&&eg(O,E,void 0,"dark");let R={defaultColorScheme:b,...M,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:f,getCssVar:w,colorSchemes:O,font:{...u2(M.typography),...M.font},spacing:M2(h.spacing)};Object.keys(R.colorSchemes).forEach(oe=>{const C=R.colorSchemes[oe].palette,F=K=>{const V=K.split("-"),Q=V[1],J=V[2];return w(K,C[Q][J])};if(C.mode==="light"&&(Ie(C.common,"background","#fff"),Ie(C.common,"onBackground","#000")),C.mode==="dark"&&(Ie(C.common,"background","#000"),Ie(C.common,"onBackground","#fff")),P2(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){Ie(C.Alert,"errorColor",Tr(C.error.light,.6)),Ie(C.Alert,"infoColor",Tr(C.info.light,.6)),Ie(C.Alert,"successColor",Tr(C.success.light,.6)),Ie(C.Alert,"warningColor",Tr(C.warning.light,.6)),Ie(C.Alert,"errorFilledBg",F("palette-error-main")),Ie(C.Alert,"infoFilledBg",F("palette-info-main")),Ie(C.Alert,"successFilledBg",F("palette-success-main")),Ie(C.Alert,"warningFilledBg",F("palette-warning-main")),Ie(C.Alert,"errorFilledColor",ji(()=>C.getContrastText(C.error.main))),Ie(C.Alert,"infoFilledColor",ji(()=>C.getContrastText(C.info.main))),Ie(C.Alert,"successFilledColor",ji(()=>C.getContrastText(C.success.main))),Ie(C.Alert,"warningFilledColor",ji(()=>C.getContrastText(C.warning.main))),Ie(C.Alert,"errorStandardBg",Er(C.error.light,.9)),Ie(C.Alert,"infoStandardBg",Er(C.info.light,.9)),Ie(C.Alert,"successStandardBg",Er(C.success.light,.9)),Ie(C.Alert,"warningStandardBg",Er(C.warning.light,.9)),Ie(C.Alert,"errorIconColor",F("palette-error-main")),Ie(C.Alert,"infoIconColor",F("palette-info-main")),Ie(C.Alert,"successIconColor",F("palette-success-main")),Ie(C.Alert,"warningIconColor",F("palette-warning-main")),Ie(C.AppBar,"defaultBg",F("palette-grey-100")),Ie(C.Avatar,"defaultBg",F("palette-grey-400")),Ie(C.Button,"inheritContainedBg",F("palette-grey-300")),Ie(C.Button,"inheritContainedHoverBg",F("palette-grey-A100")),Ie(C.Chip,"defaultBorder",F("palette-grey-400")),Ie(C.Chip,"defaultAvatarColor",F("palette-grey-700")),Ie(C.Chip,"defaultIconColor",F("palette-grey-700")),Ie(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ie(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ie(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ie(C.LinearProgress,"primaryBg",Er(C.primary.main,.62)),Ie(C.LinearProgress,"secondaryBg",Er(C.secondary.main,.62)),Ie(C.LinearProgress,"errorBg",Er(C.error.main,.62)),Ie(C.LinearProgress,"infoBg",Er(C.info.main,.62)),Ie(C.LinearProgress,"successBg",Er(C.success.main,.62)),Ie(C.LinearProgress,"warningBg",Er(C.warning.main,.62)),Ie(C.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),Ie(C.Slider,"primaryTrack",Er(C.primary.main,.62)),Ie(C.Slider,"secondaryTrack",Er(C.secondary.main,.62)),Ie(C.Slider,"errorTrack",Er(C.error.main,.62)),Ie(C.Slider,"infoTrack",Er(C.info.main,.62)),Ie(C.Slider,"successTrack",Er(C.success.main,.62)),Ie(C.Slider,"warningTrack",Er(C.warning.main,.62));const K=sf(C.background.default,.8);Ie(C.SnackbarContent,"bg",K),Ie(C.SnackbarContent,"color",ji(()=>C.getContrastText(K))),Ie(C.SpeedDialAction,"fabHoverBg",sf(C.background.paper,.15)),Ie(C.StepConnector,"border",F("palette-grey-400")),Ie(C.StepContent,"border",F("palette-grey-400")),Ie(C.Switch,"defaultColor",F("palette-common-white")),Ie(C.Switch,"defaultDisabledColor",F("palette-grey-100")),Ie(C.Switch,"primaryDisabledColor",Er(C.primary.main,.62)),Ie(C.Switch,"secondaryDisabledColor",Er(C.secondary.main,.62)),Ie(C.Switch,"errorDisabledColor",Er(C.error.main,.62)),Ie(C.Switch,"infoDisabledColor",Er(C.info.main,.62)),Ie(C.Switch,"successDisabledColor",Er(C.success.main,.62)),Ie(C.Switch,"warningDisabledColor",Er(C.warning.main,.62)),Ie(C.TableCell,"border",Er(nf(C.divider,1),.88)),Ie(C.Tooltip,"bg",nf(C.grey[700],.92))}if(C.mode==="dark"){Ie(C.Alert,"errorColor",Er(C.error.light,.6)),Ie(C.Alert,"infoColor",Er(C.info.light,.6)),Ie(C.Alert,"successColor",Er(C.success.light,.6)),Ie(C.Alert,"warningColor",Er(C.warning.light,.6)),Ie(C.Alert,"errorFilledBg",F("palette-error-dark")),Ie(C.Alert,"infoFilledBg",F("palette-info-dark")),Ie(C.Alert,"successFilledBg",F("palette-success-dark")),Ie(C.Alert,"warningFilledBg",F("palette-warning-dark")),Ie(C.Alert,"errorFilledColor",ji(()=>C.getContrastText(C.error.dark))),Ie(C.Alert,"infoFilledColor",ji(()=>C.getContrastText(C.info.dark))),Ie(C.Alert,"successFilledColor",ji(()=>C.getContrastText(C.success.dark))),Ie(C.Alert,"warningFilledColor",ji(()=>C.getContrastText(C.warning.dark))),Ie(C.Alert,"errorStandardBg",Tr(C.error.light,.9)),Ie(C.Alert,"infoStandardBg",Tr(C.info.light,.9)),Ie(C.Alert,"successStandardBg",Tr(C.success.light,.9)),Ie(C.Alert,"warningStandardBg",Tr(C.warning.light,.9)),Ie(C.Alert,"errorIconColor",F("palette-error-main")),Ie(C.Alert,"infoIconColor",F("palette-info-main")),Ie(C.Alert,"successIconColor",F("palette-success-main")),Ie(C.Alert,"warningIconColor",F("palette-warning-main")),Ie(C.AppBar,"defaultBg",F("palette-grey-900")),Ie(C.AppBar,"darkBg",F("palette-background-paper")),Ie(C.AppBar,"darkColor",F("palette-text-primary")),Ie(C.Avatar,"defaultBg",F("palette-grey-600")),Ie(C.Button,"inheritContainedBg",F("palette-grey-800")),Ie(C.Button,"inheritContainedHoverBg",F("palette-grey-700")),Ie(C.Chip,"defaultBorder",F("palette-grey-700")),Ie(C.Chip,"defaultAvatarColor",F("palette-grey-300")),Ie(C.Chip,"defaultIconColor",F("palette-grey-300")),Ie(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ie(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ie(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ie(C.LinearProgress,"primaryBg",Tr(C.primary.main,.5)),Ie(C.LinearProgress,"secondaryBg",Tr(C.secondary.main,.5)),Ie(C.LinearProgress,"errorBg",Tr(C.error.main,.5)),Ie(C.LinearProgress,"infoBg",Tr(C.info.main,.5)),Ie(C.LinearProgress,"successBg",Tr(C.success.main,.5)),Ie(C.LinearProgress,"warningBg",Tr(C.warning.main,.5)),Ie(C.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),Ie(C.Slider,"primaryTrack",Tr(C.primary.main,.5)),Ie(C.Slider,"secondaryTrack",Tr(C.secondary.main,.5)),Ie(C.Slider,"errorTrack",Tr(C.error.main,.5)),Ie(C.Slider,"infoTrack",Tr(C.info.main,.5)),Ie(C.Slider,"successTrack",Tr(C.success.main,.5)),Ie(C.Slider,"warningTrack",Tr(C.warning.main,.5));const K=sf(C.background.default,.98);Ie(C.SnackbarContent,"bg",K),Ie(C.SnackbarContent,"color",ji(()=>C.getContrastText(K))),Ie(C.SpeedDialAction,"fabHoverBg",sf(C.background.paper,.15)),Ie(C.StepConnector,"border",F("palette-grey-600")),Ie(C.StepContent,"border",F("palette-grey-600")),Ie(C.Switch,"defaultColor",F("palette-grey-300")),Ie(C.Switch,"defaultDisabledColor",F("palette-grey-600")),Ie(C.Switch,"primaryDisabledColor",Tr(C.primary.main,.55)),Ie(C.Switch,"secondaryDisabledColor",Tr(C.secondary.main,.55)),Ie(C.Switch,"errorDisabledColor",Tr(C.error.main,.55)),Ie(C.Switch,"infoDisabledColor",Tr(C.info.main,.55)),Ie(C.Switch,"successDisabledColor",Tr(C.success.main,.55)),Ie(C.Switch,"warningDisabledColor",Tr(C.warning.main,.55)),Ie(C.TableCell,"border",Tr(nf(C.divider,1),.68)),Ie(C.Tooltip,"bg",nf(C.grey[700],.92))}ds(C.background,"default"),ds(C.background,"paper"),ds(C.common,"background"),ds(C.common,"onBackground"),ds(C,"divider"),Object.keys(C).forEach(K=>{const V=C[K];K!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&Ie(C[K],"mainChannel",nc(ic(V.main))),V.light&&Ie(C[K],"lightChannel",nc(ic(V.light))),V.dark&&Ie(C[K],"darkChannel",nc(ic(V.dark))),V.contrastText&&Ie(C[K],"contrastTextChannel",nc(ic(V.contrastText))),K==="text"&&(ds(C[K],"primary"),ds(C[K],"secondary")),K==="action"&&(V.active&&ds(C[K],"active"),V.selected&&ds(C[K],"selected")))})}),R=e.reduce((oe,C)=>pn(oe,C),R);const P={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:A2(R)},{vars:I,generateThemeVars:j,generateStyleSheets:te}=KP(R,P);return R.vars=I,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([oe,C])=>{R[oe]=C}),R.generateThemeVars=j,R.generateStyleSheets=te,R.generateSpacing=function(){return FS(h.spacing,Ud(this))},R.getColorSchemeSelector=qP(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=l,R.unstable_sxConfig={...Vc,...h==null?void 0:h.unstable_sxConfig},R.unstable_sx=function(C){return jo({sx:C,theme:this})},R.toRuntimeSource=QS,R}function hw(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:b0({...r===!0?{}:r.palette,mode:e})})}function eT(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:s=r==null?void 0:r.mode,...l}=t,c=s||"light",f=i==null?void 0:i[c],h={...i,...r?{[c]:{...typeof f!="boolean"&&f,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return om(t,...e);let y=r;"palette"in t||h[c]&&(h[c]!==!0?y=h[c].palette:c==="dark"&&(y={mode:"dark"}));const b=om({...t,palette:y},...e);return b.defaultColorScheme=c,b.colorSchemes=h,b.palette.mode==="light"&&(b.colorSchemes.light={...h.light!==!0&&h.light,palette:b.palette},hw(b,"dark",h.dark)),b.palette.mode==="dark"&&(b.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:b.palette},hw(b,"light",h.light)),b}return!r&&!("light"in h)&&c==="light"&&(h.light=!0),I2({...l,colorSchemes:h,defaultColorScheme:c,...typeof n!="boolean"&&n},...e)}const Kd=eT();function to(){const t=Hd(Kd);return t[Uc]||t}function N2({props:t,name:e}){return zS({props:t,name:e,defaultTheme:Kd,themeId:Uc})}function qd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const gn=t=>qd(t)&&t!=="classes",He=jS({themeId:Uc,defaultTheme:Kd,rootShouldForwardProp:gn});function O2(t){return z.jsx(mP,{...t,defaultTheme:Kd,themeId:Uc})}function F2(t){return function(r){return z.jsx(O2,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function D2(){return Xd}const Ft=WP;function Xt(t){return VP(t)}function B2(t){return $t("MuiSvgIcon",t)}Bt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const U2=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${tt(e)}`,`fontSize${tt(r)}`]};return Vt(i,B2,n)},L2=He("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${tt(r.color)}`],e[`fontSize${tt(r.fontSize)}`]]}})(Ft(({theme:t})=>{var e,r,n,i,s,l,c,f,h,y,b,w,x,A;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(n=(r=(t.vars??t).transitions)==null?void 0:r.duration)==null?void 0:n.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((y=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:y.call(h,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,E])=>E&&E.main).map(([E])=>{var k,O;return{props:{color:E},style:{color:(O=(k=(t.vars??t).palette)==null?void 0:k[E])==null?void 0:O.main}}}),{props:{color:"action"},style:{color:(w=(b=(t.vars??t).palette)==null?void 0:b.action)==null?void 0:w.active}},{props:{color:"disabled"},style:{color:(A=(x=(t.vars??t).palette)==null?void 0:x.action)==null?void 0:A.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),lm=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:c="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:y=!1,titleAccess:b,viewBox:w="0 0 24 24",...x}=n,A=B.isValidElement(i)&&i.type==="svg",E={...n,color:l,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:w,hasSvgAsChild:A},k={};y||(k.viewBox=w);const O=U2(E);return z.jsxs(L2,{as:c,className:at(O.root,s),focusable:"false",color:h,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:r,...k,...x,...A&&i.props,ownerState:E,children:[A?i.props.children:i,b?z.jsx("title",{children:b}):null]})});lm.muiName="SvgIcon";function bs(t,e){function r(n,i){return z.jsx(lm,{"data-testid":`${e}Icon`,ref:i,...n,children:t})}return r.muiName=lm.muiName,B.memo(B.forwardRef(r))}function tT(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function cm(t,e){return cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cm(t,e)}function rT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cm(t,e)}var zf=pS();const of=kd(zf),pw={disabled:!1},$f=Qi.createContext(null);var j2=function(e){return e.scrollTop},sc="unmounted",So="exited",To="entering",Na="entered",um="exiting",Fi=function(t){rT(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,f;return s.appearStatus=null,n.in?c?(f=So,s.appearStatus=To):f=Na:n.unmountOnExit||n.mountOnEnter?f=sc:f=So,s.state={status:f},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var l=i.in;return l&&s.status===sc?{status:So}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var s=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==To&&l!==Na&&(s=To):(l===To||l===Na)&&(s=um)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,s,l,c;return s=l=c=i,i!=null&&typeof i!="number"&&(s=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:s,enter:l,appear:c}},r.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===To){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this);l&&j2(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===So&&this.setState({status:sc})},r.performEnter=function(i){var s=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[of.findDOMNode(this),c],h=f[0],y=f[1],b=this.getTimeouts(),w=c?b.appear:b.enter;if(!i&&!l||pw.disabled){this.safeSetState({status:Na},function(){s.props.onEntered(h)});return}this.props.onEnter(h,y),this.safeSetState({status:To},function(){s.props.onEntering(h,y),s.onTransitionEnd(w,function(){s.safeSetState({status:Na},function(){s.props.onEntered(h,y)})})})},r.performExit=function(){var i=this,s=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:of.findDOMNode(this);if(!s||pw.disabled){this.safeSetState({status:So},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:um},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:So},function(){i.props.onExited(c)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},r.setNextCallback=function(i){var s=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=f[0],y=f[1];this.props.addEndListener(h,y)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===sc)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=tT(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qi.createElement($f.Provider,{value:null},typeof l=="function"?l(i,c):Qi.cloneElement(Qi.Children.only(l),c))},e}(Qi.Component);Fi.contextType=$f;Fi.propTypes={};function Ta(){}Fi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ta,onEntering:Ta,onEntered:Ta,onExit:Ta,onExiting:Ta,onExited:Ta};Fi.UNMOUNTED=sc;Fi.EXITED=So;Fi.ENTERING=To;Fi.ENTERED=Na;Fi.EXITING=um;function z2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S0(t,e){var r=function(s){return e&&B.isValidElement(s)?e(s):s},n=Object.create(null);return t&&B.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function $2(t,e){t=t||{},e=e||{};function r(y){return y in e?e[y]:t[y]}var n=Object.create(null),i=[];for(var s in t)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var l,c={};for(var f in e){if(n[f])for(l=0;l<n[f].length;l++){var h=n[f][l];c[n[f][l]]=r(h)}c[f]=r(f)}for(l=0;l<i.length;l++)c[i[l]]=r(i[l]);return c}function Po(t,e,r){return r[e]!=null?r[e]:t.props[e]}function V2(t,e){return S0(t.children,function(r){return B.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Po(r,"appear",t),enter:Po(r,"enter",t),exit:Po(r,"exit",t)})})}function W2(t,e,r){var n=S0(t.children),i=$2(e,n);return Object.keys(i).forEach(function(s){var l=i[s];if(B.isValidElement(l)){var c=s in e,f=s in n,h=e[s],y=B.isValidElement(h)&&!h.props.in;f&&(!c||y)?i[s]=B.cloneElement(l,{onExited:r.bind(null,l),in:!0,exit:Po(l,"exit",t),enter:Po(l,"enter",t)}):!f&&c&&!y?i[s]=B.cloneElement(l,{in:!1}):f&&c&&B.isValidElement(h)&&(i[s]=B.cloneElement(l,{onExited:r.bind(null,l),in:h.props.in,exit:Po(l,"exit",t),enter:Po(l,"enter",t)}))}}),i}var H2=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},X2={component:"div",childFactory:function(e){return e}},T0=function(t){rT(e,t);function e(n,i){var s;s=t.call(this,n,i)||this;var l=s.handleExited.bind(z2(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var l=s.children,c=s.handleExited,f=s.firstRender;return{children:f?V2(i,c):W2(i,l,c),firstRender:!1}},r.handleExited=function(i,s){var l=S0(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var f=Bf({},c.children);return delete f[i.key],{children:f}}))},r.render=function(){var i=this.props,s=i.component,l=i.childFactory,c=tT(i,["component","childFactory"]),f=this.state.contextValue,h=H2(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,s===null?Qi.createElement($f.Provider,{value:f},h):Qi.createElement($f.Provider,{value:f},Qi.createElement(s,c,h))},e}(Qi.Component);T0.propTypes={};T0.defaultProps=X2;const E0=t=>t.scrollTop;function Vo(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function Y2(t){return $t("MuiPaper",t)}Bt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const K2=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return Vt(s,Y2,i)},q2=He("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(Ft(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),R0=B.forwardRef(function(e,r){var x;const n=Xt({props:e,name:"MuiPaper"}),i=to(),{className:s,component:l="div",elevation:c=1,square:f=!1,variant:h="elevation",...y}=n,b={...n,component:l,elevation:c,square:f,variant:h},w=K2(b);return z.jsx(q2,{as:l,ownerState:b,className:at(w.root,s),ref:r,...y,style:{...h==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(x=i.vars.overlays)==null?void 0:x[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Rr("#fff",am(c))}, ${Rr("#fff",am(c))})`}},...y.style}})});function gi(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:s,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...f}=e,{component:h,slots:y={[t]:void 0},slotProps:b={[t]:void 0},...w}=s,x=y[t]||n,A=KS(b[t],i),{props:{component:E,...k},internalRef:O}=YS({className:r,...f,externalForwardedProps:t==="root"?w:void 0,externalSlotProps:A}),N=qr(O,A==null?void 0:A.ref,e.ref),M=t==="root"?E||h:E,R=XS(x,{...t==="root"&&!h&&!y[t]&&l,...t!=="root"&&!y[t]&&l,...k,...M&&!c&&{as:M},...M&&c&&{component:M},ref:N},i);return[x,R]}class Vf{constructor(){H(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Vf}static use(){const e=VS(Vf.create).current,[r,n]=B.useState(!1);return e.shouldMount=r,e.setShouldMount=n,B.useEffect(e.mountEffect,[r]),e}mount(){return this.mounted||(this.mounted=Q2(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...e)})}stop(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...e)})}pulsate(...e){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...e)})}}function Z2(){return Vf.use()}function Q2(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function J2(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:l,in:c,onExited:f,timeout:h}=t,[y,b]=B.useState(!1),w=at(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),x={width:l,height:l,top:-(l/2)+s,left:-(l/2)+i},A=at(r.child,y&&r.childLeaving,n&&r.childPulsate);return!c&&!y&&b(!0),B.useEffect(()=>{if(!c&&f!=null){const E=setTimeout(f,h);return()=>{clearTimeout(E)}}},[f,c,h]),z.jsx("span",{className:w,style:x,children:z.jsx("span",{className:A})})}const hi=Bt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),fm=550,G2=80,e3=zc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,t3=zc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,r3=zc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,n3=He("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),i3=He(J2,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${hi.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${e3};
    animation-duration: ${fm}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${hi.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${hi.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${hi.childLeaving} {
    opacity: 0;
    animation-name: ${t3};
    animation-duration: ${fm}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${hi.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${r3};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,s3=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:l,...c}=n,[f,h]=B.useState([]),y=B.useRef(0),b=B.useRef(null);B.useEffect(()=>{b.current&&(b.current(),b.current=null)},[f]);const w=B.useRef(!1),x=WS(),A=B.useRef(null),E=B.useRef(null),k=B.useCallback(R=>{const{pulsate:P,rippleX:I,rippleY:j,rippleSize:te,cb:oe}=R;h(C=>[...C,z.jsx(i3,{classes:{ripple:at(s.ripple,hi.ripple),rippleVisible:at(s.rippleVisible,hi.rippleVisible),ripplePulsate:at(s.ripplePulsate,hi.ripplePulsate),child:at(s.child,hi.child),childLeaving:at(s.childLeaving,hi.childLeaving),childPulsate:at(s.childPulsate,hi.childPulsate)},timeout:fm,pulsate:P,rippleX:I,rippleY:j,rippleSize:te},y.current)]),y.current+=1,b.current=oe},[s]),O=B.useCallback((R={},P={},I=()=>{})=>{const{pulsate:j=!1,center:te=i||P.pulsate,fakeElement:oe=!1}=P;if((R==null?void 0:R.type)==="mousedown"&&w.current){w.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(w.current=!0);const C=oe?null:E.current,F=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let K,V,Q;if(te||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)K=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:J,clientY:ie}=R.touches&&R.touches.length>0?R.touches[0]:R;K=Math.round(J-F.left),V=Math.round(ie-F.top)}if(te)Q=Math.sqrt((2*F.width**2+F.height**2)/3),Q%2===0&&(Q+=1);else{const J=Math.max(Math.abs((C?C.clientWidth:0)-K),K)*2+2,ie=Math.max(Math.abs((C?C.clientHeight:0)-V),V)*2+2;Q=Math.sqrt(J**2+ie**2)}R!=null&&R.touches?A.current===null&&(A.current=()=>{k({pulsate:j,rippleX:K,rippleY:V,rippleSize:Q,cb:I})},x.start(G2,()=>{A.current&&(A.current(),A.current=null)})):k({pulsate:j,rippleX:K,rippleY:V,rippleSize:Q,cb:I})},[i,k,x]),N=B.useCallback(()=>{O({},{pulsate:!0})},[O]),M=B.useCallback((R,P)=>{if(x.clear(),(R==null?void 0:R.type)==="touchend"&&A.current){A.current(),A.current=null,x.start(0,()=>{M(R,P)});return}A.current=null,h(I=>I.length>0?I.slice(1):I),b.current=P},[x]);return B.useImperativeHandle(r,()=>({pulsate:N,start:O,stop:M}),[N,O,M]),z.jsx(n3,{className:at(hi.root,s.root,l),ref:E,...c,children:z.jsx(T0,{component:null,exit:!0,children:f})})});function o3(t){return $t("MuiButtonBase",t)}const a3=Bt("MuiButtonBase",["root","disabled","focusVisible"]),l3=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,l=Vt({root:["root",e&&"disabled",r&&"focusVisible"]},o3,i);return r&&n&&(l.root+=` ${n}`),l},c3=He("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${a3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),al=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:l,className:c,component:f="button",disabled:h=!1,disableRipple:y=!1,disableTouchRipple:b=!1,focusRipple:w=!1,focusVisibleClassName:x,LinkComponent:A="a",onBlur:E,onClick:k,onContextMenu:O,onDragLeave:N,onFocus:M,onFocusVisible:R,onKeyDown:P,onKeyUp:I,onMouseDown:j,onMouseLeave:te,onMouseUp:oe,onTouchEnd:C,onTouchMove:F,onTouchStart:K,tabIndex:V=0,TouchRippleProps:Q,touchRippleRef:J,type:ie,...ve}=n,se=B.useRef(null),re=Z2(),ye=qr(re.ref,J),[G,ue]=B.useState(!1);h&&G&&ue(!1),B.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),se.current.focus()}}),[]);const Se=re.shouldMount&&!y&&!h;B.useEffect(()=>{G&&w&&!y&&re.pulsate()},[y,w,G,re]);const Me=hs(re,"start",j,b),de=hs(re,"stop",O,b),De=hs(re,"stop",N,b),$e=hs(re,"stop",oe,b),Be=hs(re,"stop",rt=>{G&&rt.preventDefault(),te&&te(rt)},b),Oe=hs(re,"start",K,b),Ue=hs(re,"stop",C,b),ot=hs(re,"stop",F,b),qe=hs(re,"stop",rt=>{jf(rt.target)||ue(!1),E&&E(rt)},!1),ut=Bn(rt=>{se.current||(se.current=rt.currentTarget),jf(rt.target)&&(ue(!0),R&&R(rt)),M&&M(rt)}),et=()=>{const rt=se.current;return f&&f!=="button"&&!(rt.tagName==="A"&&rt.href)},Mt=Bn(rt=>{w&&!rt.repeat&&G&&rt.key===" "&&re.stop(rt,()=>{re.start(rt)}),rt.target===rt.currentTarget&&et()&&rt.key===" "&&rt.preventDefault(),P&&P(rt),rt.target===rt.currentTarget&&et()&&rt.key==="Enter"&&!h&&(rt.preventDefault(),k&&k(rt))}),Ut=Bn(rt=>{w&&rt.key===" "&&G&&!rt.defaultPrevented&&re.stop(rt,()=>{re.pulsate(rt)}),I&&I(rt),k&&rt.target===rt.currentTarget&&et()&&rt.key===" "&&!rt.defaultPrevented&&k(rt)});let bt=f;bt==="button"&&(ve.href||ve.to)&&(bt=A);const xt={};bt==="button"?(xt.type=ie===void 0?"button":ie,xt.disabled=h):(!ve.href&&!ve.to&&(xt.role="button"),h&&(xt["aria-disabled"]=h));const Dt=qr(r,se),Lt={...n,centerRipple:s,component:f,disabled:h,disableRipple:y,disableTouchRipple:b,focusRipple:w,tabIndex:V,focusVisible:G},gt=l3(Lt);return z.jsxs(c3,{as:bt,className:at(gt.root,c),ownerState:Lt,onBlur:qe,onClick:k,onContextMenu:de,onFocus:ut,onKeyDown:Mt,onKeyUp:Ut,onMouseDown:Me,onMouseLeave:Be,onMouseUp:$e,onDragLeave:De,onTouchEnd:Ue,onTouchMove:ot,onTouchStart:Oe,ref:Dt,tabIndex:h?-1:V,type:ie,...xt,...ve,children:[l,Se?z.jsx(s3,{ref:ye,center:s,...Q}):null]})});function hs(t,e,r,n=!1){return Bn(i=>(r&&r(i),n||t[e](i),!0))}function u3(t){return typeof t.main=="string"}function f3(t,e=[]){if(!u3(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function Tn(t=[]){return([,e])=>e&&f3(e,t)}function d3(t){return $t("MuiCircularProgress",t)}Bt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const $s=44,dm=zc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,hm=zc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,h3=typeof dm!="string"?g0`
        animation: ${dm} 1.4s linear infinite;
      `:null,p3=typeof hm!="string"?g0`
        animation: ${hm} 1.4s ease-in-out infinite;
      `:null,g3=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,s={root:["root",r,`color${tt(n)}`],svg:["svg"],circle:["circle",`circle${tt(r)}`,i&&"circleDisableShrink"]};return Vt(s,d3,e)},m3=He("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${tt(r.color)}`]]}})(Ft(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:h3||{animation:`${dm} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),_3=He("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),y3=He("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${tt(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(Ft(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:p3||{animation:`${hm} 1.4s ease-in-out infinite`}}]}))),x0=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:l=!1,size:c=40,style:f,thickness:h=3.6,value:y=0,variant:b="indeterminate",...w}=n,x={...n,color:s,disableShrink:l,size:c,thickness:h,value:y,variant:b},A=g3(x),E={},k={},O={};if(b==="determinate"){const N=2*Math.PI*(($s-h)/2);E.strokeDasharray=N.toFixed(3),O["aria-valuenow"]=Math.round(y),E.strokeDashoffset=`${((100-y)/100*N).toFixed(3)}px`,k.transform="rotate(-90deg)"}return z.jsx(m3,{className:at(A.root,i),style:{width:c,height:c,...k,...f},ownerState:x,ref:r,role:"progressbar",...O,...w,children:z.jsx(_3,{className:A.svg,ownerState:x,viewBox:`${$s/2} ${$s/2} ${$s} ${$s}`,children:z.jsx(y3,{className:A.circle,style:E,ownerState:x,cx:$s,cy:$s,r:($s-h)/2,fill:"none",strokeWidth:h})})})});function v3(t){return $t("MuiIconButton",t)}const gw=Bt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),w3=t=>{const{classes:e,disabled:r,color:n,edge:i,size:s,loading:l}=t,c={root:["root",l&&"loading",r&&"disabled",n!=="default"&&`color${tt(n)}`,i&&`edge${tt(i)}`,`size${tt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Vt(c,v3,e)},b3=He(al,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${tt(r.color)}`],r.edge&&e[`edge${tt(r.edge)}`],e[`size${tt(r.size)}`]]}})(Ft(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ft(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${gw.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${gw.loading}`]:{color:"transparent"}}))),S3=He("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),T3=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:l,color:c="default",disabled:f=!1,disableFocusRipple:h=!1,size:y="medium",id:b,loading:w=null,loadingIndicator:x,...A}=n,E=Hc(b),k=x??z.jsx(x0,{"aria-labelledby":E,color:"inherit",size:16}),O={...n,edge:i,color:c,disabled:f,disableFocusRipple:h,loading:w,loadingIndicator:k,size:y},N=w3(O);return z.jsxs(b3,{id:E,className:at(N.root,l),centerRipple:!0,focusRipple:!h,disabled:f||w,ref:r,...A,ownerState:O,children:[typeof w=="boolean"&&z.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:z.jsx(S3,{className:N.loadingIndicator,ownerState:O,children:w&&k})}),s]})});function E3(t){return $t("MuiTypography",t)}Bt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const R3={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},x3=D2(),C3=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:s,classes:l}=t,c={root:["root",s,t.align!=="inherit"&&`align${tt(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Vt(c,E3,l)},A3=He("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${tt(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(Ft(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(t.palette).filter(Tn()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${tt(r)}`},style:{color:(t.vars||t).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),mw={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gs=B.forwardRef(function(e,r){const{color:n,...i}=Xt({props:e,name:"MuiTypography"}),s=!R3[n],l=x3({...i,...s&&{color:n}}),{align:c="inherit",className:f,component:h,gutterBottom:y=!1,noWrap:b=!1,paragraph:w=!1,variant:x="body1",variantMapping:A=mw,...E}=l,k={...l,align:c,color:n,className:f,component:h,gutterBottom:y,noWrap:b,paragraph:w,variant:x,variantMapping:A},O=h||(w?"p":A[x]||mw[x])||"span",N=C3(k);return z.jsx(A3,{as:O,ref:r,className:at(N.root,f),...E,ownerState:k,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...E.style}})});function P3(t){return typeof t=="function"?t():t}const M3=B.forwardRef(function(e,r){const{children:n,container:i,disablePortal:s=!1}=e,[l,c]=B.useState(null),f=qr(B.isValidElement(n)?ol(n):null,r);if(wi(()=>{s||c(P3(i)||document.body)},[i,s]),wi(()=>{if(l&&!s)return sm(r,l),()=>{sm(r,null)}},[r,l,s]),s){if(B.isValidElement(n)){const h={ref:f};return B.cloneElement(n,h)}return n}return l&&zf.createPortal(n,l)});function k3(t){return $t("MuiListSubheader",t)}Bt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const I3=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:s}=t,l={root:["root",r!=="default"&&`color${tt(r)}`,!n&&"gutters",i&&"inset",!s&&"sticky"]};return Vt(l,k3,e)},N3=He("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${tt(r.color)}`],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(Ft(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),pm=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiListSubheader"}),{className:i,color:s="default",component:l="li",disableGutters:c=!1,disableSticky:f=!1,inset:h=!1,...y}=n,b={...n,color:s,component:l,disableGutters:c,disableSticky:f,inset:h},w=I3(b);return z.jsx(N3,{as:l,className:at(w.root,i),ref:r,ownerState:b,...y})});pm&&(pm.muiSkipListHighlight=!0);function af(t){return parseInt(t,10)||0}const O3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function F3(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const D3=B.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:s=1,style:l,value:c,...f}=e,{current:h}=B.useRef(c!=null),y=B.useRef(null),b=qr(r,y),w=B.useRef(null),x=B.useRef(null),A=B.useCallback(()=>{const O=y.current,M=Sn(O).getComputedStyle(O);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};const R=x.current;R.style.width=M.width,R.value=O.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const P=M.boxSizing,I=af(M.paddingBottom)+af(M.paddingTop),j=af(M.borderBottomWidth)+af(M.borderTopWidth),te=R.scrollHeight;R.value="x";const oe=R.scrollHeight;let C=te;s&&(C=Math.max(Number(s)*oe,C)),i&&(C=Math.min(Number(i)*oe,C)),C=Math.max(C,oe);const F=C+(P==="border-box"?I+j:0),K=Math.abs(C-te)<=1;return{outerHeightStyle:F,overflowing:K}},[i,s,e.placeholder]),E=B.useCallback(()=>{const O=A();if(F3(O))return;const N=O.outerHeightStyle,M=y.current;w.current!==N&&(w.current=N,M.style.height=`${N}px`),M.style.overflow=O.overflowing?"hidden":""},[A]);wi(()=>{const O=()=>{E()};let N;const M=Wc(O),R=y.current,P=Sn(R);P.addEventListener("resize",M);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(O),I.observe(R)),()=>{M.clear(),cancelAnimationFrame(N),P.removeEventListener("resize",M),I&&I.disconnect()}},[A,E]),wi(()=>{E()});const k=O=>{h||E(),n&&n(O)};return z.jsxs(B.Fragment,{children:[z.jsx("textarea",{value:c,onChange:k,ref:b,rows:s,style:l,...f}),z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:x,tabIndex:-1,style:{...O3.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function Oo(t){return typeof t=="string"}function ro({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const C0=B.createContext(void 0);function rs(){return B.useContext(C0)}function _w(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Wf(t,e=!1){return t&&(_w(t.value)&&t.value!==""||e&&_w(t.defaultValue)&&t.defaultValue!=="")}function B3(t){return t.startAdornment}function U3(t){return $t("MuiInputBase",t)}const qa=Bt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var yw;const Zd=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${tt(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},Qd=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},L3=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:s,focused:l,formControl:c,fullWidth:f,hiddenLabel:h,multiline:y,readOnly:b,size:w,startAdornment:x,type:A}=t,E={root:["root",`color${tt(r)}`,n&&"disabled",i&&"error",f&&"fullWidth",l&&"focused",c&&"formControl",w&&w!=="medium"&&`size${tt(w)}`,y&&"multiline",x&&"adornedStart",s&&"adornedEnd",h&&"hiddenLabel",b&&"readOnly"],input:["input",n&&"disabled",A==="search"&&"inputTypeSearch",y&&"inputMultiline",w==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",x&&"inputAdornedStart",s&&"inputAdornedEnd",b&&"readOnly"]};return Vt(E,U3,e)},Jd=He("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Zd})(Ft(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${qa.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Gd=He("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Qd})(Ft(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${qa.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${qa.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),vw=F2({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),A0=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:l,className:c,color:f,components:h={},componentsProps:y={},defaultValue:b,disabled:w,disableInjectingGlobalStyles:x,endAdornment:A,error:E,fullWidth:k=!1,id:O,inputComponent:N="input",inputProps:M={},inputRef:R,margin:P,maxRows:I,minRows:j,multiline:te=!1,name:oe,onBlur:C,onChange:F,onClick:K,onFocus:V,onKeyDown:Q,onKeyUp:J,placeholder:ie,readOnly:ve,renderSuffix:se,rows:re,size:ye,slotProps:G={},slots:ue={},startAdornment:Se,type:Me="text",value:de,...De}=n,$e=M.value!=null?M.value:de,{current:Be}=B.useRef($e!=null),Oe=B.useRef(),Ue=B.useCallback(yt=>{},[]),ot=qr(Oe,R,M.ref,Ue),[qe,ut]=B.useState(!1),et=rs(),Mt=ro({props:n,muiFormControl:et,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Mt.focused=et?et.focused:qe,B.useEffect(()=>{!et&&w&&qe&&(ut(!1),C&&C())},[et,w,qe,C]);const Ut=et&&et.onFilled,bt=et&&et.onEmpty,xt=B.useCallback(yt=>{Wf(yt)?Ut&&Ut():bt&&bt()},[Ut,bt]);wi(()=>{Be&&xt({value:$e})},[$e,xt,Be]);const Dt=yt=>{V&&V(yt),M.onFocus&&M.onFocus(yt),et&&et.onFocus?et.onFocus(yt):ut(!0)},Lt=yt=>{C&&C(yt),M.onBlur&&M.onBlur(yt),et&&et.onBlur?et.onBlur(yt):ut(!1)},gt=(yt,...tr)=>{if(!Be){const Gt=yt.target||Oe.current;if(Gt==null)throw new Error(vs(1));xt({value:Gt.value})}M.onChange&&M.onChange(yt,...tr),F&&F(yt,...tr)};B.useEffect(()=>{xt(Oe.current)},[]);const rt=yt=>{Oe.current&&yt.currentTarget===yt.target&&Oe.current.focus(),K&&K(yt)};let ur=N,qt=M;te&&ur==="input"&&(re?qt={type:void 0,minRows:re,maxRows:re,...qt}:qt={type:void 0,maxRows:I,minRows:j,...qt},ur=D3);const Fe=yt=>{xt(yt.animationName==="mui-auto-fill-cancel"?Oe.current:{value:"x"})};B.useEffect(()=>{et&&et.setAdornedStart(!!Se)},[et,Se]);const Qe={...n,color:Mt.color||"primary",disabled:Mt.disabled,endAdornment:A,error:Mt.error,focused:Mt.focused,formControl:et,fullWidth:k,hiddenLabel:Mt.hiddenLabel,multiline:te,size:Mt.size,startAdornment:Se,type:Me},dt=L3(Qe),Tt=ue.root||h.Root||Jd,Ot=G.root||y.root||{},ct=ue.input||h.Input||Gd;return qt={...qt,...G.input??y.input},z.jsxs(B.Fragment,{children:[!x&&typeof vw=="function"&&(yw||(yw=z.jsx(vw,{}))),z.jsxs(Tt,{...Ot,ref:r,onClick:rt,...De,...!Oo(Tt)&&{ownerState:{...Qe,...Ot.ownerState}},className:at(dt.root,Ot.className,c,ve&&"MuiInputBase-readOnly"),children:[Se,z.jsx(C0.Provider,{value:null,children:z.jsx(ct,{"aria-invalid":Mt.error,"aria-describedby":i,autoComplete:s,autoFocus:l,defaultValue:b,disabled:Mt.disabled,id:O,onAnimationStart:Fe,name:oe,placeholder:ie,readOnly:ve,required:Mt.required,rows:re,value:$e,onKeyDown:Q,onKeyUp:J,type:Me,...qt,...!Oo(ct)&&{as:ur,ownerState:{...Qe,...qt.ownerState}},ref:ot,className:at(dt.input,qt.className,ve&&"MuiInputBase-readOnly"),onBlur:Lt,onChange:gt,onFocus:Dt})}),A,se?se({...Mt,startAdornment:Se}):null]})]})});function j3(t){return $t("MuiInput",t)}const Wl={...qa,...Bt("MuiInput",["root","underline","input"])};function z3(t){return $t("MuiOutlinedInput",t)}const zi={...qa,...Bt("MuiOutlinedInput",["root","notchedOutline","input"])};function $3(t){return $t("MuiFilledInput",t)}const yo={...qa,...Bt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},V3=bs(z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),W3={entering:{opacity:1},entered:{opacity:1}},H3=B.forwardRef(function(e,r){const n=to(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,easing:f,in:h,onEnter:y,onEntered:b,onEntering:w,onExit:x,onExited:A,onExiting:E,style:k,timeout:O=i,TransitionComponent:N=Fi,...M}=e,R=B.useRef(null),P=qr(R,ol(c),r),I=Q=>J=>{if(Q){const ie=R.current;J===void 0?Q(ie):Q(ie,J)}},j=I(w),te=I((Q,J)=>{E0(Q);const ie=Vo({style:k,timeout:O,easing:f},{mode:"enter"});Q.style.webkitTransition=n.transitions.create("opacity",ie),Q.style.transition=n.transitions.create("opacity",ie),y&&y(Q,J)}),oe=I(b),C=I(E),F=I(Q=>{const J=Vo({style:k,timeout:O,easing:f},{mode:"exit"});Q.style.webkitTransition=n.transitions.create("opacity",J),Q.style.transition=n.transitions.create("opacity",J),x&&x(Q)}),K=I(A),V=Q=>{s&&s(R.current,Q)};return z.jsx(N,{appear:l,in:h,nodeRef:R,onEnter:te,onEntered:oe,onEntering:j,onExit:F,onExited:K,onExiting:C,addEndListener:V,timeout:O,...M,children:(Q,{ownerState:J,...ie})=>B.cloneElement(c,{style:{opacity:0,visibility:Q==="exited"&&!h?"hidden":void 0,...W3[Q],...k,...c.props.style},ref:P,...ie})})});function X3(t){return $t("MuiBackdrop",t)}Bt("MuiBackdrop",["root","invisible"]);const Y3=t=>{const{classes:e,invisible:r}=t;return Vt({root:["root",r&&"invisible"]},X3,e)},K3=He("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),nT=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",invisible:c=!1,open:f,components:h={},componentsProps:y={},slotProps:b={},slots:w={},TransitionComponent:x,transitionDuration:A,...E}=n,k={...n,component:l,invisible:c},O=Y3(k),N={transition:x,root:h.Root,...w},M={...y,...b},R={slots:N,slotProps:M},[P,I]=gi("root",{elementType:K3,externalForwardedProps:R,className:at(O.root,s),ownerState:k}),[j,te]=gi("transition",{elementType:H3,externalForwardedProps:R,ownerState:k});return z.jsx(j,{in:f,timeout:A,...E,...te,children:z.jsx(P,{"aria-hidden":!0,...I,classes:O,ref:r,children:i})})}),q3=Bt("MuiBox",["root"]),Z3=eT(),cn=vP({themeId:Uc,defaultTheme:Z3,defaultClassName:q3.root,generateClassName:DS.generate});function Q3(t){return $t("MuiButton",t)}const vo=Bt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),J3=B.createContext({}),G3=B.createContext(void 0),eM=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:s,loading:l,loadingPosition:c,classes:f}=t,h={root:["root",l&&"loading",s,`${s}${tt(e)}`,`size${tt(i)}`,`${s}Size${tt(i)}`,`color${tt(e)}`,r&&"disableElevation",n&&"fullWidth",l&&`loadingPosition${tt(c)}`],startIcon:["icon","startIcon",`iconSize${tt(i)}`],endIcon:["icon","endIcon",`iconSize${tt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},y=Vt(h,Q3,f);return{...f,...y}},iT=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],tM=He(al,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${tt(r.color)}`],e[`size${tt(r.size)}`],e[`${r.variant}Size${tt(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vo.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${vo.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${vo.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vo.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Tn()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:Rr(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${vo.loading}`]:{color:"transparent"}}}]}})),rM=He("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${tt(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...iT]})),nM=He("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${tt(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...iT]})),iM=He("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ww=He("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),tg=B.forwardRef(function(e,r){const n=B.useContext(J3),i=B.useContext(G3),s=Pc(n,e),l=Xt({props:s,name:"MuiButton"}),{children:c,color:f="primary",component:h="button",className:y,disabled:b=!1,disableElevation:w=!1,disableFocusRipple:x=!1,endIcon:A,focusVisibleClassName:E,fullWidth:k=!1,id:O,loading:N=null,loadingIndicator:M,loadingPosition:R="center",size:P="medium",startIcon:I,type:j,variant:te="text",...oe}=l,C=Hc(O),F=M??z.jsx(x0,{"aria-labelledby":C,color:"inherit",size:16}),K={...l,color:f,component:h,disabled:b,disableElevation:w,disableFocusRipple:x,fullWidth:k,loading:N,loadingIndicator:F,loadingPosition:R,size:P,type:j,variant:te},V=eM(K),Q=(I||N&&R==="start")&&z.jsx(rM,{className:V.startIcon,ownerState:K,children:I||z.jsx(ww,{className:V.loadingIconPlaceholder,ownerState:K})}),J=(A||N&&R==="end")&&z.jsx(nM,{className:V.endIcon,ownerState:K,children:A||z.jsx(ww,{className:V.loadingIconPlaceholder,ownerState:K})}),ie=i||"",ve=typeof N=="boolean"?z.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:N&&z.jsx(iM,{className:V.loadingIndicator,ownerState:K,children:F})}):null;return z.jsxs(tM,{ownerState:K,className:at(n.className,V.root,y,ie),component:h,disabled:b||N,focusRipple:!x,focusVisibleClassName:at(V.focusVisible,E),ref:r,type:j,id:C,...oe,classes:V,children:[Q,R!=="end"&&ve,c,R==="end"&&ve,J]})});function sM(t){return $t("PrivateSwitchBase",t)}Bt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const oM=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,s={root:["root",r&&"checked",n&&"disabled",i&&`edge${tt(i)}`],input:["input"]};return Vt(s,sM,e)},aM=He(al)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),lM=He("input",{shouldForwardProp:gn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),P0=B.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:s,className:l,defaultChecked:c,disabled:f,disableFocusRipple:h=!1,edge:y=!1,icon:b,id:w,inputProps:x,inputRef:A,name:E,onBlur:k,onChange:O,onFocus:N,readOnly:M,required:R=!1,tabIndex:P,type:I,value:j,...te}=e,[oe,C]=Mc({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),F=rs(),K=re=>{N&&N(re),F&&F.onFocus&&F.onFocus(re)},V=re=>{k&&k(re),F&&F.onBlur&&F.onBlur(re)},Q=re=>{if(re.nativeEvent.defaultPrevented)return;const ye=re.target.checked;C(ye),O&&O(re,ye)};let J=f;F&&typeof J>"u"&&(J=F.disabled);const ie=I==="checkbox"||I==="radio",ve={...e,checked:oe,disabled:J,disableFocusRipple:h,edge:y},se=oM(ve);return z.jsxs(aM,{component:"span",className:at(se.root,l),centerRipple:!0,focusRipple:!h,disabled:J,tabIndex:null,role:void 0,onFocus:K,onBlur:V,ownerState:ve,ref:r,...te,children:[z.jsx(lM,{autoFocus:n,checked:i,defaultChecked:c,className:se.input,disabled:J,id:ie?w:void 0,name:E,onChange:Q,readOnly:M,ref:A,required:R,ownerState:ve,tabIndex:P,type:I,...I==="checkbox"&&j===void 0?{}:{value:j},...x}),oe?s:b]})}),cM=bs(z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),uM=bs(z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),fM=bs(z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function dM(t){return $t("MuiCheckbox",t)}const rg=Bt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),hM=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,s={root:["root",r&&"indeterminate",`color${tt(n)}`,`size${tt(i)}`]},l=Vt(s,dM,e);return{...e,...l}},pM=He(P0,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${tt(r.size)}`],r.color!=="default"&&e[`color${tt(r.color)}`]]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{[`&.${rg.checked}, &.${rg.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${rg.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),gM=z.jsx(uM,{}),mM=z.jsx(cM,{}),_M=z.jsx(fM,{}),yM=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=gM,color:s="primary",icon:l=mM,indeterminate:c=!1,indeterminateIcon:f=_M,inputProps:h,size:y="medium",disableRipple:b=!1,className:w,...x}=n,A=c?f:l,E=c?f:i,k={...n,disableRipple:b,color:s,indeterminate:c,size:y},O=hM(k);return z.jsx(pM,{type:"checkbox",inputProps:{"data-indeterminate":c,...h},icon:B.cloneElement(A,{fontSize:A.props.fontSize??y}),checkedIcon:B.cloneElement(E,{fontSize:E.props.fontSize??y}),ownerState:k,ref:r,className:at(O.root,w),disableRipple:b,...x,classes:O})});function vM(t){const e=rn(t);return e.body===t?Sn(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function gc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bw(t){return parseInt(Sn(t).getComputedStyle(t).paddingRight,10)||0}function wM(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function Sw(t,e,r,n,i){const s=[e,r,...n];[].forEach.call(t.children,l=>{const c=!s.includes(l),f=!wM(l);c&&f&&gc(l,i)})}function ng(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function bM(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(vM(n)){const l=HS(Sn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${bw(n)+l}px`;const c=rn(n).querySelectorAll(".mui-fixed");[].forEach.call(c,f=>{r.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${bw(f)+l}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=rn(n).body;else{const l=n.parentElement,c=Sn(n);s=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}r.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{r.forEach(({value:s,el:l,property:c})=>{s?l.style.setProperty(c,s):l.style.removeProperty(c)})}}function SM(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class TM{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&gc(e.modalRef,!1);const i=SM(r);Sw(r,e.mount,e.modalRef,i,!0);const s=ng(this.containers,l=>l.container===r);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=ng(this.containers,s=>s.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=bM(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=ng(this.containers,l=>l.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&gc(e.modalRef,r),Sw(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=s.modals[s.modals.length-1];l.modalRef&&gc(l.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const EM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function RM(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function xM(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function CM(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||xM(t))}function AM(t){const e=[],r=[];return Array.from(t.querySelectorAll(EM)).forEach((n,i)=>{const s=RM(n);s===-1||!CM(n)||(s===0?e.push(n):r.push({documentOrder:i,tabIndex:s,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function PM(){return!0}function MM(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=AM,isEnabled:l=PM,open:c}=t,f=B.useRef(!1),h=B.useRef(null),y=B.useRef(null),b=B.useRef(null),w=B.useRef(null),x=B.useRef(!1),A=B.useRef(null),E=qr(ol(e),A),k=B.useRef(null);B.useEffect(()=>{!c||!A.current||(x.current=!r)},[r,c]),B.useEffect(()=>{if(!c||!A.current)return;const M=rn(A.current);return A.current.contains(M.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex","-1"),x.current&&A.current.focus()),()=>{i||(b.current&&b.current.focus&&(f.current=!0,b.current.focus()),b.current=null)}},[c]),B.useEffect(()=>{if(!c||!A.current)return;const M=rn(A.current),R=j=>{k.current=j,!(n||!l()||j.key!=="Tab")&&M.activeElement===A.current&&j.shiftKey&&(f.current=!0,y.current&&y.current.focus())},P=()=>{var oe,C;const j=A.current;if(j===null)return;if(!M.hasFocus()||!l()||f.current){f.current=!1;return}if(j.contains(M.activeElement)||n&&M.activeElement!==h.current&&M.activeElement!==y.current)return;if(M.activeElement!==w.current)w.current=null;else if(w.current!==null)return;if(!x.current)return;let te=[];if((M.activeElement===h.current||M.activeElement===y.current)&&(te=s(A.current)),te.length>0){const F=!!((oe=k.current)!=null&&oe.shiftKey&&((C=k.current)==null?void 0:C.key)==="Tab"),K=te[0],V=te[te.length-1];typeof K!="string"&&typeof V!="string"&&(F?V.focus():K.focus())}else j.focus()};M.addEventListener("focusin",P),M.addEventListener("keydown",R,!0);const I=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(I),M.removeEventListener("focusin",P),M.removeEventListener("keydown",R,!0)}},[r,n,i,l,c,s]);const O=M=>{b.current===null&&(b.current=M.relatedTarget),x.current=!0,w.current=M.target;const R=e.props.onFocus;R&&R(M)},N=M=>{b.current===null&&(b.current=M.relatedTarget),x.current=!0};return z.jsxs(B.Fragment,{children:[z.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:h,"data-testid":"sentinelStart"}),B.cloneElement(e,{ref:E,onFocus:O}),z.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:y,"data-testid":"sentinelEnd"})]})}function kM(t){return typeof t=="function"?t():t}function IM(t){return t?t.props.hasOwnProperty("in"):!1}const Tw=()=>{},lf=new TM;function NM(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:f,open:h,rootRef:y}=t,b=B.useRef({}),w=B.useRef(null),x=B.useRef(null),A=qr(x,y),[E,k]=B.useState(!h),O=IM(c);let N=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(N=!1);const M=()=>rn(w.current),R=()=>(b.current.modalRef=x.current,b.current.mount=w.current,b.current),P=()=>{lf.mount(R(),{disableScrollLock:n}),x.current&&(x.current.scrollTop=0)},I=Bn(()=>{const J=kM(e)||M().body;lf.add(R(),J),x.current&&P()}),j=()=>lf.isTopModal(R()),te=Bn(J=>{w.current=J,J&&(h&&j()?P():x.current&&gc(x.current,N))}),oe=B.useCallback(()=>{lf.remove(R(),N)},[N]);B.useEffect(()=>()=>{oe()},[oe]),B.useEffect(()=>{h?I():(!O||!i)&&oe()},[h,oe,O,i,I]);const C=J=>ie=>{var ve;(ve=J.onKeyDown)==null||ve.call(J,ie),!(ie.key!=="Escape"||ie.which===229||!j())&&(r||(ie.stopPropagation(),f&&f(ie,"escapeKeyDown")))},F=J=>ie=>{var ve;(ve=J.onClick)==null||ve.call(J,ie),ie.target===ie.currentTarget&&f&&f(ie,"backdropClick")};return{getRootProps:(J={})=>{const ie=pc(t);delete ie.onTransitionEnter,delete ie.onTransitionExited;const ve={...ie,...J};return{role:"presentation",...ve,onKeyDown:C(ve),ref:A}},getBackdropProps:(J={})=>{const ie=J;return{"aria-hidden":!0,...ie,onClick:F(ie),open:h}},getTransitionProps:()=>{const J=()=>{k(!1),s&&s()},ie=()=>{k(!0),l&&l(),i&&oe()};return{onEnter:im(J,(c==null?void 0:c.props.onEnter)??Tw),onExited:im(ie,(c==null?void 0:c.props.onExited)??Tw)}},rootRef:A,portalRef:te,isTopModal:j,exited:E,hasTransition:O}}function OM(t){return $t("MuiModal",t)}Bt("MuiModal",["root","hidden","backdrop"]);const FM=t=>{const{open:e,exited:r,classes:n}=t;return Vt({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},OM,n)},DM=He("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(Ft(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),BM=He(nT,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),sT=B.forwardRef(function(e,r){const n=Xt({name:"MuiModal",props:e}),{BackdropComponent:i=BM,BackdropProps:s,classes:l,className:c,closeAfterTransition:f=!1,children:h,container:y,component:b,components:w={},componentsProps:x={},disableAutoFocus:A=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:k=!1,disablePortal:O=!1,disableRestoreFocus:N=!1,disableScrollLock:M=!1,hideBackdrop:R=!1,keepMounted:P=!1,onBackdropClick:I,onClose:j,onTransitionEnter:te,onTransitionExited:oe,open:C,slotProps:F={},slots:K={},theme:V,...Q}=n,J={...n,closeAfterTransition:f,disableAutoFocus:A,disableEnforceFocus:E,disableEscapeKeyDown:k,disablePortal:O,disableRestoreFocus:N,disableScrollLock:M,hideBackdrop:R,keepMounted:P},{getRootProps:ie,getBackdropProps:ve,getTransitionProps:se,portalRef:re,isTopModal:ye,exited:G,hasTransition:ue}=NM({...J,rootRef:r}),Se={...J,exited:G},Me=FM(Se),de={};if(h.props.tabIndex===void 0&&(de.tabIndex="-1"),ue){const{onEnter:qe,onExited:ut}=se();de.onEnter=qe,de.onExited=ut}const De={...Q,slots:{root:w.Root,backdrop:w.Backdrop,...K},slotProps:{...x,...F}},[$e,Be]=gi("root",{elementType:DM,externalForwardedProps:De,getSlotProps:ie,additionalProps:{ref:r,as:b},ownerState:Se,className:at(c,Me==null?void 0:Me.root,!Se.open&&Se.exited&&(Me==null?void 0:Me.hidden))}),[Oe,Ue]=gi("backdrop",{elementType:i,externalForwardedProps:De,additionalProps:s,getSlotProps:qe=>ve({...qe,onClick:ut=>{I&&I(ut),qe!=null&&qe.onClick&&qe.onClick(ut)}}),className:at(s==null?void 0:s.className,Me==null?void 0:Me.backdrop),ownerState:Se}),ot=qr(s==null?void 0:s.ref,Ue.ref);return!P&&!C&&(!ue||G)?null:z.jsx(M3,{ref:re,container:y,disablePortal:O,children:z.jsxs($e,{...Be,children:[!R&&i?z.jsx(Oe,{...Ue,ref:ot}):null,z.jsx(MM,{disableEnforceFocus:E,disableAutoFocus:A,disableRestoreFocus:N,isEnabled:ye,open:C,children:B.cloneElement(h,de)})]})})});function UM(t){return $t("MuiDivider",t)}const Ew=Bt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),LM=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:s,orientation:l,textAlign:c,variant:f}=t;return Vt({root:["root",e&&"absolute",f,s&&"light",l==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&l==="vertical"&&"withChildrenVertical",c==="right"&&l!=="vertical"&&"textAlignRight",c==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},UM,n)},jM=He("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(Ft(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Rr(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),zM=He("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(Ft(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),ms=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:l,orientation:c="horizontal",component:f=s||c==="vertical"?"div":"hr",flexItem:h=!1,light:y=!1,role:b=f!=="hr"?"separator":void 0,textAlign:w="center",variant:x="fullWidth",...A}=n,E={...n,absolute:i,component:f,flexItem:h,light:y,orientation:c,role:b,textAlign:w,variant:x},k=LM(E);return z.jsx(jM,{as:f,className:at(k.root,l),role:b,ref:r,ownerState:E,"aria-orientation":b==="separator"&&(f!=="hr"||c==="vertical")?c:void 0,...A,children:s?z.jsx(zM,{className:k.wrapper,ownerState:E,children:s}):null})});ms&&(ms.muiSkipListHighlight=!0);function $M(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),s=Sn(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const h=s.getComputedStyle(e);l=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let c=0,f=0;if(l&&l!=="none"&&typeof l=="string"){const h=l.split("(")[1].split(")")[0].split(",");c=parseInt(h[4],10),f=parseInt(h[5],10)}return t==="left"?i?`translateX(${i.right+c-n.left}px)`:`translateX(${s.innerWidth+c-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-c}px)`:`translateX(-${n.left+n.width-c}px)`:t==="up"?i?`translateY(${i.bottom+f-n.top}px)`:`translateY(${s.innerHeight+f-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-f}px)`:`translateY(-${n.top+n.height-f}px)`}function VM(t){return typeof t=="function"?t():t}function cf(t,e,r){const n=VM(r),i=$M(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const WM=B.forwardRef(function(e,r){const n=to(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:f,container:h,direction:y="down",easing:b=i,in:w,onEnter:x,onEntered:A,onEntering:E,onExit:k,onExited:O,onExiting:N,style:M,timeout:R=s,TransitionComponent:P=Fi,...I}=e,j=B.useRef(null),te=qr(ol(f),j,r),oe=se=>re=>{se&&(re===void 0?se(j.current):se(j.current,re))},C=oe((se,re)=>{cf(y,se,h),E0(se),x&&x(se,re)}),F=oe((se,re)=>{const ye=Vo({timeout:R,style:M,easing:b},{mode:"enter"});se.style.webkitTransition=n.transitions.create("-webkit-transform",{...ye}),se.style.transition=n.transitions.create("transform",{...ye}),se.style.webkitTransform="none",se.style.transform="none",E&&E(se,re)}),K=oe(A),V=oe(N),Q=oe(se=>{const re=Vo({timeout:R,style:M,easing:b},{mode:"exit"});se.style.webkitTransition=n.transitions.create("-webkit-transform",re),se.style.transition=n.transitions.create("transform",re),cf(y,se,h),k&&k(se)}),J=oe(se=>{se.style.webkitTransition="",se.style.transition="",O&&O(se)}),ie=se=>{l&&l(j.current,se)},ve=B.useCallback(()=>{j.current&&cf(y,j.current,h)},[y,h]);return B.useEffect(()=>{if(w||y==="down"||y==="right")return;const se=Wc(()=>{j.current&&cf(y,j.current,h)}),re=Sn(j.current);return re.addEventListener("resize",se),()=>{se.clear(),re.removeEventListener("resize",se)}},[y,w,h]),B.useEffect(()=>{w||ve()},[w,ve]),z.jsx(P,{nodeRef:j,onEnter:C,onEntered:K,onEntering:F,onExit:Q,onExited:J,onExiting:V,addEndListener:ie,appear:c,in:w,timeout:R,...I,children:(se,{ownerState:re,...ye})=>B.cloneElement(f,{ref:te,style:{visibility:se==="exited"&&!w?"hidden":void 0,...M,...f.props.style},...ye})})});function HM(t){return $t("MuiDrawer",t)}Bt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const oT=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},XM=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root",`anchor${tt(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${tt(r)}`,n!=="temporary"&&`paperAnchorDocked${tt(r)}`]};return Vt(i,HM,e)},YM=He(sT,{name:"MuiDrawer",slot:"Root",overridesResolver:oT})(Ft(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),Rw=He("div",{shouldForwardProp:gn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:oT})({flex:"0 0 auto"}),KM=He(R0,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${tt(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${tt(r.anchor)}`]]}})(Ft(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),aT={left:"right",right:"left",top:"down",bottom:"up"};function Ro(t){return["left","right"].includes(t)}function oc({direction:t},e){return t==="rtl"&&Ro(e)?aT[e]:e}const qM=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiDrawer"}),i=to(),s=Xc(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:f,children:h,className:y,elevation:b=16,hideBackdrop:w=!1,ModalProps:{BackdropProps:x,...A}={},onClose:E,open:k=!1,PaperProps:O={},SlideProps:N,TransitionComponent:M=WM,transitionDuration:R=l,variant:P="temporary",...I}=n,j=B.useRef(!1);B.useEffect(()=>{j.current=!0},[]);const te=oc({direction:s?"rtl":"ltr"},c),C={...n,anchor:c,elevation:b,open:k,variant:P,...I},F=XM(C),K=z.jsx(KM,{elevation:P==="temporary"?b:0,square:!0,...O,className:at(F.paper,O.className),ownerState:C,children:h});if(P==="permanent")return z.jsx(Rw,{className:at(F.root,F.docked,y),ownerState:C,ref:r,...I,children:K});const V=z.jsx(M,{in:k,direction:aT[te],timeout:R,appear:j.current,...N,children:K});return P==="persistent"?z.jsx(Rw,{className:at(F.root,F.docked,y),ownerState:C,ref:r,...I,children:V}):z.jsx(YM,{BackdropProps:{...f,...x,transitionDuration:R},className:at(F.root,F.modal,y),open:k,ownerState:C,onClose:E,hideBackdrop:w,ref:r,...I,...A,children:V})}),ZM=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:s,hiddenLabel:l,multiline:c}=t,f={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${tt(s)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},h=Vt(f,$3,e);return{...e,...h}},QM=He(Jd,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...Zd(t,e),!r.disableUnderline&&e.underline]}})(Ft(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${yo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${yo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yo.disabled}, .${yo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${yo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Tn()).map(([l])=>{var c;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(c=(t.vars||t).palette[l])==null?void 0:c.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),JM=He(Gd,{name:"MuiFilledInput",slot:"Input",overridesResolver:Qd})(Ft(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),M0=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:l,fullWidth:c=!1,hiddenLabel:f,inputComponent:h="input",multiline:y=!1,slotProps:b,slots:w={},type:x="text",...A}=n,E={...n,disableUnderline:i,fullWidth:c,inputComponent:h,multiline:y,type:x},k=ZM(n),O={root:{ownerState:E},input:{ownerState:E}},N=b??l?pn(O,b??l):O,M=w.root??s.Root??QM,R=w.input??s.Input??JM;return z.jsx(A0,{slots:{root:M,input:R},slotProps:N,fullWidth:c,inputComponent:h,multiline:y,ref:r,type:x,...A,classes:k})});M0.muiName="Input";function GM(t){return $t("MuiFormControl",t)}Bt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ek=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${tt(r)}`,n&&"fullWidth"]};return Vt(i,GM,e)},tk=He("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${tt(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Mn=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:l="primary",component:c="div",disabled:f=!1,error:h=!1,focused:y,fullWidth:b=!1,hiddenLabel:w=!1,margin:x="none",required:A=!1,size:E="medium",variant:k="outlined",...O}=n,N={...n,color:l,component:c,disabled:f,error:h,fullWidth:b,hiddenLabel:w,margin:x,required:A,size:E,variant:k},M=ek(N),[R,P]=B.useState(()=>{let J=!1;return i&&B.Children.forEach(i,ie=>{if(!Jp(ie,["Input","Select"]))return;const ve=Jp(ie,["Select"])?ie.props.input:ie;ve&&B3(ve.props)&&(J=!0)}),J}),[I,j]=B.useState(()=>{let J=!1;return i&&B.Children.forEach(i,ie=>{Jp(ie,["Input","Select"])&&(Wf(ie.props,!0)||Wf(ie.props.inputProps,!0))&&(J=!0)}),J}),[te,oe]=B.useState(!1);f&&te&&oe(!1);const C=y!==void 0&&!f?y:te;let F;B.useRef(!1);const K=B.useCallback(()=>{j(!0)},[]),V=B.useCallback(()=>{j(!1)},[]),Q=B.useMemo(()=>({adornedStart:R,setAdornedStart:P,color:l,disabled:f,error:h,filled:I,focused:C,fullWidth:b,hiddenLabel:w,size:E,onBlur:()=>{oe(!1)},onFocus:()=>{oe(!0)},onEmpty:V,onFilled:K,registerEffect:F,required:A,variant:k}),[R,l,f,h,I,C,b,w,F,V,K,A,E,k]);return z.jsx(C0.Provider,{value:Q,children:z.jsx(tk,{as:c,ownerState:N,className:at(M.root,s),ref:r,...O,children:i})})});function rk(t){return $t("MuiFormControlLabel",t)}const ac=Bt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),nk=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:s}=t,l={root:["root",r&&"disabled",`labelPlacement${tt(n)}`,i&&"error",s&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return Vt(l,rk,e)},ik=He("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${ac.label}`]:e.label},e.root,e[`labelPlacement${tt(r.labelPlacement)}`]]}})(Ft(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ac.disabled}`]:{cursor:"default"},[`& .${ac.label}`]:{[`&.${ac.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),sk=He("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Ft(({theme:t})=>({[`&.${ac.error}`]:{color:(t.vars||t).palette.error.main}}))),xw=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:l={},control:c,disabled:f,disableTypography:h,inputRef:y,label:b,labelPlacement:w="end",name:x,onChange:A,required:E,slots:k={},slotProps:O={},value:N,...M}=n,R=rs(),P=f??c.props.disabled??(R==null?void 0:R.disabled),I=E??c.props.required,j={disabled:P,required:I};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof c.props[J]>"u"&&typeof n[J]<"u"&&(j[J]=n[J])});const te=ro({props:n,muiFormControl:R,states:["error"]}),oe={...n,disabled:P,labelPlacement:w,required:I,error:te.error},C=nk(oe),F={slots:k,slotProps:{...l,...O}},[K,V]=gi("typography",{elementType:gs,externalForwardedProps:F,ownerState:oe});let Q=b;return Q!=null&&Q.type!==gs&&!h&&(Q=z.jsx(K,{component:"span",...V,className:at(C.label,V==null?void 0:V.className),children:Q})),z.jsxs(ik,{className:at(C.root,s),ownerState:oe,ref:r,...M,children:[B.cloneElement(c,j),I?z.jsxs("div",{children:[Q,z.jsxs(sk,{ownerState:oe,"aria-hidden":!0,className:C.asterisk,children:[" ","*"]})]}):Q]})});function ok(t){return $t("MuiFormGroup",t)}Bt("MuiFormGroup",["root","row","error"]);const ak=t=>{const{classes:e,row:r,error:n}=t;return Vt({root:["root",r&&"row",n&&"error"]},ok,e)},lk=He("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),gm=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...l}=n,c=rs(),f=ro({props:n,muiFormControl:c,states:["error"]}),h={...n,row:s,error:f.error},y=ak(h);return z.jsx(lk,{className:at(y.root,i),ownerState:h,ref:r,...l})});function ck(t){return $t("MuiFormHelperText",t)}const Cw=Bt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Aw;const uk=t=>{const{classes:e,contained:r,size:n,disabled:i,error:s,filled:l,focused:c,required:f}=t,h={root:["root",i&&"disabled",s&&"error",n&&`size${tt(n)}`,r&&"contained",c&&"focused",l&&"filled",f&&"required"]};return Vt(h,ck,e)},fk=He("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${tt(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Cw.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Cw.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),dk=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:l="p",disabled:c,error:f,filled:h,focused:y,margin:b,required:w,variant:x,...A}=n,E=rs(),k=ro({props:n,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),O={...n,component:l,contained:k.variant==="filled"||k.variant==="outlined",variant:k.variant,size:k.size,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required};delete O.ownerState;const N=uk(O);return z.jsx(fk,{as:l,className:at(N.root,s),ref:r,...A,ownerState:O,children:i===" "?Aw||(Aw=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function hk(t){return $t("MuiFormLabel",t)}const mc=Bt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pk=t=>{const{classes:e,color:r,focused:n,disabled:i,error:s,filled:l,required:c}=t,f={root:["root",`color${tt(r)}`,i&&"disabled",s&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",s&&"error"]};return Vt(f,hk,e)},gk=He("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{[`&.${mc.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${mc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${mc.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),mk=He("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Ft(({theme:t})=>({[`&.${mc.error}`]:{color:(t.vars||t).palette.error.main}}))),lc=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:l,component:c="label",disabled:f,error:h,filled:y,focused:b,required:w,...x}=n,A=rs(),E=ro({props:n,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),k={...n,color:E.color||"primary",component:c,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},O=pk(k);return z.jsxs(gk,{as:c,ownerState:k,className:at(O.root,s),ref:r,...x,children:[i,E.required&&z.jsxs(mk,{ownerState:k,"aria-hidden":!0,className:O.asterisk,children:[" ","*"]})]})}),Pw=B.createContext();function _k(t){return $t("MuiGrid",t)}const yk=[0,1,2,3,4,5,6,7,8,9,10],vk=["column-reverse","column","row-reverse","row"],wk=["nowrap","wrap-reverse","wrap"],Hl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],kc=Bt("MuiGrid",["root","container","item","zeroMinWidth",...yk.map(t=>`spacing-xs-${t}`),...vk.map(t=>`direction-xs-${t}`),...wk.map(t=>`wrap-xs-${t}`),...Hl.map(t=>`grid-xs-${t}`),...Hl.map(t=>`grid-sm-${t}`),...Hl.map(t=>`grid-md-${t}`),...Hl.map(t=>`grid-lg-${t}`),...Hl.map(t=>`grid-xl-${t}`)]);function bk({theme:t,ownerState:e}){let r;return t.breakpoints.keys.reduce((n,i)=>{let s={};if(e[i]&&(r=e[i]),!r)return n;if(r===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=No({values:e.columns,breakpoints:t.breakpoints.values}),c=typeof l=="object"?l[i]:l;if(c==null)return n;const f=`${Math.round(r/c*1e8)/1e6}%`;let h={};if(e.container&&e.item&&e.columnSpacing!==0){const y=t.spacing(e.columnSpacing);if(y!=="0px"){const b=`calc(${f} + ${y})`;h={flexBasis:b,maxWidth:b}}}s={flexBasis:f,flexGrow:0,maxWidth:f,...h}}return t.breakpoints.values[i]===0?Object.assign(n,s):n[t.breakpoints.up(i)]=s,n},{})}function Sk({theme:t,ownerState:e}){const r=No({values:e.direction,breakpoints:t.breakpoints.values});return Kn({theme:t},r,n=>{const i={flexDirection:n};return n.startsWith("column")&&(i[`& > .${kc.item}`]={maxWidth:"none"}),i})}function lT({breakpoints:t,values:e}){let r="";Object.keys(e).forEach(i=>{r===""&&e[i]!==0&&(r=i)});const n=Object.keys(t).sort((i,s)=>t[i]-t[s]);return n.slice(0,n.indexOf(r))}function Tk({theme:t,ownerState:e}){const{container:r,rowSpacing:n}=e;let i={};if(r&&n!==0){const s=No({values:n,breakpoints:t.breakpoints.values});let l;typeof s=="object"&&(l=lT({breakpoints:t.breakpoints.values,values:s})),i=Kn({theme:t},s,(c,f)=>{const h=t.spacing(c);return h!=="0px"?{marginTop:`calc(-1 * ${h})`,[`& > .${kc.item}`]:{paddingTop:h}}:l!=null&&l.includes(f)?{}:{marginTop:0,[`& > .${kc.item}`]:{paddingTop:0}}})}return i}function Ek({theme:t,ownerState:e}){const{container:r,columnSpacing:n}=e;let i={};if(r&&n!==0){const s=No({values:n,breakpoints:t.breakpoints.values});let l;typeof s=="object"&&(l=lT({breakpoints:t.breakpoints.values,values:s})),i=Kn({theme:t},s,(c,f)=>{const h=t.spacing(c);if(h!=="0px"){const y=`calc(-1 * ${h})`;return{width:`calc(100% + ${h})`,marginLeft:y,[`& > .${kc.item}`]:{paddingLeft:h}}}return l!=null&&l.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${kc.item}`]:{paddingLeft:0}}})}return i}function Rk(t,e,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&n.push(r[`spacing-${i}-${String(s)}`])}),n}const xk=He("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{container:n,direction:i,item:s,spacing:l,wrap:c,zeroMinWidth:f,breakpoints:h}=r;let y=[];n&&(y=Rk(l,h,e));const b=[];return h.forEach(w=>{const x=r[w];x&&b.push(e[`grid-${w}-${String(x)}`])}),[e.root,n&&e.container,s&&e.item,f&&e.zeroMinWidth,...y,i!=="row"&&e[`direction-xs-${String(i)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],...b]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),Sk,Tk,Ek,bk);function Ck(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return e.forEach(n=>{const i=t[n];if(Number(i)>0){const s=`spacing-${n}-${String(i)}`;r.push(s)}}),r}const Ak=t=>{const{classes:e,container:r,direction:n,item:i,spacing:s,wrap:l,zeroMinWidth:c,breakpoints:f}=t;let h=[];r&&(h=Ck(s,f));const y=[];f.forEach(w=>{const x=t[w];x&&y.push(`grid-${w}-${String(x)}`)});const b={root:["root",r&&"container",i&&"item",c&&"zeroMinWidth",...h,n!=="row"&&`direction-xs-${String(n)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...y]};return Vt(b,_k,e)},or=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiGrid"}),{breakpoints:i}=to(),s=Xd(n),{className:l,columns:c,columnSpacing:f,component:h="div",container:y=!1,direction:b="row",item:w=!1,rowSpacing:x,spacing:A=0,wrap:E="wrap",zeroMinWidth:k=!1,...O}=s,N=x||A,M=f||A,R=B.useContext(Pw),P=y?c||12:R,I={},j={...O};i.keys.forEach(C=>{O[C]!=null&&(I[C]=O[C],delete j[C])});const te={...s,columns:P,container:y,direction:b,item:w,rowSpacing:N,columnSpacing:M,wrap:E,zeroMinWidth:k,spacing:A,...I,breakpoints:i.keys},oe=Ak(te);return z.jsx(Pw.Provider,{value:P,children:z.jsx(xk,{ownerState:te,className:at(oe.root,l),as:h,ref:r,...j})})});function mm(t){return`scale(${t}, ${t**2})`}const Pk={entering:{opacity:1,transform:mm(1)},entered:{opacity:1,transform:"none"}},ig=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),_m=B.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:s,easing:l,in:c,onEnter:f,onEntered:h,onEntering:y,onExit:b,onExited:w,onExiting:x,style:A,timeout:E="auto",TransitionComponent:k=Fi,...O}=e,N=WS(),M=B.useRef(),R=to(),P=B.useRef(null),I=qr(P,ol(s),r),j=J=>ie=>{if(J){const ve=P.current;ie===void 0?J(ve):J(ve,ie)}},te=j(y),oe=j((J,ie)=>{E0(J);const{duration:ve,delay:se,easing:re}=Vo({style:A,timeout:E,easing:l},{mode:"enter"});let ye;E==="auto"?(ye=R.transitions.getAutoHeightDuration(J.clientHeight),M.current=ye):ye=ve,J.style.transition=[R.transitions.create("opacity",{duration:ye,delay:se}),R.transitions.create("transform",{duration:ig?ye:ye*.666,delay:se,easing:re})].join(","),f&&f(J,ie)}),C=j(h),F=j(x),K=j(J=>{const{duration:ie,delay:ve,easing:se}=Vo({style:A,timeout:E,easing:l},{mode:"exit"});let re;E==="auto"?(re=R.transitions.getAutoHeightDuration(J.clientHeight),M.current=re):re=ie,J.style.transition=[R.transitions.create("opacity",{duration:re,delay:ve}),R.transitions.create("transform",{duration:ig?re:re*.666,delay:ig?ve:ve||re*.333,easing:se})].join(","),J.style.opacity=0,J.style.transform=mm(.75),b&&b(J)}),V=j(w),Q=J=>{E==="auto"&&N.start(M.current||0,J),n&&n(P.current,J)};return z.jsx(k,{appear:i,in:c,nodeRef:P,onEnter:oe,onEntered:C,onEntering:te,onExit:K,onExited:V,onExiting:F,addEndListener:Q,timeout:E==="auto"?null:E,...O,children:(J,{ownerState:ie,...ve})=>B.cloneElement(s,{style:{opacity:0,transform:mm(.75),visibility:J==="exited"&&!c?"hidden":void 0,...Pk[J],...A,...s.props.style},ref:I,...ve})})});_m&&(_m.muiSupportAuto=!0);const Mk=t=>{const{classes:e,disableUnderline:r}=t,i=Vt({root:["root",!r&&"underline"],input:["input"]},j3,e);return{...e,...i}},kk=He(Jd,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...Zd(t,e),!r.disableUnderline&&e.underline]}})(Ft(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wl.disabled}, .${Wl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Wl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Tn()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),Ik=He(Gd,{name:"MuiInput",slot:"Input",overridesResolver:Qd})({}),k0=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:l,fullWidth:c=!1,inputComponent:f="input",multiline:h=!1,slotProps:y,slots:b={},type:w="text",...x}=n,A=Mk(n),k={root:{ownerState:{disableUnderline:i}}},O=y??l?pn(y??l,k):k,N=b.root??s.Root??kk,M=b.input??s.Input??Ik;return z.jsx(A0,{slots:{root:N,input:M},slotProps:O,fullWidth:c,inputComponent:f,multiline:h,ref:r,type:w,...x,classes:A})});k0.muiName="Input";function Nk(t){return $t("MuiInputLabel",t)}Bt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ok=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:s,variant:l,required:c}=t,f={root:["root",r&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="normal"&&`size${tt(n)}`,l],asterisk:[c&&"asterisk"]},h=Vt(f,Nk,e);return{...e,...h}},Fk=He(lc,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${mc.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(Ft(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Mi=B.forwardRef(function(e,r){const n=Xt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:l,variant:c,className:f,...h}=n,y=rs();let b=l;typeof b>"u"&&y&&(b=y.filled||y.focused||y.adornedStart);const w=ro({props:n,muiFormControl:y,states:["size","variant","required","focused"]}),x={...n,disableAnimation:i,formControl:y,shrink:b,size:w.size,variant:w.variant,required:w.required,focused:w.focused},A=Ok(x);return z.jsx(Fk,{"data-shrink":b,ref:r,className:at(A.root,f),...h,ownerState:x,classes:A})}),ym=B.createContext({});function Dk(t){return $t("MuiList",t)}Bt("MuiList",["root","padding","dense","subheader"]);const Bk=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return Vt({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Dk,e)},Uk=He("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Lk=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiList"}),{children:i,className:s,component:l="ul",dense:c=!1,disablePadding:f=!1,subheader:h,...y}=n,b=B.useMemo(()=>({dense:c}),[c]),w={...n,component:l,dense:c,disablePadding:f},x=Bk(w);return z.jsx(ym.Provider,{value:b,children:z.jsxs(Uk,{as:l,className:at(x.root,s),ref:r,ownerState:w,...y,children:[h,i]})})}),Mw=Bt("MuiListItemIcon",["root","alignItemsFlexStart"]),kw=Bt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function sg(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function Iw(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function cT(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function Xl(t,e,r,n,i,s){let l=!1,c=i(t,e,e?r:!1);for(;c;){if(c===t.firstChild){if(l)return!1;l=!0}const f=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!cT(c,s)||f)c=i(t,c,r);else return c.focus(),!0}return!1}const jk=B.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:l,className:c,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:y,variant:b="selectedMenu",...w}=e,x=B.useRef(null),A=B.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wi(()=>{i&&x.current.focus()},[i]),B.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(M,{direction:R})=>{const P=!x.current.style.width;if(M.clientHeight<x.current.clientHeight&&P){const I=`${HS(Sn(M))}px`;x.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=I,x.current.style.width=`calc(100% + ${I})`}return x.current}}),[]);const E=M=>{const R=x.current,P=M.key;if(M.ctrlKey||M.metaKey||M.altKey){y&&y(M);return}const j=rn(R).activeElement;if(P==="ArrowDown")M.preventDefault(),Xl(R,j,h,f,sg);else if(P==="ArrowUp")M.preventDefault(),Xl(R,j,h,f,Iw);else if(P==="Home")M.preventDefault(),Xl(R,null,h,f,sg);else if(P==="End")M.preventDefault(),Xl(R,null,h,f,Iw);else if(P.length===1){const te=A.current,oe=P.toLowerCase(),C=performance.now();te.keys.length>0&&(C-te.lastTime>500?(te.keys=[],te.repeating=!0,te.previousKeyMatched=!0):te.repeating&&oe!==te.keys[0]&&(te.repeating=!1)),te.lastTime=C,te.keys.push(oe);const F=j&&!te.repeating&&cT(j,te);te.previousKeyMatched&&(F||Xl(R,j,!1,f,sg,te))?M.preventDefault():te.previousKeyMatched=!1}y&&y(M)},k=qr(x,r);let O=-1;B.Children.forEach(l,(M,R)=>{if(!B.isValidElement(M)){O===R&&(O+=1,O>=l.length&&(O=-1));return}M.props.disabled||(b==="selectedMenu"&&M.props.selected||O===-1)&&(O=R),O===R&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(O+=1,O>=l.length&&(O=-1))});const N=B.Children.map(l,(M,R)=>{if(R===O){const P={};return s&&(P.autoFocus=!0),M.props.tabIndex===void 0&&b==="selectedMenu"&&(P.tabIndex=0),B.cloneElement(M,P)}return M});return z.jsx(Lk,{role:"menu",ref:k,className:c,onKeyDown:E,tabIndex:i?0:-1,...w,children:N})});function zk(t){return $t("MuiPopover",t)}Bt("MuiPopover",["root","paper"]);function Nw(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function Ow(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function Fw(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function og(t){return typeof t=="function"?t():t}const $k=t=>{const{classes:e}=t;return Vt({root:["root"],paper:["paper"]},zk,e)},Vk=He(sT,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),uT=He(R0,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wk=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:h,className:y,container:b,elevation:w=8,marginThreshold:x=16,open:A,PaperProps:E={},slots:k={},slotProps:O={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:M=_m,transitionDuration:R="auto",TransitionProps:{onEntering:P,...I}={},disableScrollLock:j=!1,...te}=n,oe=(O==null?void 0:O.paper)??E,C=B.useRef(),F={...n,anchorOrigin:l,anchorReference:f,elevation:w,marginThreshold:x,externalPaperSlotProps:oe,transformOrigin:N,TransitionComponent:M,transitionDuration:R,TransitionProps:I},K=$k(F),V=B.useCallback(()=>{if(f==="anchorPosition")return c;const Ue=og(s),qe=(Ue&&Ue.nodeType===1?Ue:rn(C.current).body).getBoundingClientRect();return{top:qe.top+Nw(qe,l.vertical),left:qe.left+Ow(qe,l.horizontal)}},[s,l.horizontal,l.vertical,c,f]),Q=B.useCallback(Ue=>({vertical:Nw(Ue,N.vertical),horizontal:Ow(Ue,N.horizontal)}),[N.horizontal,N.vertical]),J=B.useCallback(Ue=>{const ot={width:Ue.offsetWidth,height:Ue.offsetHeight},qe=Q(ot);if(f==="none")return{top:null,left:null,transformOrigin:Fw(qe)};const ut=V();let et=ut.top-qe.vertical,Mt=ut.left-qe.horizontal;const Ut=et+ot.height,bt=Mt+ot.width,xt=Sn(og(s)),Dt=xt.innerHeight-x,Lt=xt.innerWidth-x;if(x!==null&&et<x){const gt=et-x;et-=gt,qe.vertical+=gt}else if(x!==null&&Ut>Dt){const gt=Ut-Dt;et-=gt,qe.vertical+=gt}if(x!==null&&Mt<x){const gt=Mt-x;Mt-=gt,qe.horizontal+=gt}else if(bt>Lt){const gt=bt-Lt;Mt-=gt,qe.horizontal+=gt}return{top:`${Math.round(et)}px`,left:`${Math.round(Mt)}px`,transformOrigin:Fw(qe)}},[s,f,V,Q,x]),[ie,ve]=B.useState(A),se=B.useCallback(()=>{const Ue=C.current;if(!Ue)return;const ot=J(Ue);ot.top!==null&&Ue.style.setProperty("top",ot.top),ot.left!==null&&(Ue.style.left=ot.left),Ue.style.transformOrigin=ot.transformOrigin,ve(!0)},[J]);B.useEffect(()=>(j&&window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)),[s,j,se]);const re=(Ue,ot)=>{P&&P(Ue,ot),se()},ye=()=>{ve(!1)};B.useEffect(()=>{A&&se()}),B.useImperativeHandle(i,()=>A?{updatePosition:()=>{se()}}:null,[A,se]),B.useEffect(()=>{if(!A)return;const Ue=Wc(()=>{se()}),ot=Sn(s);return ot.addEventListener("resize",Ue),()=>{Ue.clear(),ot.removeEventListener("resize",Ue)}},[s,A,se]);let G=R;R==="auto"&&!M.muiSupportAuto&&(G=void 0);const ue=b||(s?rn(og(s)).body:void 0),Se={slots:k,slotProps:{...O,paper:oe}},[Me,de]=gi("paper",{elementType:uT,externalForwardedProps:Se,additionalProps:{elevation:w,className:at(K.paper,oe==null?void 0:oe.className),style:ie?oe.style:{...oe.style,opacity:0}},ownerState:F}),[De,{slotProps:$e,...Be}]=gi("root",{elementType:Vk,externalForwardedProps:Se,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ue,open:A},ownerState:F,className:at(K.root,y)}),Oe=qr(C,de.ref);return z.jsx(De,{...Be,...!Oo(De)&&{slotProps:$e,disableScrollLock:j},...te,ref:r,children:z.jsx(M,{appear:!0,in:A,onEntering:re,onExited:ye,timeout:G,...I,children:z.jsx(Me,{...de,ref:Oe,children:h})})})});function Hk(t){return $t("MuiMenu",t)}Bt("MuiMenu",["root","paper","list"]);const Xk={vertical:"top",horizontal:"right"},Yk={vertical:"top",horizontal:"left"},Kk=t=>{const{classes:e}=t;return Vt({root:["root"],paper:["paper"],list:["list"]},Hk,e)},qk=He(Wk,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Zk=He(uT,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qk=He(jk,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Jk=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:y,PaperProps:b={},PopoverClasses:w,transitionDuration:x="auto",TransitionProps:{onEntering:A,...E}={},variant:k="selectedMenu",slots:O={},slotProps:N={},...M}=n,R=Xc(),P={...n,autoFocus:i,disableAutoFocusItem:c,MenuListProps:f,onEntering:A,PaperProps:b,transitionDuration:x,TransitionProps:E,variant:k},I=Kk(P),j=i&&!c&&y,te=B.useRef(null),oe=(ie,ve)=>{te.current&&te.current.adjustStyleForScrollbar(ie,{direction:R?"rtl":"ltr"}),A&&A(ie,ve)},C=ie=>{ie.key==="Tab"&&(ie.preventDefault(),h&&h(ie,"tabKeyDown"))};let F=-1;B.Children.map(s,(ie,ve)=>{B.isValidElement(ie)&&(ie.props.disabled||(k==="selectedMenu"&&ie.props.selected||F===-1)&&(F=ve))});const K=O.paper??Zk,V=N.paper??b,Q=Xn({elementType:O.root,externalSlotProps:N.root,ownerState:P,className:[I.root,l]}),J=Xn({elementType:K,externalSlotProps:V,ownerState:P,className:I.paper});return z.jsx(qk,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?Xk:Yk,slots:{paper:K,root:O.root},slotProps:{root:Q,paper:J},open:y,ref:r,transitionDuration:x,TransitionProps:{onEntering:oe,...E},ownerState:P,...M,classes:w,children:z.jsx(Qk,{onKeyDown:C,actions:te,autoFocus:i&&(F===-1||c),autoFocusItem:j,variant:k,...f,className:at(I.list,f.className),children:s})})});function Gk(t){return $t("MuiMenuItem",t)}const Yl=Bt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),eI=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},tI=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:s,classes:l}=t,f=Vt({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},Gk,l);return{...l,...f}},rI=He(al,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:eI})(Ft(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Yl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Yl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Yl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Yl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Yl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Ew.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Ew.inset}`]:{marginLeft:52},[`& .${kw.root}`]:{marginTop:0,marginBottom:0},[`& .${kw.inset}`]:{paddingLeft:36},[`& .${Mw.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Mw.root} svg`]:{fontSize:"1.25rem"}}}]}))),yn=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:l=!1,divider:c=!1,disableGutters:f=!1,focusVisibleClassName:h,role:y="menuitem",tabIndex:b,className:w,...x}=n,A=B.useContext(ym),E=B.useMemo(()=>({dense:l||A.dense||!1,disableGutters:f}),[A.dense,l,f]),k=B.useRef(null);wi(()=>{i&&k.current&&k.current.focus()},[i]);const O={...n,dense:E.dense,divider:c,disableGutters:f},N=tI(n),M=qr(k,r);let R;return n.disabled||(R=b!==void 0?b:-1),z.jsx(ym.Provider,{value:E,children:z.jsx(rI,{ref:M,role:y,tabIndex:R,component:s,focusVisibleClassName:at(N.focusVisible,h),className:at(N.root,w),...x,ownerState:O,classes:N})})});function nI(t){return $t("MuiNativeSelect",t)}const I0=Bt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),iI=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:l}=t,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${tt(r)}`,s&&"iconOpen",n&&"disabled"]};return Vt(c,nI,e)},fT=He("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${I0.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),sI=He(fT,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:gn,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${I0.multiple}`]:e.multiple}]}})({}),dT=He("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${I0.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),oI=He(dT,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${tt(r.variant)}`],r.open&&e.iconOpen]}})({}),aI=B.forwardRef(function(e,r){const{className:n,disabled:i,error:s,IconComponent:l,inputRef:c,variant:f="standard",...h}=e,y={...e,disabled:i,variant:f,error:s},b=iI(y);return z.jsxs(B.Fragment,{children:[z.jsx(sI,{ownerState:y,className:at(b.select,n),disabled:i,ref:c||r,...h}),e.multiple?null:z.jsx(oI,{as:l,ownerState:y,className:b.icon})]})});function lI(t){const{children:e,defer:r=!1,fallback:n=null}=t,[i,s]=B.useState(!1);return wi(()=>{r||s(!0)},[r]),B.useEffect(()=>{r&&s(!0)},[r]),i?e:n}var Dw;const cI=He("fieldset",{shouldForwardProp:gn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),uI=He("legend",{shouldForwardProp:gn})(Ft(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function fI(t){const{children:e,classes:r,className:n,label:i,notched:s,...l}=t,c=i!=null&&i!=="",f={...t,notched:s,withLabel:c};return z.jsx(cI,{"aria-hidden":!0,className:n,ownerState:f,...l,children:z.jsx(uI,{ownerState:f,children:c?z.jsx("span",{children:i}):Dw||(Dw=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const dI=t=>{const{classes:e}=t,n=Vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},z3,e);return{...e,...n}},hI=He(Jd,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Zd})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${zi.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${zi.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${zi.focused} .${zi.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Tn()).map(([r])=>({props:{color:r},style:{[`&.${zi.focused} .${zi.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${zi.error} .${zi.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${zi.disabled} .${zi.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),pI=He(fI,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),gI=He(Gd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Qd})(Ft(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),N0=B.forwardRef(function(e,r){var n;const i=Xt({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:l=!1,inputComponent:c="input",label:f,multiline:h=!1,notched:y,slots:b={},type:w="text",...x}=i,A=dI(i),E=rs(),k=ro({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),O={...i,color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:E,fullWidth:l,hiddenLabel:k.hiddenLabel,multiline:h,size:k.size,type:w},N=b.root??s.Root??hI,M=b.input??s.Input??gI;return z.jsx(A0,{slots:{root:N,input:M},renderSuffix:R=>z.jsx(pI,{ownerState:O,className:A.notchedOutline,label:f!=null&&f!==""&&k.required?n||(n=z.jsxs(B.Fragment,{children:[f," ","*"]})):f,notched:typeof y<"u"?y:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:l,inputComponent:c,multiline:h,ref:r,type:w,...x,classes:{...A,notchedOutline:null}})});N0.muiName="Input";const mI=bs(z.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),_I=bs(z.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),yI=He("span",{shouldForwardProp:gn})({position:"relative",display:"flex"}),vI=He(mI)({transform:"scale(1)"}),wI=He(_I)(Ft(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function hT(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i={...t,checked:e};return z.jsxs(yI,{className:r.root,ownerState:i,children:[z.jsx(vI,{fontSize:n,className:r.background,ownerState:i}),z.jsx(wI,{fontSize:n,className:r.dot,ownerState:i})]})}const pT=B.createContext(void 0);function bI(){return B.useContext(pT)}function SI(t){return $t("MuiRadio",t)}const Bw=Bt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),TI=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${tt(r)}`,n!=="medium"&&`size${tt(n)}`]};return{...e,...Vt(i,SI,e)}},EI=He(P0,{shouldForwardProp:t=>gn(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${tt(r.size)}`],e[`color${tt(r.color)}`]]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${Bw.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${Bw.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function RI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const Uw=z.jsx(hT,{checked:!0}),Lw=z.jsx(hT,{}),jw=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiRadio"}),{checked:i,checkedIcon:s=Uw,color:l="primary",icon:c=Lw,name:f,onChange:h,size:y="medium",className:b,disabled:w,disableRipple:x=!1,...A}=n,E=rs();let k=w;E&&typeof k>"u"&&(k=E.disabled),k??(k=!1);const O={...n,disabled:k,disableRipple:x,color:l,size:y},N=TI(O),M=bI();let R=i;const P=im(h,M&&M.onChange);let I=f;return M&&(typeof R>"u"&&(R=RI(M.value,n.value)),typeof I>"u"&&(I=M.name)),z.jsx(EI,{type:"radio",icon:B.cloneElement(c,{fontSize:Lw.props.fontSize??y}),checkedIcon:B.cloneElement(s,{fontSize:Uw.props.fontSize??y}),disabled:k,ownerState:O,classes:N,name:I,checked:R,onChange:P,ref:r,className:at(N.root,b),...A})});function xI(t){return $t("MuiRadioGroup",t)}Bt("MuiRadioGroup",["root","row","error"]);const CI=t=>{const{classes:e,row:r,error:n}=t;return Vt({root:["root",r&&"row",n&&"error"]},xI,e)},AI=B.forwardRef(function(e,r){const{actions:n,children:i,className:s,defaultValue:l,name:c,onChange:f,value:h,...y}=e,b=B.useRef(null),w=CI(e),[x,A]=Mc({controlled:h,default:l,name:"RadioGroup"});B.useImperativeHandle(n,()=>({focus:()=>{let N=b.current.querySelector("input:not(:disabled):checked");N||(N=b.current.querySelector("input:not(:disabled)")),N&&N.focus()}}),[]);const E=qr(r,b),k=Hc(c),O=B.useMemo(()=>({name:k,onChange(N){A(N.target.value),f&&f(N,N.target.value)},value:x}),[k,f,A,x]);return z.jsx(pT.Provider,{value:O,children:z.jsx(gm,{role:"radiogroup",ref:E,className:at(w.root,s),...y,children:i})})});function gT(t){return $t("MuiSelect",t)}const Kl=Bt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var zw;const PI=He(fT,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${Kl.select}`]:e.select},{[`&.${Kl.select}`]:e[r.variant]},{[`&.${Kl.error}`]:e.error},{[`&.${Kl.multiple}`]:e.multiple}]}})({[`&.${Kl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),MI=He(dT,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${tt(r.variant)}`],r.open&&e.iconOpen]}})({}),kI=He("input",{shouldForwardProp:t=>qd(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $w(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function II(t){return t==null||typeof t=="string"&&!t.trim()}const NI=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:s,error:l}=t,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${tt(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Vt(c,gT,e)},OI=B.forwardRef(function(e,r){var Zt;const{"aria-describedby":n,"aria-label":i,autoFocus:s,autoWidth:l,children:c,className:f,defaultOpen:h,defaultValue:y,disabled:b,displayEmpty:w,error:x=!1,IconComponent:A,inputRef:E,labelId:k,MenuProps:O={},multiple:N,name:M,onBlur:R,onChange:P,onClose:I,onFocus:j,onOpen:te,open:oe,readOnly:C,renderValue:F,required:K,SelectDisplayProps:V={},tabIndex:Q,type:J,value:ie,variant:ve="standard",...se}=e,[re,ye]=Mc({controlled:ie,default:y,name:"Select"}),[G,ue]=Mc({controlled:oe,default:h,name:"Select"}),Se=B.useRef(null),Me=B.useRef(null),[de,De]=B.useState(null),{current:$e}=B.useRef(oe!=null),[Be,Oe]=B.useState(),Ue=qr(r,E),ot=B.useCallback(Ne=>{Me.current=Ne,Ne&&De(Ne)},[]),qe=de==null?void 0:de.parentNode;B.useImperativeHandle(Ue,()=>({focus:()=>{Me.current.focus()},node:Se.current,value:re}),[re]),B.useEffect(()=>{h&&G&&de&&!$e&&(Oe(l?null:qe.clientWidth),Me.current.focus())},[de,l]),B.useEffect(()=>{s&&Me.current.focus()},[s]),B.useEffect(()=>{if(!k)return;const Ne=rn(Me.current).getElementById(k);if(Ne){const Ke=()=>{getSelection().isCollapsed&&Me.current.focus()};return Ne.addEventListener("click",Ke),()=>{Ne.removeEventListener("click",Ke)}}},[k]);const ut=(Ne,Ke)=>{Ne?te&&te(Ke):I&&I(Ke),$e||(Oe(l?null:qe.clientWidth),ue(Ne))},et=Ne=>{Ne.button===0&&(Ne.preventDefault(),Me.current.focus(),ut(!0,Ne))},Mt=Ne=>{ut(!1,Ne)},Ut=B.Children.toArray(c),bt=Ne=>{const Ke=Ut.find(Et=>Et.props.value===Ne.target.value);Ke!==void 0&&(ye(Ke.props.value),P&&P(Ne,Ke))},xt=Ne=>Ke=>{let Et;if(Ke.currentTarget.hasAttribute("tabindex")){if(N){Et=Array.isArray(re)?re.slice():[];const Pt=re.indexOf(Ne.props.value);Pt===-1?Et.push(Ne.props.value):Et.splice(Pt,1)}else Et=Ne.props.value;if(Ne.props.onClick&&Ne.props.onClick(Ke),re!==Et&&(ye(Et),P)){const Pt=Ke.nativeEvent||Ke,Yt=new Pt.constructor(Pt.type,Pt);Object.defineProperty(Yt,"target",{writable:!0,value:{value:Et,name:M}}),P(Yt,Ne)}N||ut(!1,Ke)}},Dt=Ne=>{C||[" ","ArrowUp","ArrowDown","Enter"].includes(Ne.key)&&(Ne.preventDefault(),ut(!0,Ne))},Lt=de!==null&&G,gt=Ne=>{!Lt&&R&&(Object.defineProperty(Ne,"target",{writable:!0,value:{value:re,name:M}}),R(Ne))};delete se["aria-invalid"];let rt,ur;const qt=[];let Fe=!1;(Wf({value:re})||w)&&(F?rt=F(re):Fe=!0);const Qe=Ut.map(Ne=>{if(!B.isValidElement(Ne))return null;let Ke;if(N){if(!Array.isArray(re))throw new Error(vs(2));Ke=re.some(Et=>$w(Et,Ne.props.value)),Ke&&Fe&&qt.push(Ne.props.children)}else Ke=$w(re,Ne.props.value),Ke&&Fe&&(ur=Ne.props.children);return B.cloneElement(Ne,{"aria-selected":Ke?"true":"false",onClick:xt(Ne),onKeyUp:Et=>{Et.key===" "&&Et.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(Et)},role:"option",selected:Ke,value:void 0,"data-value":Ne.props.value})});Fe&&(N?qt.length===0?rt=null:rt=qt.reduce((Ne,Ke,Et)=>(Ne.push(Ke),Et<qt.length-1&&Ne.push(", "),Ne),[]):rt=ur);let dt=Be;!l&&$e&&de&&(dt=qe.clientWidth);let Tt;typeof Q<"u"?Tt=Q:Tt=b?null:0;const Ot=V.id||(M?`mui-component-select-${M}`:void 0),ct={...e,variant:ve,value:re,open:Lt,error:x},yt=NI(ct),tr={...O.PaperProps,...(Zt=O.slotProps)==null?void 0:Zt.paper},Gt=Hc();return z.jsxs(B.Fragment,{children:[z.jsx(PI,{as:"div",ref:ot,tabIndex:Tt,role:"combobox","aria-controls":Lt?Gt:void 0,"aria-disabled":b?"true":void 0,"aria-expanded":Lt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[k,Ot].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":K?"true":void 0,"aria-invalid":x?"true":void 0,onKeyDown:Dt,onMouseDown:b||C?null:et,onBlur:gt,onFocus:j,...V,ownerState:ct,className:at(V.className,yt.select,f),id:Ot,children:II(rt)?zw||(zw=z.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):rt}),z.jsx(kI,{"aria-invalid":x,value:Array.isArray(re)?re.join(","):re,name:M,ref:Se,"aria-hidden":!0,onChange:bt,tabIndex:-1,disabled:b,className:yt.nativeInput,autoFocus:s,required:K,...se,ownerState:ct}),z.jsx(MI,{as:A,className:yt.icon,ownerState:ct}),z.jsx(Jk,{id:`menu-${M||""}`,anchorEl:qe,open:Lt,onClose:Mt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...O,MenuListProps:{"aria-labelledby":k,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:Gt,...O.MenuListProps},slotProps:{...O.slotProps,paper:{...tr,style:{minWidth:dt,...tr!=null?tr.style:null}}},children:Qe})]})}),FI=t=>{const{classes:e}=t,n=Vt({root:["root"]},gT,e);return{...e,...n}},O0={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>gn(t)&&t!=="variant",slot:"Root"},DI=He(k0,O0)(""),BI=He(N0,O0)(""),UI=He(M0,O0)(""),di=B.forwardRef(function(e,r){const n=Xt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:l={},className:c,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:y=V3,id:b,input:w,inputProps:x,label:A,labelId:E,MenuProps:k,multiple:O=!1,native:N=!1,onClose:M,onOpen:R,open:P,renderValue:I,SelectDisplayProps:j,variant:te="outlined",...oe}=n,C=N?aI:OI,F=rs(),K=ro({props:n,muiFormControl:F,states:["variant","error"]}),V=K.variant||te,Q={...n,variant:V,classes:l},J=FI(Q),{root:ie,...ve}=J,se=w||{standard:z.jsx(DI,{ownerState:Q}),outlined:z.jsx(BI,{label:A,ownerState:Q}),filled:z.jsx(UI,{ownerState:Q})}[V],re=qr(r,ol(se));return z.jsx(B.Fragment,{children:B.cloneElement(se,{inputComponent:C,inputProps:{children:s,error:K.error,IconComponent:y,variant:V,type:void 0,multiple:O,...N?{id:b}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:E,MenuProps:k,onClose:M,onOpen:R,open:P,renderValue:I,SelectDisplayProps:{id:b,...j}},...x,classes:x?pn(ve,x.classes):ve,...w?w.props.inputProps:{}},...(O&&N||h)&&V==="outlined"?{notched:!0}:{},ref:re,className:at(se.props.className,c,J.root),...!w&&{variant:V},...oe})})});di.muiName="Select";function LI(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const jI=2;function Ea(t,e,r,n,i){return r===1?Math.min(t+e,i):Math.max(t-e,n)}function mT(t,e){return t-e}function Vw(t,e){const{index:r}=t.reduce((n,i,s)=>{const l=Math.abs(e-i);return n===null||l<n.distance||l===n.distance?{distance:l,index:s}:n},null)??{};return r}function uf(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Hf(t,e,r){return(t-e)*100/(r-e)}function zI(t,e,r){return(r-e)*t+e}function $I(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function VI(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed($I(e)))}function Ww({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(mT)}function ff({sliderRef:t,activeIndex:e,setActive:r}){var i,s,l;const n=rn(t.current);(!((i=t.current)!=null&&i.contains(n.activeElement))||Number((s=n==null?void 0:n.activeElement)==null?void 0:s.getAttribute("data-index"))!==e)&&((l=t.current)==null||l.querySelector(`[type="range"][data-index="${e}"]`).focus()),r&&r(e)}function df(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?LI(t,e):!1}const WI={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},HI=t=>t;let hf;function Hw(){return hf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?hf=CSS.supports("touch-action","none"):hf=!0),hf}function XI(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:s=!1,marks:l=!1,max:c=100,min:f=0,name:h,onChange:y,onChangeCommitted:b,orientation:w="horizontal",rootRef:x,scale:A=HI,step:E=1,shiftStep:k=10,tabIndex:O,value:N}=t,M=B.useRef(void 0),[R,P]=B.useState(-1),[I,j]=B.useState(-1),[te,oe]=B.useState(!1),C=B.useRef(0),F=B.useRef(null),[K,V]=Mc({controlled:N,default:r??f,name:"Slider"}),Q=y&&((Fe,Qe,dt)=>{const Tt=Fe.nativeEvent||Fe,Ot=new Tt.constructor(Tt.type,Tt);Object.defineProperty(Ot,"target",{writable:!0,value:{value:Qe,name:h}}),F.current=Qe,y(Ot,Qe,dt)}),J=Array.isArray(K);let ie=J?K.slice().sort(mT):[K];ie=ie.map(Fe=>Fe==null?f:Ia(Fe,f,c));const ve=l===!0&&E!==null?[...Array(Math.floor((c-f)/E)+1)].map((Fe,Qe)=>({value:f+E*Qe})):l||[],se=ve.map(Fe=>Fe.value),[re,ye]=B.useState(-1),G=B.useRef(null),ue=qr(x,G),Se=Fe=>Qe=>{var Tt;const dt=Number(Qe.currentTarget.getAttribute("data-index"));jf(Qe.target)&&ye(dt),j(dt),(Tt=Fe==null?void 0:Fe.onFocus)==null||Tt.call(Fe,Qe)},Me=Fe=>Qe=>{var dt;jf(Qe.target)||ye(-1),j(-1),(dt=Fe==null?void 0:Fe.onBlur)==null||dt.call(Fe,Qe)},de=(Fe,Qe)=>{const dt=Number(Fe.currentTarget.getAttribute("data-index")),Tt=ie[dt],Ot=se.indexOf(Tt);let ct=Qe;if(ve&&E==null){const yt=se[se.length-1];ct>yt?ct=yt:ct<se[0]?ct=se[0]:ct=ct<Tt?se[Ot-1]:se[Ot+1]}if(ct=Ia(ct,f,c),J){i&&(ct=Ia(ct,ie[dt-1]||-1/0,ie[dt+1]||1/0));const yt=ct;ct=Ww({values:ie,newValue:ct,index:dt});let tr=dt;i||(tr=ct.indexOf(yt)),ff({sliderRef:G,activeIndex:tr})}V(ct),ye(dt),Q&&!df(ct,K)&&Q(Fe,ct,dt),b&&b(Fe,F.current??ct)},De=Fe=>Qe=>{var dt;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Qe.key)){Qe.preventDefault();const Tt=Number(Qe.currentTarget.getAttribute("data-index")),Ot=ie[Tt];let ct=null;if(E!=null){const yt=Qe.shiftKey?k:E;switch(Qe.key){case"ArrowUp":ct=Ea(Ot,yt,1,f,c);break;case"ArrowRight":ct=Ea(Ot,yt,s?-1:1,f,c);break;case"ArrowDown":ct=Ea(Ot,yt,-1,f,c);break;case"ArrowLeft":ct=Ea(Ot,yt,s?1:-1,f,c);break;case"PageUp":ct=Ea(Ot,k,1,f,c);break;case"PageDown":ct=Ea(Ot,k,-1,f,c);break;case"Home":ct=f;break;case"End":ct=c;break}}else if(ve){const yt=se[se.length-1],tr=se.indexOf(Ot),Gt=[s?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Zt=[s?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Gt.includes(Qe.key)?tr===0?ct=se[0]:ct=se[tr-1]:Zt.includes(Qe.key)&&(tr===se.length-1?ct=yt:ct=se[tr+1])}ct!=null&&de(Qe,ct)}(dt=Fe==null?void 0:Fe.onKeyDown)==null||dt.call(Fe,Qe)};wi(()=>{var Fe;n&&G.current.contains(document.activeElement)&&((Fe=document.activeElement)==null||Fe.blur())},[n]),n&&R!==-1&&P(-1),n&&re!==-1&&ye(-1);const $e=Fe=>Qe=>{var dt;(dt=Fe.onChange)==null||dt.call(Fe,Qe),de(Qe,Qe.target.valueAsNumber)},Be=B.useRef(void 0);let Oe=w;s&&w==="horizontal"&&(Oe+="-reverse");const Ue=({finger:Fe,move:Qe=!1})=>{const{current:dt}=G,{width:Tt,height:Ot,bottom:ct,left:yt}=dt.getBoundingClientRect();let tr;Oe.startsWith("vertical")?tr=(ct-Fe.y)/Ot:tr=(Fe.x-yt)/Tt,Oe.includes("-reverse")&&(tr=1-tr);let Gt;if(Gt=zI(tr,f,c),E)Gt=VI(Gt,E,f);else{const Ne=Vw(se,Gt);Gt=se[Ne]}Gt=Ia(Gt,f,c);let Zt=0;if(J){Qe?Zt=Be.current:Zt=Vw(ie,Gt),i&&(Gt=Ia(Gt,ie[Zt-1]||-1/0,ie[Zt+1]||1/0));const Ne=Gt;Gt=Ww({values:ie,newValue:Gt,index:Zt}),i&&Qe||(Zt=Gt.indexOf(Ne),Be.current=Zt)}return{newValue:Gt,activeIndex:Zt}},ot=Bn(Fe=>{const Qe=uf(Fe,M);if(!Qe)return;if(C.current+=1,Fe.type==="mousemove"&&Fe.buttons===0){qe(Fe);return}const{newValue:dt,activeIndex:Tt}=Ue({finger:Qe,move:!0});ff({sliderRef:G,activeIndex:Tt,setActive:P}),V(dt),!te&&C.current>jI&&oe(!0),Q&&!df(dt,K)&&Q(Fe,dt,Tt)}),qe=Bn(Fe=>{const Qe=uf(Fe,M);if(oe(!1),!Qe)return;const{newValue:dt}=Ue({finger:Qe,move:!0});P(-1),Fe.type==="touchend"&&j(-1),b&&b(Fe,F.current??dt),M.current=void 0,et()}),ut=Bn(Fe=>{if(n)return;Hw()||Fe.preventDefault();const Qe=Fe.changedTouches[0];Qe!=null&&(M.current=Qe.identifier);const dt=uf(Fe,M);if(dt!==!1){const{newValue:Ot,activeIndex:ct}=Ue({finger:dt});ff({sliderRef:G,activeIndex:ct,setActive:P}),V(Ot),Q&&!df(Ot,K)&&Q(Fe,Ot,ct)}C.current=0;const Tt=rn(G.current);Tt.addEventListener("touchmove",ot,{passive:!0}),Tt.addEventListener("touchend",qe,{passive:!0})}),et=B.useCallback(()=>{const Fe=rn(G.current);Fe.removeEventListener("mousemove",ot),Fe.removeEventListener("mouseup",qe),Fe.removeEventListener("touchmove",ot),Fe.removeEventListener("touchend",qe)},[qe,ot]);B.useEffect(()=>{const{current:Fe}=G;return Fe.addEventListener("touchstart",ut,{passive:Hw()}),()=>{Fe.removeEventListener("touchstart",ut),et()}},[et,ut]),B.useEffect(()=>{n&&et()},[n,et]);const Mt=Fe=>Qe=>{var Ot;if((Ot=Fe.onMouseDown)==null||Ot.call(Fe,Qe),n||Qe.defaultPrevented||Qe.button!==0)return;Qe.preventDefault();const dt=uf(Qe,M);if(dt!==!1){const{newValue:ct,activeIndex:yt}=Ue({finger:dt});ff({sliderRef:G,activeIndex:yt,setActive:P}),V(ct),Q&&!df(ct,K)&&Q(Qe,ct,yt)}C.current=0;const Tt=rn(G.current);Tt.addEventListener("mousemove",ot,{passive:!0}),Tt.addEventListener("mouseup",qe)},Ut=Hf(J?ie[0]:f,f,c),bt=Hf(ie[ie.length-1],f,c)-Ut,xt=(Fe={})=>{const Qe=pc(Fe),dt={onMouseDown:Mt(Qe||{})},Tt={...Qe,...dt};return{...Fe,ref:ue,...Tt}},Dt=Fe=>Qe=>{var Tt;(Tt=Fe.onMouseOver)==null||Tt.call(Fe,Qe);const dt=Number(Qe.currentTarget.getAttribute("data-index"));j(dt)},Lt=Fe=>Qe=>{var dt;(dt=Fe.onMouseLeave)==null||dt.call(Fe,Qe),j(-1)},gt=(Fe={})=>{const Qe=pc(Fe),dt={onMouseOver:Dt(Qe||{}),onMouseLeave:Lt(Qe||{})};return{...Fe,...Qe,...dt}},rt=Fe=>({pointerEvents:R!==-1&&R!==Fe?"none":void 0});let ur;return w==="vertical"&&(ur=s?"vertical-rl":"vertical-lr"),{active:R,axis:Oe,axisProps:WI,dragging:te,focusedThumbIndex:re,getHiddenInputProps:(Fe={})=>{const Qe=pc(Fe),dt={onChange:$e(Qe||{}),onFocus:Se(Qe||{}),onBlur:Me(Qe||{}),onKeyDown:De(Qe||{})},Tt={...Qe,...dt};return{tabIndex:O,"aria-labelledby":e,"aria-orientation":w,"aria-valuemax":A(c),"aria-valuemin":A(f),name:h,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:n,...Fe,...Tt,style:{...UP,direction:s?"rtl":"ltr",width:"100%",height:"100%",writingMode:ur}}},getRootProps:xt,getThumbProps:gt,marks:ve,open:I,range:J,rootRef:ue,trackLeap:bt,trackOffset:Ut,values:ie,getThumbStyle:rt}}const YI=t=>!t||!Oo(t);function KI(t){return $t("MuiSlider",t)}const mi=Bt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),qI=t=>{const{open:e}=t;return{offset:at(e&&mi.valueLabelOpen),circle:mi.valueLabelCircle,label:mi.valueLabelLabel}};function ZI(t){const{children:e,className:r,value:n}=t,i=qI(t);return e?B.cloneElement(e,{className:at(e.props.className)},z.jsxs(B.Fragment,{children:[e.props.children,z.jsx("span",{className:at(i.offset,r),"aria-hidden":!0,children:z.jsx("span",{className:i.circle,children:z.jsx("span",{className:i.label,children:n})})})]})):null}function Xw(t){return t}const QI=He("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${tt(r.color)}`],r.size!=="medium"&&e[`size${tt(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(Ft(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${mi.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${mi.dragging}`]:{[`& .${mi.thumb}, & .${mi.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),JI=He("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),GI=He("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(Ft(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:$o(t.palette[e].main,.62),borderColor:$o(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:zo(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:zo(t.palette[e].main,.5)})}}}))]}))),eN=He("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${tt(r.color)}`],r.size!=="medium"&&e[`thumbSize${tt(r.size)}`]]}})(Ft(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${mi.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Tn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${mi.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Rr(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${mi.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Rr(t.palette[e].main,.16)}`}}}}))]}))),tN=He(ZI,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(Ft(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${mi.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${mi.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),rN=He("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>qd(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(Ft(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),nN=He("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>qd(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(Ft(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),iN=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:s,classes:l,color:c,size:f}=t,h={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",c&&`color${tt(c)}`,f&&`size${tt(f)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",f&&`thumbSize${tt(f)}`,c&&`thumbColor${tt(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Vt(h,KI,l)},sN=({children:t})=>t,Yw=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiSlider"}),i=Xc(),{"aria-label":s,"aria-valuetext":l,"aria-labelledby":c,component:f="span",components:h={},componentsProps:y={},color:b="primary",classes:w,className:x,disableSwap:A=!1,disabled:E=!1,getAriaLabel:k,getAriaValueText:O,marks:N=!1,max:M=100,min:R=0,name:P,onChange:I,onChangeCommitted:j,orientation:te="horizontal",shiftStep:oe=10,size:C="medium",step:F=1,scale:K=Xw,slotProps:V,slots:Q,tabIndex:J,track:ie="normal",value:ve,valueLabelDisplay:se="off",valueLabelFormat:re=Xw,...ye}=n,G={...n,isRtl:i,max:M,min:R,classes:w,disabled:E,disableSwap:A,orientation:te,marks:N,color:b,size:C,step:F,shiftStep:oe,scale:K,track:ie,valueLabelDisplay:se,valueLabelFormat:re},{axisProps:ue,getRootProps:Se,getHiddenInputProps:Me,getThumbProps:de,open:De,active:$e,axis:Be,focusedThumbIndex:Oe,range:Ue,dragging:ot,marks:qe,values:ut,trackOffset:et,trackLeap:Mt,getThumbStyle:Ut}=XI({...G,rootRef:r});G.marked=qe.length>0&&qe.some(Ht=>Ht.label),G.dragging=ot,G.focusedThumbIndex=Oe;const bt=iN(G),xt=(Q==null?void 0:Q.root)??h.Root??QI,Dt=(Q==null?void 0:Q.rail)??h.Rail??JI,Lt=(Q==null?void 0:Q.track)??h.Track??GI,gt=(Q==null?void 0:Q.thumb)??h.Thumb??eN,rt=(Q==null?void 0:Q.valueLabel)??h.ValueLabel??tN,ur=(Q==null?void 0:Q.mark)??h.Mark??rN,qt=(Q==null?void 0:Q.markLabel)??h.MarkLabel??nN,Fe=(Q==null?void 0:Q.input)??h.Input??"input",Qe=(V==null?void 0:V.root)??y.root,dt=(V==null?void 0:V.rail)??y.rail,Tt=(V==null?void 0:V.track)??y.track,Ot=(V==null?void 0:V.thumb)??y.thumb,ct=(V==null?void 0:V.valueLabel)??y.valueLabel,yt=(V==null?void 0:V.mark)??y.mark,tr=(V==null?void 0:V.markLabel)??y.markLabel,Gt=(V==null?void 0:V.input)??y.input,Zt=Xn({elementType:xt,getSlotProps:Se,externalSlotProps:Qe,externalForwardedProps:ye,additionalProps:{...YI(xt)&&{as:f}},ownerState:{...G,...Qe==null?void 0:Qe.ownerState},className:[bt.root,x]}),Ne=Xn({elementType:Dt,externalSlotProps:dt,ownerState:G,className:bt.rail}),Ke=Xn({elementType:Lt,externalSlotProps:Tt,additionalProps:{style:{...ue[Be].offset(et),...ue[Be].leap(Mt)}},ownerState:{...G,...Tt==null?void 0:Tt.ownerState},className:bt.track}),Et=Xn({elementType:gt,getSlotProps:de,externalSlotProps:Ot,ownerState:{...G,...Ot==null?void 0:Ot.ownerState},className:bt.thumb}),Pt=Xn({elementType:rt,externalSlotProps:ct,ownerState:{...G,...ct==null?void 0:ct.ownerState},className:bt.valueLabel}),Yt=Xn({elementType:ur,externalSlotProps:yt,ownerState:G,className:bt.mark}),Pr=Xn({elementType:qt,externalSlotProps:tr,ownerState:G,className:bt.markLabel}),Nr=Xn({elementType:Fe,getSlotProps:Me,externalSlotProps:Gt,ownerState:G});return z.jsxs(xt,{...Zt,children:[z.jsx(Dt,{...Ne}),z.jsx(Lt,{...Ke}),qe.filter(Ht=>Ht.value>=R&&Ht.value<=M).map((Ht,pr)=>{const nn=Hf(Ht.value,R,M),_r=ue[Be].offset(nn);let Wr;return ie===!1?Wr=ut.includes(Ht.value):Wr=ie==="normal"&&(Ue?Ht.value>=ut[0]&&Ht.value<=ut[ut.length-1]:Ht.value<=ut[0])||ie==="inverted"&&(Ue?Ht.value<=ut[0]||Ht.value>=ut[ut.length-1]:Ht.value>=ut[0]),z.jsxs(B.Fragment,{children:[z.jsx(ur,{"data-index":pr,...Yt,...!Oo(ur)&&{markActive:Wr},style:{..._r,...Yt.style},className:at(Yt.className,Wr&&bt.markActive)}),Ht.label!=null?z.jsx(qt,{"aria-hidden":!0,"data-index":pr,...Pr,...!Oo(qt)&&{markLabelActive:Wr},style:{..._r,...Pr.style},className:at(bt.markLabel,Pr.className,Wr&&bt.markLabelActive),children:Ht.label}):null]},pr)}),ut.map((Ht,pr)=>{const nn=Hf(Ht,R,M),_r=ue[Be].offset(nn),Wr=se==="off"?sN:rt;return z.jsx(Wr,{...!Oo(Wr)&&{valueLabelFormat:re,valueLabelDisplay:se,value:typeof re=="function"?re(K(Ht),pr):re,index:pr,open:De===pr||$e===pr||se==="on",disabled:E},...Pt,children:z.jsx(gt,{"data-index":pr,...Et,className:at(bt.thumb,Et.className,$e===pr&&bt.active,Oe===pr&&bt.focusVisible),style:{..._r,...Ut(pr),...Et.style},children:z.jsx(Fe,{"data-index":pr,"aria-label":k?k(pr):s,"aria-valuenow":K(Ht),"aria-labelledby":c,"aria-valuetext":O?O(K(Ht),pr):l,value:ut[pr],...Nr})})},pr)})]})}),Kw=r2({createStyledComponent:He("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Xt({props:t,name:"MuiStack"})}),oN=He("div",{shouldForwardProp:gn})(Ft(({theme:t})=>({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1,variants:[{props:{anchor:"left"},style:{right:"auto"}},{props:{anchor:"right"},style:{left:"auto",right:0}},{props:{anchor:"top"},style:{bottom:"auto",right:0}},{props:{anchor:"bottom"},style:{top:"auto",bottom:0,right:0}}]}))),aN=B.forwardRef(function(e,r){const{anchor:n,classes:i={},className:s,width:l,style:c,...f}=e,h=e;return z.jsx(oN,{className:at("PrivateSwipeArea-root",i.root,i[`anchor${tt(n)}`],s),ref:r,style:{[Ro(n)?"width":"height"]:l,...c},ownerState:h,...f})}),pf=3,ag=20;let ps=null;function lg(t,e,r){return t==="right"?r.body.offsetWidth-e[0].pageX:e[0].pageX}function cg(t,e,r){return t==="bottom"?r.innerHeight-e[0].clientY:e[0].clientY}function ql(t,e){return t?e.clientWidth:e.clientHeight}function qw(t,e,r,n){return Math.min(Math.max(r?e-t:n+e-t,0),n)}function lN(t,e){const r=[];for(;t&&t!==e.parentElement;){const n=Sn(e).getComputedStyle(t);n.getPropertyValue("position")==="absolute"||n.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&r.push(t),t=t.parentElement}return r}function cN({domTreeShapes:t,start:e,current:r,anchor:n}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let l=r>=e;(n==="top"||n==="left")&&(l=!l);const c=n==="left"||n==="right"?"x":"y",f=Math.round(s[i.scrollPosition[c]]),h=f>0,y=f+s[i.clientLength[c]]<s[i.scrollLength[c]];return!!(l&&y||!l&&h)})}const uN=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),fN=B.forwardRef(function(e,r){const n=Xt({name:"MuiSwipeableDrawer",props:e}),i=to(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:l="left",disableBackdropTransition:c=!1,disableDiscovery:f=!1,disableSwipeToOpen:h=uN,hideBackdrop:y,hysteresis:b=.52,allowSwipeInChildren:w=!1,minFlingVelocity:x=450,ModalProps:{BackdropProps:A,...E}={},onClose:k,onOpen:O,open:N=!1,PaperProps:M={},SwipeAreaProps:R,swipeAreaWidth:P=20,transitionDuration:I=s,variant:j="temporary",...te}=n,[oe,C]=B.useState(!1),F=B.useRef({isSwiping:null}),K=B.useRef(),V=B.useRef(),Q=B.useRef(),J=qr(M.ref,Q),ie=B.useRef(!1),ve=B.useRef();wi(()=>{ve.current=null},[N]);const se=B.useCallback((Se,Me={})=>{const{mode:de=null,changeTransition:De=!0}=Me,$e=oc(i,l),Be=["right","bottom"].includes($e)?1:-1,Oe=Ro(l),Ue=Oe?`translate(${Be*Se}px, 0)`:`translate(0, ${Be*Se}px)`,ot=Q.current.style;ot.webkitTransform=Ue,ot.transform=Ue;let qe="";if(de&&(qe=i.transitions.create("all",Vo({easing:void 0,style:void 0,timeout:I},{mode:de}))),De&&(ot.webkitTransition=qe,ot.transition=qe),!c&&!y){const ut=V.current.style;ut.opacity=1-Se/ql(Oe,Q.current),De&&(ut.webkitTransition=qe,ut.transition=qe)}},[l,c,y,i,I]),re=Bn(Se=>{if(!ie.current)return;if(ps=null,ie.current=!1,zf.flushSync(()=>{C(!1)}),!F.current.isSwiping){F.current.isSwiping=null;return}F.current.isSwiping=null;const Me=oc(i,l),de=Ro(l);let De;de?De=lg(Me,Se.changedTouches,rn(Se.currentTarget)):De=cg(Me,Se.changedTouches,Sn(Se.currentTarget));const $e=de?F.current.startX:F.current.startY,Be=ql(de,Q.current),Oe=qw(De,$e,N,Be),Ue=Oe/Be;if(Math.abs(F.current.velocity)>x&&(ve.current=Math.abs((Be-Oe)/F.current.velocity)*1e3),N){F.current.velocity>x||Ue>b?k():se(0,{mode:"exit"});return}F.current.velocity<-x||1-Ue>b?O():se(ql(de,Q.current),{mode:"enter"})}),ye=(Se=!1)=>{if(!oe){(Se||!(f&&w))&&zf.flushSync(()=>{C(!0)});const Me=Ro(l);!N&&Q.current&&se(ql(Me,Q.current)+(f?15:-ag),{changeTransition:!1}),F.current.velocity=0,F.current.lastTime=null,F.current.lastTranslate=null,F.current.paperHit=!1,ie.current=!0}},G=Bn(Se=>{if(!Q.current||!ie.current||ps!==null&&ps!==F.current)return;ye(!0);const Me=oc(i,l),de=Ro(l),De=lg(Me,Se.touches,rn(Se.currentTarget)),$e=cg(Me,Se.touches,Sn(Se.currentTarget));if(N&&Q.current.contains(Se.target)&&ps===null){const qe=lN(Se.target,Q.current);if(cN({domTreeShapes:qe,start:de?F.current.startX:F.current.startY,current:de?De:$e,anchor:l})){ps=!0;return}ps=F.current}if(F.current.isSwiping==null){const qe=Math.abs(De-F.current.startX),ut=Math.abs($e-F.current.startY),et=de?qe>ut&&qe>pf:ut>qe&&ut>pf;if(et&&Se.cancelable&&Se.preventDefault(),et===!0||(de?ut>pf:qe>pf)){if(F.current.isSwiping=et,!et){re(Se);return}F.current.startX=De,F.current.startY=$e,!f&&!N&&(de?F.current.startX-=ag:F.current.startY-=ag)}}if(!F.current.isSwiping)return;const Be=ql(de,Q.current);let Oe=de?F.current.startX:F.current.startY;N&&!F.current.paperHit&&(Oe=Math.min(Oe,Be));const Ue=qw(de?De:$e,Oe,N,Be);if(N)if(F.current.paperHit)Ue===0&&(F.current.startX=De,F.current.startY=$e);else if(de?De<Be:$e<Be)F.current.paperHit=!0,F.current.startX=De,F.current.startY=$e;else return;F.current.lastTranslate===null&&(F.current.lastTranslate=Ue,F.current.lastTime=performance.now()+1);const ot=(Ue-F.current.lastTranslate)/(performance.now()-F.current.lastTime)*1e3;F.current.velocity=F.current.velocity*.4+ot*.6,F.current.lastTranslate=Ue,F.current.lastTime=performance.now(),Se.cancelable&&Se.preventDefault(),se(Ue)}),ue=Bn(Se=>{var Be;if(Se.defaultPrevented||Se.defaultMuiPrevented||N&&(y||!V.current.contains(Se.target))&&!Q.current.contains(Se.target))return;const Me=oc(i,l),de=Ro(l),De=lg(Me,Se.touches,rn(Se.currentTarget)),$e=cg(Me,Se.touches,Sn(Se.currentTarget));if(!N){if(h||!(Se.target===K.current||(Be=Q.current)!=null&&Be.contains(Se.target)&&(typeof w=="function"?w(Se,K.current,Q.current):w)))return;if(de){if(De>P)return}else if($e>P)return}Se.defaultMuiPrevented=!0,ps=null,F.current.startX=De,F.current.startY=$e,ye()});return B.useEffect(()=>{if(j==="temporary"){const Se=rn(Q.current);return Se.addEventListener("touchstart",ue),Se.addEventListener("touchmove",G,{passive:!N}),Se.addEventListener("touchend",re),()=>{Se.removeEventListener("touchstart",ue),Se.removeEventListener("touchmove",G,{passive:!N}),Se.removeEventListener("touchend",re)}}},[j,N,ue,G,re]),B.useEffect(()=>()=>{ps===F.current&&(ps=null)},[]),B.useEffect(()=>{N||C(!1)},[N]),z.jsxs(B.Fragment,{children:[z.jsx(qM,{open:j==="temporary"&&oe?!0:N,variant:j,ModalProps:{BackdropProps:{...A,ref:V},...j==="temporary"&&{keepMounted:!0},...E},hideBackdrop:y,PaperProps:{...M,style:{pointerEvents:j==="temporary"&&!N&&!w?"none":"",...M.style},ref:J},anchor:l,transitionDuration:ve.current||I,onClose:k,ref:r,...te}),!h&&j==="temporary"&&z.jsx(lI,{children:z.jsx(aN,{anchor:l,ref:K,width:P,...R})})]})});function dN(t){return $t("MuiSwitch",t)}const Fn=Bt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),hN=t=>{const{classes:e,edge:r,size:n,color:i,checked:s,disabled:l}=t,c={root:["root",r&&`edge${tt(r)}`,`size${tt(n)}`],switchBase:["switchBase",`color${tt(i)}`,s&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=Vt(c,dN,e);return{...e,...f}},pN=He("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${tt(r.edge)}`],e[`size${tt(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Fn.thumb}`]:{width:16,height:16},[`& .${Fn.switchBase}`]:{padding:4,[`&.${Fn.checked}`]:{transform:"translateX(16px)"}}}}]}),gN=He(P0,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${Fn.input}`]:e.input},r.color!=="default"&&e[`color${tt(r.color)}`]]}})(Ft(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Fn.checked}`]:{transform:"translateX(20px)"},[`&.${Fn.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Fn.checked} + .${Fn.track}`]:{opacity:.5},[`&.${Fn.disabled} + .${Fn.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Fn.input}`]:{left:"-100%",width:"300%"}})),Ft(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Tn(["light"])).map(([e])=>({props:{color:e},style:{[`&.${Fn.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Rr(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fn.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?$o(t.palette[e].main,.62):zo(t.palette[e].main,.55)}`}},[`&.${Fn.checked} + .${Fn.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),mN=He("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(Ft(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),_N=He("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(Ft(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),yN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:l=!1,size:c="medium",sx:f,...h}=n,y={...n,color:s,edge:l,size:c},b=hN(y),w=z.jsx(_N,{className:b.thumb,ownerState:y});return z.jsxs(pN,{className:at(b.root,i),sx:f,ownerState:y,children:[z.jsx(gN,{type:"checkbox",icon:w,checkedIcon:w,ref:r,ownerState:y,...h,classes:{...b,root:b.switchBase}}),z.jsx(mN,{className:b.track,ownerState:y})]})});function vN(t){return $t("MuiTab",t)}const fi=Bt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),wN=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:s,label:l,selected:c,disabled:f}=t,h={root:["root",s&&l&&"labelIcon",`textColor${tt(r)}`,n&&"fullWidth",i&&"wrapped",c&&"selected",f&&"disabled"],icon:["iconWrapper","icon"]};return Vt(h,vN,e)},bN=He(al,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${tt(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped,{[`& .${fi.iconWrapper}`]:e.iconWrapper},{[`& .${fi.icon}`]:e.icon}]}})(Ft(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="top",style:{[`& > .${fi.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="bottom",style:{[`& > .${fi.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="start",style:{[`& > .${fi.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="end",style:{[`& > .${fi.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${fi.selected}`]:{opacity:1},[`&.${fi.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${fi.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${fi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${fi.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${fi.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),ug=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:l=!1,fullWidth:c,icon:f,iconPosition:h="top",indicator:y,label:b,onChange:w,onClick:x,onFocus:A,selected:E,selectionFollowsFocus:k,textColor:O="inherit",value:N,wrapped:M=!1,...R}=n,P={...n,disabled:s,disableFocusRipple:l,selected:E,icon:!!f,iconPosition:h,label:!!b,fullWidth:c,textColor:O,wrapped:M},I=wN(P),j=f&&b&&B.isValidElement(f)?B.cloneElement(f,{className:at(I.icon,f.props.className)}):f,te=C=>{!E&&w&&w(C,N),x&&x(C)},oe=C=>{k&&!E&&w&&w(C,N),A&&A(C)};return z.jsxs(bN,{focusRipple:!l,className:at(I.root,i),ref:r,role:"tab","aria-selected":E,disabled:s,onClick:te,onFocus:oe,ownerState:P,tabIndex:E?0:-1,...R,children:[h==="top"||h==="start"?z.jsxs(B.Fragment,{children:[j,b]}):z.jsxs(B.Fragment,{children:[b,j]}),y]})}),_T=B.createContext();function SN(t){return $t("MuiTable",t)}Bt("MuiTable",["root","stickyHeader"]);const TN=t=>{const{classes:e,stickyHeader:r}=t;return Vt({root:["root",r&&"stickyHeader"]},SN,e)},EN=He("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.stickyHeader&&e.stickyHeader]}})(Ft(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),Zw="table",RN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTable"}),{className:i,component:s=Zw,padding:l="normal",size:c="medium",stickyHeader:f=!1,...h}=n,y={...n,component:s,padding:l,size:c,stickyHeader:f},b=TN(y),w=B.useMemo(()=>({padding:l,size:c,stickyHeader:f}),[l,c,f]);return z.jsx(_T.Provider,{value:w,children:z.jsx(EN,{as:s,role:s===Zw?null:"table",ref:r,className:at(b.root,i),ownerState:y,...h})})}),F0=B.createContext();function xN(t){return $t("MuiTableBody",t)}Bt("MuiTableBody",["root"]);const CN=t=>{const{classes:e}=t;return Vt({root:["root"]},xN,e)},AN=He("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),PN={variant:"body"},Qw="tbody",MN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTableBody"}),{className:i,component:s=Qw,...l}=n,c={...n,component:s},f=CN(c);return z.jsx(F0.Provider,{value:PN,children:z.jsx(AN,{className:at(f.root,i),as:s,ref:r,role:s===Qw?null:"rowgroup",ownerState:c,...l})})});function kN(t){return $t("MuiTableCell",t)}const IN=Bt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),NN=t=>{const{classes:e,variant:r,align:n,padding:i,size:s,stickyHeader:l}=t,c={root:["root",r,l&&"stickyHeader",n!=="inherit"&&`align${tt(n)}`,i!=="normal"&&`padding${tt(i)}`,`size${tt(s)}`]};return Vt(c,kN,e)},ON=He("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${tt(r.size)}`],r.padding!=="normal"&&e[`padding${tt(r.padding)}`],r.align!=="inherit"&&e[`align${tt(r.align)}`],r.stickyHeader&&e.stickyHeader]}})(Ft(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?$o(Rr(t.palette.divider,1),.88):zo(Rr(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${IN.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),fg=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:l,padding:c,scope:f,size:h,sortDirection:y,variant:b,...w}=n,x=B.useContext(_T),A=B.useContext(F0),E=A&&A.variant==="head";let k;l?k=l:k=E?"th":"td";let O=f;k==="td"?O=void 0:!O&&E&&(O="col");const N=b||A&&A.variant,M={...n,align:i,component:k,padding:c||(x&&x.padding?x.padding:"normal"),size:h||(x&&x.size?x.size:"medium"),sortDirection:y,stickyHeader:N==="head"&&x&&x.stickyHeader,variant:N},R=NN(M);let P=null;return y&&(P=y==="asc"?"ascending":"descending"),z.jsx(ON,{as:k,ref:r,className:at(R.root,s),"aria-sort":P,scope:O,ownerState:M,...w})});function FN(t){return $t("MuiTableContainer",t)}Bt("MuiTableContainer",["root"]);const DN=t=>{const{classes:e}=t;return Vt({root:["root"]},FN,e)},BN=He("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),UN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTableContainer"}),{className:i,component:s="div",...l}=n,c={...n,component:s},f=DN(c);return z.jsx(BN,{ref:r,as:s,className:at(f.root,i),ownerState:c,...l})}),LN=bs(z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jN=bs(z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function zN(t){return $t("MuiTableRow",t)}const Jw=Bt("MuiTableRow",["root","selected","hover","head","footer"]),$N=t=>{const{classes:e,selected:r,hover:n,head:i,footer:s}=t;return Vt({root:["root",r&&"selected",n&&"hover",i&&"head",s&&"footer"]},zN,e)},VN=He("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.head&&e.head,r.footer&&e.footer]}})(Ft(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Jw.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Jw.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Rr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),Gw="tr",WN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTableRow"}),{className:i,component:s=Gw,hover:l=!1,selected:c=!1,...f}=n,h=B.useContext(F0),y={...n,component:s,hover:l,selected:c,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},b=$N(y);return z.jsx(VN,{as:s,ref:r,className:at(b.root,i),role:s===Gw?null:"row",ownerState:y,...f})});function HN(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function XN(t,e,r,n={},i=()=>{}){const{ease:s=HN,duration:l=300}=n;let c=null;const f=e[t];let h=!1;const y=()=>{h=!0},b=w=>{if(h){i(new Error("Animation cancelled"));return}c===null&&(c=w);const x=Math.min(1,(w-c)/l);if(e[t]=s(x)*(r-f)+f,x>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(b)};return f===r?(i(new Error("Element already at target position")),y):(requestAnimationFrame(b),y)}const YN={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function KN(t){const{onChange:e,...r}=t,n=B.useRef(),i=B.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return wi(()=>{const l=Wc(()=>{const f=n.current;s(),f!==n.current&&e(n.current)}),c=Sn(i.current);return c.addEventListener("resize",l),()=>{l.clear(),c.removeEventListener("resize",l)}},[e]),B.useEffect(()=>{s(),e(n.current)},[e]),z.jsx("div",{style:YN,...r,ref:i})}function qN(t){return $t("MuiTabScrollButton",t)}const ZN=Bt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),QN=t=>{const{classes:e,orientation:r,disabled:n}=t;return Vt({root:["root",r,n&&"disabled"]},qN,e)},JN=He(al,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${ZN.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),GN=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:l={},direction:c,orientation:f,disabled:h,...y}=n,b=Xc(),w={isRtl:b,...n},x=QN(w),A=s.StartScrollButtonIcon??LN,E=s.EndScrollButtonIcon??jN,k=Xn({elementType:A,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w}),O=Xn({elementType:E,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:w});return z.jsx(JN,{component:"div",className:at(x.root,i),ref:r,role:null,ownerState:w,tabIndex:null,...y,style:{...y.style,...f==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${b?-90:90}deg)`}},children:c==="left"?z.jsx(A,{...k}):z.jsx(E,{...O})})});function eO(t){return $t("MuiTabs",t)}const dg=Bt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),eb=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,tb=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,gf=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=r(t,i);else{i.focus();return}}},tO=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:l,scrollButtonsHideMobile:c,classes:f}=t;return Vt({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},eO,f)},rO=He("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${dg.scrollButtons}`]:e.scrollButtons},{[`& .${dg.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(Ft(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${dg.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),nO=He("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),iO=He("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),sO=He("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Ft(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),oO=He(KN)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),rb={},aO=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTabs"}),i=to(),s=Xc(),{"aria-label":l,"aria-labelledby":c,action:f,centered:h=!1,children:y,className:b,component:w="div",allowScrollButtonsMobile:x=!1,indicatorColor:A="primary",onChange:E,orientation:k="horizontal",ScrollButtonComponent:O=GN,scrollButtons:N="auto",selectionFollowsFocus:M,slots:R={},slotProps:P={},TabIndicatorProps:I={},TabScrollButtonProps:j={},textColor:te="primary",value:oe,variant:C="standard",visibleScrollbar:F=!1,...K}=n,V=C==="scrollable",Q=k==="vertical",J=Q?"scrollTop":"scrollLeft",ie=Q?"top":"left",ve=Q?"bottom":"right",se=Q?"clientHeight":"clientWidth",re=Q?"height":"width",ye={...n,component:w,allowScrollButtonsMobile:x,indicatorColor:A,orientation:k,vertical:Q,scrollButtons:N,textColor:te,variant:C,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!Q,scrollableY:V&&Q,centered:h&&!V,scrollButtonsHideMobile:!x},G=tO(ye),ue=Xn({elementType:R.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:ye}),Se=Xn({elementType:R.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:ye}),[Me,de]=B.useState(!1),[De,$e]=B.useState(rb),[Be,Oe]=B.useState(!1),[Ue,ot]=B.useState(!1),[qe,ut]=B.useState(!1),[et,Mt]=B.useState({overflow:"hidden",scrollbarWidth:0}),Ut=new Map,bt=B.useRef(null),xt=B.useRef(null),Dt=()=>{const Ne=bt.current;let Ke;if(Ne){const Pt=Ne.getBoundingClientRect();Ke={clientWidth:Ne.clientWidth,scrollLeft:Ne.scrollLeft,scrollTop:Ne.scrollTop,scrollWidth:Ne.scrollWidth,top:Pt.top,bottom:Pt.bottom,left:Pt.left,right:Pt.right}}let Et;if(Ne&&oe!==!1){const Pt=xt.current.children;if(Pt.length>0){const Yt=Pt[Ut.get(oe)];Et=Yt?Yt.getBoundingClientRect():null}}return{tabsMeta:Ke,tabMeta:Et}},Lt=Bn(()=>{const{tabsMeta:Ne,tabMeta:Ke}=Dt();let Et=0,Pt;Q?(Pt="top",Ke&&Ne&&(Et=Ke.top-Ne.top+Ne.scrollTop)):(Pt=s?"right":"left",Ke&&Ne&&(Et=(s?-1:1)*(Ke[Pt]-Ne[Pt]+Ne.scrollLeft)));const Yt={[Pt]:Et,[re]:Ke?Ke[re]:0};if(typeof De[Pt]!="number"||typeof De[re]!="number")$e(Yt);else{const Pr=Math.abs(De[Pt]-Yt[Pt]),Nr=Math.abs(De[re]-Yt[re]);(Pr>=1||Nr>=1)&&$e(Yt)}}),gt=(Ne,{animation:Ke=!0}={})=>{Ke?XN(J,bt.current,Ne,{duration:i.transitions.duration.standard}):bt.current[J]=Ne},rt=Ne=>{let Ke=bt.current[J];Q?Ke+=Ne:Ke+=Ne*(s?-1:1),gt(Ke)},ur=()=>{const Ne=bt.current[se];let Ke=0;const Et=Array.from(xt.current.children);for(let Pt=0;Pt<Et.length;Pt+=1){const Yt=Et[Pt];if(Ke+Yt[se]>Ne){Pt===0&&(Ke=Ne);break}Ke+=Yt[se]}return Ke},qt=()=>{rt(-1*ur())},Fe=()=>{rt(ur())},Qe=B.useCallback(Ne=>{Mt({overflow:null,scrollbarWidth:Ne})},[]),dt=()=>{const Ne={};Ne.scrollbarSizeListener=V?z.jsx(oO,{onChange:Qe,className:at(G.scrollableX,G.hideScrollbar)}):null;const Et=V&&(N==="auto"&&(Be||Ue)||N===!0);return Ne.scrollButtonStart=Et?z.jsx(O,{slots:{StartScrollButtonIcon:R.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ue},orientation:k,direction:s?"right":"left",onClick:qt,disabled:!Be,...j,className:at(G.scrollButtons,j.className)}):null,Ne.scrollButtonEnd=Et?z.jsx(O,{slots:{EndScrollButtonIcon:R.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Se},orientation:k,direction:s?"left":"right",onClick:Fe,disabled:!Ue,...j,className:at(G.scrollButtons,j.className)}):null,Ne},Tt=Bn(Ne=>{const{tabsMeta:Ke,tabMeta:Et}=Dt();if(!(!Et||!Ke)){if(Et[ie]<Ke[ie]){const Pt=Ke[J]+(Et[ie]-Ke[ie]);gt(Pt,{animation:Ne})}else if(Et[ve]>Ke[ve]){const Pt=Ke[J]+(Et[ve]-Ke[ve]);gt(Pt,{animation:Ne})}}}),Ot=Bn(()=>{V&&N!==!1&&ut(!qe)});B.useEffect(()=>{const Ne=Wc(()=>{bt.current&&Lt()});let Ke;const Et=Pr=>{Pr.forEach(Nr=>{Nr.removedNodes.forEach(Ht=>{Ke==null||Ke.unobserve(Ht)}),Nr.addedNodes.forEach(Ht=>{Ke==null||Ke.observe(Ht)})}),Ne(),Ot()},Pt=Sn(bt.current);Pt.addEventListener("resize",Ne);let Yt;return typeof ResizeObserver<"u"&&(Ke=new ResizeObserver(Ne),Array.from(xt.current.children).forEach(Pr=>{Ke.observe(Pr)})),typeof MutationObserver<"u"&&(Yt=new MutationObserver(Et),Yt.observe(xt.current,{childList:!0})),()=>{Ne.clear(),Pt.removeEventListener("resize",Ne),Yt==null||Yt.disconnect(),Ke==null||Ke.disconnect()}},[Lt,Ot]),B.useEffect(()=>{const Ne=Array.from(xt.current.children),Ke=Ne.length;if(typeof IntersectionObserver<"u"&&Ke>0&&V&&N!==!1){const Et=Ne[0],Pt=Ne[Ke-1],Yt={root:bt.current,threshold:.99},Pr=nn=>{Oe(!nn[0].isIntersecting)},Nr=new IntersectionObserver(Pr,Yt);Nr.observe(Et);const Ht=nn=>{ot(!nn[0].isIntersecting)},pr=new IntersectionObserver(Ht,Yt);return pr.observe(Pt),()=>{Nr.disconnect(),pr.disconnect()}}},[V,N,qe,y==null?void 0:y.length]),B.useEffect(()=>{de(!0)},[]),B.useEffect(()=>{Lt()}),B.useEffect(()=>{Tt(rb!==De)},[Tt,De]),B.useImperativeHandle(f,()=>({updateIndicator:Lt,updateScrollButtons:Ot}),[Lt,Ot]);const ct=z.jsx(sO,{...I,className:at(G.indicator,I.className),ownerState:ye,style:{...De,...I.style}});let yt=0;const tr=B.Children.map(y,Ne=>{if(!B.isValidElement(Ne))return null;const Ke=Ne.props.value===void 0?yt:Ne.props.value;Ut.set(Ke,yt);const Et=Ke===oe;return yt+=1,B.cloneElement(Ne,{fullWidth:C==="fullWidth",indicator:Et&&!Me&&ct,selected:Et,selectionFollowsFocus:M,onChange:E,textColor:te,value:Ke,...yt===1&&oe===!1&&!Ne.props.tabIndex?{tabIndex:0}:{}})}),Gt=Ne=>{const Ke=xt.current,Et=rn(Ke).activeElement;if(Et.getAttribute("role")!=="tab")return;let Yt=k==="horizontal"?"ArrowLeft":"ArrowUp",Pr=k==="horizontal"?"ArrowRight":"ArrowDown";switch(k==="horizontal"&&s&&(Yt="ArrowRight",Pr="ArrowLeft"),Ne.key){case Yt:Ne.preventDefault(),gf(Ke,Et,tb);break;case Pr:Ne.preventDefault(),gf(Ke,Et,eb);break;case"Home":Ne.preventDefault(),gf(Ke,null,eb);break;case"End":Ne.preventDefault(),gf(Ke,null,tb);break}},Zt=dt();return z.jsxs(rO,{className:at(G.root,b),ownerState:ye,ref:r,as:w,...K,children:[Zt.scrollButtonStart,Zt.scrollbarSizeListener,z.jsxs(nO,{className:G.scroller,ownerState:ye,style:{overflow:et.overflow,[Q?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-et.scrollbarWidth},ref:bt,children:[z.jsx(iO,{"aria-label":l,"aria-labelledby":c,"aria-orientation":k==="vertical"?"vertical":null,className:G.flexContainer,ownerState:ye,onKeyDown:Gt,ref:xt,role:"tablist",children:tr}),Me&&ct]}),Zt.scrollButtonEnd]})});function lO(t){return $t("MuiTextField",t)}Bt("MuiTextField",["root"]);const cO={standard:k0,filled:M0,outlined:N0},uO=t=>{const{classes:e}=t;return Vt({root:["root"]},lO,e)},fO=He(Mn,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),nb=B.forwardRef(function(e,r){const n=Xt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:l,className:c,color:f="primary",defaultValue:h,disabled:y=!1,error:b=!1,FormHelperTextProps:w,fullWidth:x=!1,helperText:A,id:E,InputLabelProps:k,inputProps:O,InputProps:N,inputRef:M,label:R,maxRows:P,minRows:I,multiline:j=!1,name:te,onBlur:oe,onChange:C,onFocus:F,placeholder:K,required:V=!1,rows:Q,select:J=!1,SelectProps:ie,slots:ve={},slotProps:se={},type:re,value:ye,variant:G="outlined",...ue}=n,Se={...n,autoFocus:s,color:f,disabled:y,error:b,fullWidth:x,multiline:j,required:V,select:J,variant:G},Me=uO(Se),de=Hc(E),De=A&&de?`${de}-helper-text`:void 0,$e=R&&de?`${de}-label`:void 0,Be=cO[G],Oe={slots:ve,slotProps:{input:N,inputLabel:k,htmlInput:O,formHelperText:w,select:ie,...se}},Ue={},ot=Oe.slotProps.inputLabel;G==="outlined"&&(ot&&typeof ot.shrink<"u"&&(Ue.notched=ot.shrink),Ue.label=R),J&&((!ie||!ie.native)&&(Ue.id=void 0),Ue["aria-describedby"]=void 0);const[qe,ut]=gi("input",{elementType:Be,externalForwardedProps:Oe,additionalProps:Ue,ownerState:Se}),[et,Mt]=gi("inputLabel",{elementType:Mi,externalForwardedProps:Oe,ownerState:Se}),[Ut,bt]=gi("htmlInput",{elementType:"input",externalForwardedProps:Oe,ownerState:Se}),[xt,Dt]=gi("formHelperText",{elementType:dk,externalForwardedProps:Oe,ownerState:Se}),[Lt,gt]=gi("select",{elementType:di,externalForwardedProps:Oe,ownerState:Se}),rt=z.jsx(qe,{"aria-describedby":De,autoComplete:i,autoFocus:s,defaultValue:h,fullWidth:x,multiline:j,name:te,rows:Q,maxRows:P,minRows:I,type:re,value:ye,id:de,inputRef:M,onBlur:oe,onChange:C,onFocus:F,placeholder:K,inputProps:bt,slots:{input:ve.htmlInput?Ut:void 0},...ut});return z.jsxs(fO,{className:at(Me.root,c),disabled:y,error:b,fullWidth:x,ref:r,required:V,color:f,variant:G,ownerState:Se,...ue,children:[R!=null&&R!==""&&z.jsx(et,{htmlFor:de,id:$e,...Mt,children:R}),J?z.jsx(Lt,{"aria-describedby":De,id:de,labelId:$e,value:ye,input:rt,...gt,children:l}):rt,A&&z.jsx(xt,{id:De,...Dt,children:A})]})}),yT=B.createContext(null);function dO(){const[t,e]=B.useState(null);return B.useEffect(()=>{e(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),t}function hO(t){const{children:e,value:r}=t,n=dO(),i=B.useMemo(()=>({idPrefix:n,value:r}),[n,r]);return z.jsx(yT.Provider,{value:i,children:e})}function vT(){return B.useContext(yT)}function wT(t,e){const{idPrefix:r}=t;return r===null?null:`${t.idPrefix}-P-${e}`}function bT(t,e){const{idPrefix:r}=t;return r===null?null:`${t.idPrefix}-T-${e}`}const pO=B.forwardRef(function(e,r){const{children:n,...i}=e,s=vT();if(s===null)throw new TypeError("No TabContext provided");const l=B.Children.map(n,c=>B.isValidElement(c)?B.cloneElement(c,{"aria-controls":wT(s,c.props.value),id:bT(s,c.props.value)}):null);return z.jsx(aO,{...i,ref:r,value:s.value,children:l})});function gO(t){return $t("MuiTabPanel",t)}Bt("MuiTabPanel",["root","hidden"]);const mO=t=>{const{classes:e,hidden:r}=t;return Vt({root:["root",r&&"hidden"]},gO,e)},_O=He("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(3)})),hg=B.forwardRef(function(e,r){const n=N2({props:e,name:"MuiTabPanel"}),{children:i,className:s,value:l,keepMounted:c=!1,...f}=n,h={...n},y=mO(h),b=vT();if(b===null)throw new TypeError("No TabContext provided");const w=wT(b,l),x=bT(b,l);return z.jsx(_O,{"aria-labelledby":x,className:at(y.root,s),hidden:l!==b.value,id:w,ref:r,role:"tabpanel",ownerState:h,...f,children:(c||l===b.value)&&i})}),yO=bs(z.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function Xf(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const D0=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),ib=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);ib&&parseFloat(ib[1]);const mf=globalThis,Ra=globalThis.process||{},vO=globalThis.navigator||{};function ST(t){var n,i;if(typeof window<"u"&&((n=window.process)==null?void 0:n.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const r=typeof navigator<"u"&&navigator.userAgent;return!!(r&&r.indexOf("Electron")>=0)}function no(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||ST()}function wO(t){return no()?ST()?"Electron":(vO.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const TT="4.0.7";function bO(t){try{const e=window[t],r="__storage_test__";return e.setItem(r,r),e.removeItem(r),e}catch{return null}}class SO{constructor(e,r,n="sessionStorage"){this.storage=bO(n),this.id=e,this.config=r,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const r=JSON.stringify(this.config);this.storage.setItem(this.id,r)}}_loadConfiguration(){let e={};if(this.storage){const r=this.storage.getItem(this.id);e=r?JSON.parse(r):{}}return Object.assign(this.config,e),this}}function TO(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function EO(t,e=8){const r=Math.max(e-t.length,0);return`${" ".repeat(r)}${t}`}var Yf;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Yf||(Yf={}));const RO=10;function sb(t){return typeof t!="string"?t:(t=t.toUpperCase(),Yf[t]||Yf.WHITE)}function xO(t,e,r){return!no&&typeof t=="string"&&(e&&(t=`\x1B[${sb(e)}m${t}\x1B[39m`),r&&(t=`\x1B[${sb(r)+RO}m${t}\x1B[49m`)),t}function CO(t,e=["constructor"]){const r=Object.getPrototypeOf(t),n=Object.getOwnPropertyNames(r),i=t;for(const s of n){const l=i[s];typeof l=="function"&&(e.find(c=>s===c)||(i[s]=l.bind(t)))}}function B0(t,e){if(!t)throw new Error("Assertion failed")}function xa(){var e,r,n;let t;if(no()&&mf.performance)t=(r=(e=mf==null?void 0:mf.performance)==null?void 0:e.now)==null?void 0:r.call(e);else if("hrtime"in Ra){const i=(n=Ra==null?void 0:Ra.hrtime)==null?void 0:n.call(Ra);t=i[0]*1e3+i[1]/1e6}else t=Date.now();return t}const Ca={debug:no()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},AO={enabled:!0,level:0};function Aa(){}const ob={},ab={once:!0};class Yc{constructor({id:e}={id:""}){this.VERSION=TT,this._startTs=xa(),this._deltaTs=xa(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new SO(`__probe-${this.id}__`,AO),this.timeStamp(`${this.id} started`),CO(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((xa()-this._startTs).toPrecision(10))}getDelta(){return Number((xa()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,r){this._storage.setConfiguration({[e]:r})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,r){if(!e)throw new Error(r||"Assertion failed")}warn(e){return this._getLogFunction(0,e,Ca.warn,arguments,ab)}error(e){return this._getLogFunction(0,e,Ca.error,arguments)}deprecated(e,r){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${r}\` instead`)}removed(e,r){return this.error(`\`${e}\` has been removed. Use \`${r}\` instead`)}probe(e,r){return this._getLogFunction(e,r,Ca.log,arguments,{time:!0,once:!0})}log(e,r){return this._getLogFunction(e,r,Ca.debug,arguments)}info(e,r){return this._getLogFunction(e,r,console.info,arguments)}once(e,r){return this._getLogFunction(e,r,Ca.debug||Ca.info,arguments,ab)}table(e,r,n){return r?this._getLogFunction(e,r,console.table||Aa,n&&[n],{tag:MO(r)}):Aa}time(e,r){return this._getLogFunction(e,r,console.time?console.time:console.info)}timeEnd(e,r){return this._getLogFunction(e,r,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,r){return this._getLogFunction(e,r,console.timeStamp||Aa)}group(e,r,n={collapsed:!1}){const i=lb({logLevel:e,message:r,opts:n}),{collapsed:s}=n;return i.method=(s?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,r,n={}){return this.group(e,r,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Aa)}withGroup(e,r,n){this.group(e,r)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=ET(e)}_getLogFunction(e,r,n,i,s){if(this._shouldLog(e)){s=lb({logLevel:e,message:r,args:i,opts:s}),n=n||s.method,B0(n),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=xa();const l=s.tag||s.message;if(s.once&&l)if(!ob[l])ob[l]=xa();else return Aa;return r=PO(this.id,s.message,s),n.bind(console,r,...s.args)}return Aa}}Yc.VERSION=TT;function ET(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return B0(Number.isFinite(e)&&e>=0),e}function lb(t){const{logLevel:e,message:r}=t;t.logLevel=ET(e);const n=t.args?Array.from(t.args):[];for(;n.length&&n.shift()!==r;);switch(typeof e){case"string":case"function":r!==void 0&&n.unshift(r),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return B0(i==="string"||i==="object"),Object.assign(t,{args:n},t.opts)}function PO(t,e,r){if(typeof e=="string"){const n=r.time?EO(TO(r.total)):"";e=r.time?`${t}: ${n}  ${e}`:`${t}: ${e}`,e=xO(e,r.color,r.background)}return e}function MO(t){for(const e in t)for(const r in t[e])return r||"untitled";return"empty"}const pg="4.3.2",kO=pg[0]>="0"&&pg[0]<="9"?`v${pg}`:"";function IO(){const t=new Yc({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=kO,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const NO=IO();function OO(t,e){return RT(t||{},e)}function RT(t,e,r=0){if(r>3)return e;const n={...t};for(const[i,s]of Object.entries(e))s&&typeof s=="object"&&!Array.isArray(s)?n[i]=RT(n[i]||{},e[i],r+1):n[i]=e[i];return n}const FO="latest";function DO(){var t;return(t=globalThis._loadersgl_)!=null&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.2"),globalThis._loadersgl_.version}const BO=DO();function Gs(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const Fo=typeof process!="object"||String(process)!=="[object process]"||process.browser,UO=typeof window<"u"&&typeof window.orientation<"u",cb=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);cb&&parseFloat(cb[1]);class LO{constructor(e,r){H(this,"name");H(this,"workerThread");H(this,"isRunning",!0);H(this,"result");H(this,"_resolve",()=>{});H(this,"_reject",()=>{});this.name=e,this.workerThread=r,this.result=new Promise((n,i)=>{this._resolve=n,this._reject=i})}postMessage(e,r){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:r})}done(e){Gs(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Gs(this.isRunning),this.isRunning=!1,this._reject(e)}}class gg{terminate(){}}const mg=new Map;function jO(t){Gs(t.source&&!t.url||!t.source&&t.url);let e=mg.get(t.source||t.url);return e||(t.url&&(e=zO(t.url),mg.set(t.url,e)),t.source&&(e=xT(t.source),mg.set(t.source,e))),Gs(e),e}function zO(t){if(!t.startsWith("http"))return t;const e=$O(t);return xT(e)}function xT(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function $O(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function CT(t,e=!0,r){const n=r||new Set;if(t){if(ub(t))n.add(t);else if(ub(t.buffer))n.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const i in t)CT(t[i],e,n)}}return r===void 0?Array.from(n):[]}function ub(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const _g=()=>{};class vm{constructor(e){H(this,"name");H(this,"source");H(this,"url");H(this,"terminated",!1);H(this,"worker");H(this,"onMessage");H(this,"onError");H(this,"_loadableURL","");const{name:r,source:n,url:i}=e;Gs(n||i),this.name=r,this.source=n,this.url=i,this.onMessage=_g,this.onError=s=>console.log(s),this.worker=Fo?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Fo||typeof gg<"u"&&!Fo}destroy(){this.onMessage=_g,this.onError=_g,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,r){r=r||CT(e),this.worker.postMessage(e,r)}_getErrorFromErrorEvent(e){let r="Failed to load ";return r+=`worker ${this.name} from ${this.url}. `,e.message&&(r+=`${e.message} in `),e.lineno&&(r+=`:${e.lineno}:${e.colno}`),new Error(r)}_createBrowserWorker(){this._loadableURL=jO({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=r=>{r.data?this.onMessage(r.data):this.onError(new Error("No data received"))},e.onerror=r=>{this.onError(this._getErrorFromErrorEvent(r)),this.terminated=!0},e.onmessageerror=r=>console.error(r),e}_createNodeWorker(){let e;if(this.url){const n=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new gg(n,{eval:!1})}else if(this.source)e=new gg(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",r=>{this.onMessage(r)}),e.on("error",r=>{this.onError(r)}),e.on("exit",r=>{}),e}}class VO{constructor(e){H(this,"name","unnamed");H(this,"source");H(this,"url");H(this,"maxConcurrency",1);H(this,"maxMobileConcurrency",1);H(this,"onDebug",()=>{});H(this,"reuseWorkers",!0);H(this,"props",{});H(this,"jobQueue",[]);H(this,"idleQueue",[]);H(this,"count",0);H(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return vm.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,r=(i,s,l)=>i.done(l),n=(i,s)=>i.error(s)){const i=new Promise(s=>(this.jobQueue.push({name:e,onMessage:r,onError:n,onStart:s}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const r=this.jobQueue.shift();if(r){this.onDebug({message:"Starting job",name:r.name,workerThread:e,backlog:this.jobQueue.length});const n=new LO(r.name,e);e.onMessage=i=>r.onMessage(n,i.type,i.payload),e.onError=i=>r.onError(n,i),r.onStart(n);try{await n.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Fo||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new vm({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return UO?this.maxMobileConcurrency:this.maxConcurrency}}const WO={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Ks=class Ks{constructor(e){H(this,"props");H(this,"workerPools",new Map);this.props={...WO},this.setProps(e),this.workerPools=new Map}static isSupported(){return vm.isSupported()}static getWorkerFarm(e={}){return Ks._workerFarm=Ks._workerFarm||new Ks({}),Ks._workerFarm.setProps(e),Ks._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const r of this.workerPools.values())r.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:r,source:n,url:i}=e;let s=this.workerPools.get(r);return s||(s=new VO({name:r,source:n,url:i}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(r,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};H(Ks,"_workerFarm");let Kf=Ks;function HO(t,e={}){const r=e[t.id]||{},n=Fo?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let i=r.workerUrl;if(!i&&t.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(Fo?i=`modules/${t.module}/dist/${n}`:i=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!i){let s=t.version;s==="latest"&&(s=FO);const l=s?`@${s}`:"";i=`https://unpkg.com/@loaders.gl/${t.module}${l}/dist/${n}`}return Gs(i),i}function XO(t,e=BO){Gs(t,"no worker provided");const r=t.version;return!(!e||!r)}function YO(t,e){return!Kf.isSupported()||!Fo&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function KO(t,e,r,n,i){const s=t.id,l=HO(t,r),f=Kf.getWorkerFarm(r).getWorkerPool({name:s,url:l});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const h=await f.startJob("process-on-worker",qO.bind(null,i));return h.postMessage("process",{input:e,options:r,context:n}),await(await h.result).result}async function qO(t,e,r,n){switch(r){case"done":e.done(n);break;case"error":e.error(new Error(n.error));break;case"process":const{id:i,input:s,options:l}=n;try{const c=await t(s,l);e.postMessage("done",{id:i,result:c})}catch(c){const f=c instanceof Error?c.message:"unknown error";e.postMessage("error",{id:i,error:f})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}function ZO(t,e,r){if(r=r||t.byteLength,t.byteLength<r||e.byteLength<r)return!1;const n=new Uint8Array(t),i=new Uint8Array(e);for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}function QO(...t){return JO(t)}function JO(t){const e=t.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),r=e.reduce((s,l)=>s+l.byteLength,0),n=new Uint8Array(r);let i=0;for(const s of e)n.set(s,i),i+=s.byteLength;return n.buffer}async function GO(t){const e=[];for await(const r of t)e.push(r);return QO(...e)}function fb(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class db{constructor(e,r){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=r,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=fb(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(fb()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class eh{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,r="count"){return this._getOrCreate({name:e,type:r})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const r of Object.values(this.stats))e(r)}getTable(){const e={};return this.forEach(r=>{e[r.name]={time:r.time||0,count:r.count||0,average:r.getAverageTime()||0,hz:r.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(r=>this._getOrCreate(r))}_getOrCreate(e){const{name:r,type:n}=e;let i=this.stats[r];return i||(e instanceof db?i=e:i=new db(r,n),this.stats[r]=i),i}}let eF="";const hb={};function tF(t){for(const e in hb)if(t.startsWith(e)){const r=hb[e];t=t.replace(e,r)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${eF}${t}`),t}function rF(t){return t&&typeof t=="object"&&t.isBuffer}function AT(t){if(rF(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function PT(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function nF(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const iF=t=>typeof t=="boolean",_c=t=>typeof t=="function",Kc=t=>t!==null&&typeof t=="object",pb=t=>Kc(t)&&t.constructor==={}.constructor,sF=t=>!!t&&typeof t[Symbol.iterator]=="function",oF=t=>t&&typeof t[Symbol.asyncIterator]=="function",Yo=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,Ko=t=>typeof Blob<"u"&&t instanceof Blob,aF=t=>t&&typeof t=="object"&&t.isBuffer,lF=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Kc(t)&&_c(t.tee)&&_c(t.cancel)&&_c(t.getReader),cF=t=>Kc(t)&&_c(t.read)&&_c(t.pipe)&&iF(t.readable),MT=t=>lF(t)||cF(t);class uF extends Error{constructor(r,n){super(r);H(this,"reason");H(this,"url");H(this,"response");this.reason=n.reason,this.url=n.url,this.response=n.response}}const fF=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,dF=/^([-\w.]+\/[-\w.+]+)/;function gb(t,e){return t.toLowerCase()===e.toLowerCase()}function hF(t){const e=dF.exec(t);return e?e[1]:t}function mb(t){const e=fF.exec(t);return e?e[1]:""}const kT=/\?.*/;function pF(t){const e=t.match(kT);return e&&e[0]}function U0(t){return t.replace(kT,"")}function gF(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function th(t){return Yo(t)?t.url:Ko(t)?t.name||"":typeof t=="string"?t:""}function L0(t){if(Yo(t)){const e=t,r=e.headers.get("content-type")||"",n=U0(e.url);return hF(r)||mb(n)}return Ko(t)?t.type||"":typeof t=="string"?mb(t):""}function mF(t){return Yo(t)?t.headers["content-length"]||-1:Ko(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function IT(t){if(Yo(t))return t;const e={},r=mF(t);r>=0&&(e["content-length"]=String(r));const n=th(t),i=L0(t);i&&(e["content-type"]=i);const s=await vF(t);s&&(e["x-first-bytes"]=s),typeof t=="string"&&(t=new TextEncoder().encode(t));const l=new Response(t,{headers:e});return Object.defineProperty(l,"url",{value:n}),l}async function _F(t){if(!t.ok)throw await yF(t)}async function yF(t){const e=gF(t.url);let r=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:t.statusText,url:t.url,response:t};try{const i=t.headers.get("Content-Type");n.reason=!t.bodyUsed&&(i!=null&&i.includes("application/json"))?await t.json():await t.text()}catch{}return new uF(r,n)}async function vF(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const r=t.slice(0,5);return await new Promise(n=>{const i=new FileReader;i.onload=s=>{var l;return n((l=s==null?void 0:s.target)==null?void 0:l.result)},i.readAsDataURL(r)})}if(t instanceof ArrayBuffer){const r=t.slice(0,5);return`data:base64,${wF(r)}`}return null}function wF(t){let e="";const r=new Uint8Array(t);for(let n=0;n<r.byteLength;n++)e+=String.fromCharCode(r[n]);return btoa(e)}function bF(t){return!SF(t)&&!TF(t)}function SF(t){return t.startsWith("http:")||t.startsWith("https:")}function TF(t){return t.startsWith("data:")}async function _b(t,e){var r,n;if(typeof t=="string"){const i=tF(t);return bF(i)&&(r=globalThis.loaders)!=null&&r.fetchNode?(n=globalThis.loaders)==null?void 0:n.fetchNode(i,e):await fetch(i,e)}return await IT(t)}const yb=new Yc({id:"loaders.gl"});class EF{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class RF{constructor(){H(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const NT={fetch:null,mimeType:void 0,nothrow:!1,log:new RF,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:D0,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},xF={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function OT(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function FT(){const t=OT();return t.globalOptions=t.globalOptions||{...NT},t.globalOptions}function CF(t,e,r,n){return r=r||[],r=Array.isArray(r)?r:[r],AF(t,r),MF(e,t,n)}function AF(t,e){vb(t,null,NT,xF,e);for(const r of e){const n=t&&t[r.id]||{},i=r.options&&r.options[r.id]||{},s=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};vb(n,r.id,i,s,e)}}function vb(t,e,r,n,i){const s=e||"Top level",l=e?`${e}.`:"";for(const c in t){const f=!e&&Kc(t[c]),h=c==="baseUri"&&!e,y=c==="workerUrl"&&e;if(!(c in r)&&!h&&!y){if(c in n)yb.warn(`${s} loader option '${l}${c}' no longer supported, use '${n[c]}'`)();else if(!f){const b=PF(c,i);yb.warn(`${s} loader option '${l}${c}' not recognized. ${b}`)()}}}}function PF(t,e){const r=t.toLowerCase();let n="";for(const i of e)for(const s in i.options){if(t===s)return`Did you mean '${i.id}.${s}'?`;const l=s.toLowerCase();(r.startsWith(l)||l.startsWith(r))&&(n=n||`Did you mean '${i.id}.${s}'?`)}return n}function MF(t,e,r){const i={...t.options||{}};return kF(i,r),i.log===null&&(i.log=new EF),wb(i,FT()),wb(i,e),i}function wb(t,e){for(const r in e)if(r in e){const n=e[r];pb(n)&&pb(t[r])?t[r]={...t[r],...e[r]}:t[r]=e[r]}}function kF(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function j0(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t==null?void 0:t.extensions)):!1}function z0(t){Xf(t,"null loader"),Xf(j0(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t!=null&&t.parseTextSync||t!=null&&t.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const DT=()=>{const t=OT();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function IF(t){const e=DT();t=Array.isArray(t)?t:[t];for(const r of t){const n=z0(r);e.find(i=>n===i)||e.unshift(n)}}function NF(){return DT()}const OF=/\.([^.]+)$/;async function FF(t,e=[],r,n){if(!BT(t))return null;let i=bb(t,e,{...r,nothrow:!0},n);if(i)return i;if(Ko(t)&&(t=await t.slice(0,10).arrayBuffer(),i=bb(t,e,r,n)),!i&&!(r!=null&&r.nothrow))throw new Error(UT(t));return i}function bb(t,e=[],r,n){if(!BT(t))return null;if(e&&!Array.isArray(e))return z0(e);let i=[];e&&(i=i.concat(e)),r!=null&&r.ignoreRegisteredLoaders||i.push(...NF()),BF(i);const s=DF(t,i,r,n);if(!s&&!(r!=null&&r.nothrow))throw new Error(UT(t));return s}function DF(t,e,r,n){const i=th(t),s=L0(t),l=U0(i)||(n==null?void 0:n.url);let c=null,f="";return r!=null&&r.mimeType&&(c=yg(e,r==null?void 0:r.mimeType),f=`match forced by supplied MIME type ${r==null?void 0:r.mimeType}`),c=c||UF(e,l),f=f||(c?`matched url ${l}`:""),c=c||yg(e,s),f=f||(c?`matched MIME type ${s}`:""),c=c||jF(e,t),f=f||(c?`matched initial data ${LT(t)}`:""),r!=null&&r.fallbackMimeType&&(c=c||yg(e,r==null?void 0:r.fallbackMimeType),f=f||(c?`matched fallback MIME type ${s}`:"")),f&&NO.log(1,`selectLoader selected ${c==null?void 0:c.name}: ${f}.`),c}function BT(t){return!(t instanceof Response&&t.status===204)}function UT(t){const e=th(t),r=L0(t);let n="No valid loader found (";n+=e?`${PT(e)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const i=t?LT(t):"";return n+=i?` first bytes: "${i}"`:"first bytes: not available",n+=")",n}function BF(t){for(const e of t)z0(e)}function UF(t,e){const r=e&&OF.exec(e),n=r&&r[1];return n?LF(t,n):null}function LF(t,e){e=e.toLowerCase();for(const r of t)for(const n of r.extensions)if(n.toLowerCase()===e)return r;return null}function yg(t,e){var r;for(const n of t)if((r=n.mimeTypes)!=null&&r.some(i=>gb(e,i))||gb(e,`application/x.${n.id}`))return n;return null}function jF(t,e){if(!e)return null;for(const r of t)if(typeof e=="string"){if(zF(e,r))return r}else if(ArrayBuffer.isView(e)){if(Sb(e.buffer,e.byteOffset,r))return r}else if(e instanceof ArrayBuffer&&Sb(e,0,r))return r;return null}function zF(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(n=>t.startsWith(n))}function Sb(t,e,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some(i=>$F(t,e,r,i))}function $F(t,e,r,n){if(n instanceof ArrayBuffer)return ZO(n,t,n.byteLength);switch(typeof n){case"function":return n(t);case"string":const i=wm(t,e,n.length);return n===i;default:return!1}}function LT(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?wm(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?wm(t,0,e):""}function wm(t,e,r){if(t.byteLength<e+r)return"";const n=new DataView(t);let i="";for(let s=0;s<r;s++)i+=String.fromCharCode(n.getUint8(e+s));return i}const VF=256*1024;function*WF(t,e){const r=(e==null?void 0:e.chunkSize)||VF;let n=0;const i=new TextEncoder;for(;n<t.length;){const s=Math.min(t.length-n,r),l=t.slice(n,n+s);n+=s,yield i.encode(l)}}const HF=256*1024;function*XF(t,e={}){const{chunkSize:r=HF}=e;let n=0;for(;n<t.byteLength;){const i=Math.min(t.byteLength-n,r),s=new ArrayBuffer(i),l=new Uint8Array(t,n,i);new Uint8Array(s).set(l),n+=i,yield s}}const YF=1024*1024;async function*KF(t,e){const r=(e==null?void 0:e.chunkSize)||YF;let n=0;for(;n<t.size;){const i=n+r,s=await t.slice(n,i).arrayBuffer();n=i,yield s}}function Tb(t,e){return D0?qF(t,e):ZF(t)}async function*qF(t,e){const r=t.getReader();let n;try{for(;;){const i=n||r.read();e!=null&&e._streamReadAhead&&(n=r.read());const{done:s,value:l}=await i;if(s)return;yield AT(l)}}catch{r.releaseLock()}}async function*ZF(t,e){for await(const r of t)yield AT(r)}function QF(t,e){if(typeof t=="string")return WF(t,e);if(t instanceof ArrayBuffer)return XF(t,e);if(Ko(t))return KF(t,e);if(MT(t))return Tb(t,e);if(Yo(t))return Tb(t.body,e);throw new Error("makeIterator")}const jT="Cannot convert supplied data type";function JF(t,e,r){if(e.text&&typeof t=="string")return t;if(aF(t)&&(t=t.buffer),t instanceof ArrayBuffer){const n=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let n=t.buffer;const i=t.byteLength||t.length;return(t.byteOffset!==0||i!==n.byteLength)&&(n=n.slice(t.byteOffset,t.byteOffset+i)),n}throw new Error(jT)}async function GF(t,e,r){const n=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||n)return JF(t,e);if(Ko(t)&&(t=await IT(t)),Yo(t)){const i=t;return await _F(i),e.binary?await i.arrayBuffer():await i.text()}if(MT(t)&&(t=QF(t,r)),sF(t)||oF(t))return GO(t);throw new Error(jT)}function zT(t,e){const r=FT(),n=t||r;return typeof n.fetch=="function"?n.fetch:Kc(n.fetch)?i=>_b(i,n.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:_b}function eD(t,e,r){if(r)return r;const n={fetch:zT(e,t),...t};if(n.url){const i=U0(n.url);n.baseUrl=i,n.queryString=pF(n.url),n.filename=PT(i),n.baseUrl=nF(i)}return Array.isArray(n.loaders)||(n.loaders=null),n}function tD(t,e){if(t&&!Array.isArray(t))return t;let r;if(t&&(r=Array.isArray(t)?t:[t]),e&&e.loaders){const n=Array.isArray(e.loaders)?e.loaders:[e.loaders];r=r?[...r,...n]:n}return r&&r.length?r:void 0}async function qf(t,e,r,n){e&&!Array.isArray(e)&&!j0(e)&&(n=void 0,r=e,e=void 0),t=await t,r=r||{};const i=th(t),l=tD(e,n),c=await FF(t,l,r);return c?(r=CF(r,c,l,i),n=eD({url:i,_parse:qf,loaders:l},r,n||null),await rD(c,t,r,n)):null}async function rD(t,e,r,n){if(XO(t),r=OO(t.options,r),Yo(e)){const s=e,{ok:l,redirected:c,status:f,statusText:h,type:y,url:b}=s,w=Object.fromEntries(s.headers.entries());n.response={headers:w,ok:l,redirected:c,status:f,statusText:h,type:y,url:b}}e=await GF(e,t,r);const i=t;if(i.parseTextSync&&typeof e=="string")return i.parseTextSync(e,r,n);if(YO(t,r))return await KO(t,e,r,n,qf);if(i.parseText&&typeof e=="string")return await i.parseText(e,r,n);if(i.parse)return await i.parse(e,r,n);throw Gs(!i.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}async function bm(t,e,r,n){let i,s;!Array.isArray(e)&&!j0(e)?(i=[],s=e):(i=e,s=r);const l=zT(s);let c=t;return typeof t=="string"&&(c=await l(t)),Ko(t)&&(c=await l(t)),Array.isArray(i)?await qf(c,i,s):await qf(c,i,s)}const nD="4.3.2";var dS;const iD=(dS=globalThis.loaders)==null?void 0:dS.parseImageNode,Sm=typeof Image<"u",Tm=typeof ImageBitmap<"u",sD=!!iD,Em=D0?!0:sD;function oD(t){switch(t){case"auto":return Tm||Sm||Em;case"imagebitmap":return Tm;case"image":return Sm;case"data":return Em;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function aD(){if(Tm)return"imagebitmap";if(Sm)return"image";if(Em)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function lD(t){const e=uD(t);if(!e)throw new Error("Not an image");return e}function cD(t){switch(lD(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("getImageData");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function uD(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const fD=/^data:image\/svg\+xml/,dD=/\.svg((\?|#).*)?$/;function $0(t){return t&&(fD.test(t)||dD.test(t))}function hD(t,e){if($0(e)){let n=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(n=unescape(encodeURIComponent(n)))}catch(s){throw new Error(s.message)}return`data:image/svg+xml;base64,${btoa(n)}`}return $T(t,e)}function $T(t,e){if($0(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function VT(t,e,r){const n=hD(t,r),i=self.URL||self.webkitURL,s=typeof n!="string"&&i.createObjectURL(n);try{return await pD(s||n,e)}finally{s&&i.revokeObjectURL(s)}}async function pD(t,e){const r=new Image;return r.src=t,e.image&&e.image.decode&&r.decode?(await r.decode(),r):await new Promise((n,i)=>{try{r.onload=()=>n(r),r.onerror=s=>{const l=s instanceof Error?s.message:"error";i(new Error(l))}}catch(s){i(s)}})}const gD={};let Eb=!0;async function mD(t,e,r){let n;$0(r)?n=await VT(t,e,r):n=$T(t,r);const i=e&&e.imagebitmap;return await _D(n,i)}async function _D(t,e=null){if((yD(e)||!Eb)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(r){console.warn(r),Eb=!1}return await createImageBitmap(t)}function yD(t){for(const e in t||gD)return!1;return!0}function vD(t){return!TD(t,"ftyp",4)||!(t[8]&96)?null:wD(t)}function wD(t){switch(bD(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function bD(t,e,r){return String.fromCharCode(...t.slice(e,r))}function SD(t){return[...t].map(e=>e.charCodeAt(0))}function TD(t,e,r=0){const n=SD(e);for(let i=0;i<n.length;++i)if(n[i]!==t[i+r])return!1;return!0}const Zi=!1,yc=!0;function WT(t){const e=qc(t);return RD(e)||AD(e)||xD(e)||CD(e)||ED(e)}function ED(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),r=vD(e);return r?{mimeType:r.mimeType,width:0,height:0}:null}function RD(t){const e=qc(t);return e.byteLength>=24&&e.getUint32(0,Zi)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Zi),height:e.getUint32(20,Zi)}:null}function xD(t){const e=qc(t);return e.byteLength>=10&&e.getUint32(0,Zi)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,yc),height:e.getUint16(8,yc)}:null}function CD(t){const e=qc(t);return e.byteLength>=14&&e.getUint16(0,Zi)===16973&&e.getUint32(2,yc)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,yc),height:e.getUint32(22,yc)}:null}function AD(t){const e=qc(t);if(!(e.byteLength>=3&&e.getUint16(0,Zi)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:n,sofMarkers:i}=PD();let s=2;for(;s+9<e.byteLength;){const l=e.getUint16(s,Zi);if(i.has(l))return{mimeType:"image/jpeg",height:e.getUint16(s+5,Zi),width:e.getUint16(s+7,Zi)};if(!n.has(l))return null;s+=2,s+=e.getUint16(s,Zi)}return null}function PD(){const t=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)t.add(r);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function qc(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function MD(t,e){var i;const{mimeType:r}=WT(t)||{},n=(i=globalThis.loaders)==null?void 0:i.parseImageNode;return Xf(n),await n(t,r)}async function kD(t,e,r){e=e||{};const i=(e.image||{}).type||"auto",{url:s}=r||{},l=ID(i);let c;switch(l){case"imagebitmap":c=await mD(t,e,s);break;case"image":c=await VT(t,e,s);break;case"data":c=await MD(t);break;default:Xf(!1)}return i==="data"&&(c=cD(c)),c}function ID(t){switch(t){case"auto":case"data":return aD();default:return oD(t),t}}const ND=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],OD=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],FD={image:{type:"auto",decode:!0}},DD={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:nD,mimeTypes:OD,extensions:ND,parse:kD,tests:[t=>!!WT(new DataView(t))],options:FD},Cr=new Yc({id:"deck"});let Rm={};function BD(t){Rm=t}function Dn(t,e,r,n){Cr.level>0&&Rm[t]&&Rm[t].call(null,e,r,n)}function UD(t){const e=t[0],r=t[t.length-1];return e==="{"&&r==="}"||e==="["&&r==="]"}const LD={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:UD,parseTextSync:JSON.parse};function jD(){const t="9.0.38",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(Cr.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:Cr,_registerLoggers:BD},IF([LD,[DD,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const zD=jD();function Mo(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const vg={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function $D(t){const e={};for(const[r,n]of Object.entries(t))e[r]=WD(n);return e}function VD(t,e,r){const n={};for(const[i,s]of Object.entries(e))t&&i in t&&!s.private?(s.validate&&Mo(s.validate(t[i],s),`${r}: invalid ${i}`),n[i]=t[i]):n[i]=s.value;return n}function WD(t){let e=Rb(t);if(e!=="object")return{value:t,...vg[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...vg[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=Rb(t.value),{...t,...vg[e],type:e}):{type:"object",value:null};throw new Error("props")}function Rb(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const HD=`#ifdef MODULE_LOGDEPTH
logdepth_adjustPosition(gl_Position);
#endif
`,XD=`#ifdef MODULE_MATERIAL
gl_FragColor = material_filterColor(gl_FragColor);
#endif
#ifdef MODULE_LIGHTING
gl_FragColor = lighting_filterColor(gl_FragColor);
#endif
#ifdef MODULE_FOG
gl_FragColor = fog_filterColor(gl_FragColor);
#endif
#ifdef MODULE_PICKING
gl_FragColor = picking_filterHighlightColor(gl_FragColor);
gl_FragColor = picking_filterPickingColor(gl_FragColor);
#endif
#ifdef MODULE_LOGDEPTH
logdepth_setFragDepth();
#endif
`,YD={vertex:HD,fragment:XD},xb=/void\s+main\s*\([^)]*\)\s*\{\n?/,Cb=/}\n?[^{}]*$/,wg=[],Of="__LUMA_INJECT_DECLARATIONS__";function KD(t){const e={vertex:{},fragment:{}};for(const r in t){let n=t[r];const i=qD(r);typeof n=="string"&&(n={order:0,injection:n}),e[i][r]=n}return e}function qD(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Zf(t,e,r,n=!1){const i=e==="vertex";for(const s in r){const l=r[s];l.sort((f,h)=>f.order-h.order),wg.length=l.length;for(let f=0,h=l.length;f<h;++f)wg[f]=l[f].injection;const c=`${wg.join(`
`)}
`;switch(s){case"vs:#decl":i&&(t=t.replace(Of,c));break;case"vs:#main-start":i&&(t=t.replace(xb,f=>f+c));break;case"vs:#main-end":i&&(t=t.replace(Cb,f=>c+f));break;case"fs:#decl":i||(t=t.replace(Of,c));break;case"fs:#main-start":i||(t=t.replace(xb,f=>f+c));break;case"fs:#main-end":i||(t=t.replace(Cb,f=>c+f));break;default:t=t.replace(s,f=>f+c)}}return t=t.replace(Of,""),n&&(t=t.replace(/\}\s*$/,s=>s+YD[e])),t}let ZD=1;class ko{constructor(e){H(this,"name");H(this,"vs");H(this,"fs");H(this,"getModuleUniforms");H(this,"dependencies");H(this,"deprecations");H(this,"defines");H(this,"injections");H(this,"uniforms",{});H(this,"uniformTypes",{});const{name:r,vs:n,fs:i,dependencies:s=[],uniformTypes:l={},uniformPropTypes:c={},getUniforms:f,deprecations:h=[],defines:y={},inject:b={}}=e;Mo(typeof r=="string"),this.name=r,this.vs=n,this.fs=i,this.getModuleUniforms=f,this.dependencies=ko.instantiateModules(s),this.deprecations=this._parseDeprecationDefinitions(h),this.defines=y,this.injections=KD(b),this.uniformTypes=l,c&&(this.uniforms=$D(c))}static instantiateModules(e){return e.map(r=>{if(r instanceof ko)return r;Mo(typeof r!="string",`Shader module use by name is deprecated. Import shader module '${JSON.stringify(r)}' and use it directly.`),r.name||(console.warn("shader module has no name"),r.name=`shader-module-${ZD++}`);const n=new ko(r);return n.dependencies=ko.instantiateModules(r.dependencies||[]),n})}getModuleSource(e){let r;switch(e){case"vertex":r=this.vs||"";break;case"fragment":r=this.fs||"";break;default:Mo(!1)}const n=this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");return`// ----- MODULE ${this.name} ---------------

#define MODULE_${n}
${r}

`}getUniforms(e,r){return this.getModuleUniforms?this.getModuleUniforms(e,r):VD(e,this.uniforms,this.name)}getDefines(){return this.defines}checkDeprecations(e,r){this.deprecations.forEach(n=>{var i;(i=n.regex)!=null&&i.test(e)&&(n.deprecated?r.deprecated(n.old,n.new)():r.removed(n.old,n.new)())})}_parseDeprecationDefinitions(e){return e.forEach(r=>{switch(r.type){case"function":r.regex=new RegExp(`\\b${r.old}\\(`);break;default:r.regex=new RegExp(`${r.type} ${r.old};`)}}),e}_defaultGetUniforms(e={}){const r={},n=this.uniforms;for(const i in n){const s=n[i];i in e&&!s.private?(s.validate&&Mo(s.validate(e[i],s),`${this.name}: invalid ${i}`),r[i]=e[i]):r[i]=s.value}return r}}function Ab(t){if(t.source&&t.platformInfo.type==="webgpu")return{...t,vs:void 0,fs:void 0};if(!t.vs)throw new Error("no vertex shader");const e=Pb(t.platformInfo,t.vs);let r;return t.fs&&(r=Pb(t.platformInfo,t.fs)),{...t,vs:e,fs:r}}function Pb(t,e){if(typeof e=="string")return e;switch(t.type){case"webgpu":if(e!=null&&e.wgsl)return e.wgsl;throw new Error("WebGPU does not support GLSL shaders");default:if(e!=null&&e.glsl)return e.glsl;throw new Error("WebGL does not support WGSL shaders")}}function rh(t){const e=ko.instantiateModules(t);return QD(e)}function QD(t){const e={},r={};return HT({modules:t,level:0,moduleMap:e,moduleDepth:r}),Object.keys(r).sort((n,i)=>r[i]-r[n]).map(n=>e[n])}function HT(t){const{modules:e,level:r,moduleMap:n,moduleDepth:i}=t;if(r>=5)throw new Error("Possible loop in shader dependency graph");for(const s of e)n[s.name]=s,(i[s.name]===void 0||i[s.name]<r)&&(i[s.name]=r);for(const s of e)s.dependencies&&HT({modules:s.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}function JD(t){switch(t==null?void 0:t.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function GD(t,e){var n;if(Number(((n=t.match(/^#version[ \t]+(\d+)/m))==null?void 0:n[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=Mb(t,eB),t;case"fragment":return t=Mb(t,tB),t;default:throw new Error(e)}}const XT=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],eB=[...XT,[xm("attribute"),"in $1"],[xm("varying"),"out $1"]],tB=[...XT,[xm("varying"),"in $1"]];function Mb(t,e){for(const[r,n]of e)t=t.replace(r,n);return t}function xm(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function YT(t,e){let r="";for(const n in t){const i=t[n];if(r+=`void ${i.signature} {
`,i.header&&(r+=`  ${i.header}`),e[n]){const s=e[n];s.sort((l,c)=>l.order-c.order);for(const l of s)r+=`  ${l.injection}
`}i.footer&&(r+=`  ${i.footer}`),r+=`}
`}return r}function KT(t){const e={vertex:{},fragment:{}};for(const r of t){let n,i;typeof r!="string"?(n=r,i=n.hook):(n={},i=r),i=i.trim();const[s,l]=i.split(":"),c=i.replace(/\(.+/,""),f=Object.assign(n,{signature:l});switch(s){case"vs":e.vertex[c]=f;break;case"fs":e.fragment[c]=f;break;default:throw new Error(s)}}return e}function rB(t,e){return{name:nB(t,e),language:"glsl",version:iB(t)}}function nB(t,e="unnamed"){const n=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return n?n[1]:e}function iB(t){let e=100;const r=t.match(/[^\s]+/g);if(r&&r.length>=2&&r[0]==="#version"){const n=parseInt(r[1],10);Number.isFinite(n)&&(e=n)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const qT=`

${Of}
`,sB=`precision highp float;
`;function oB(t){const e=rh(t.modules||[]);return{source:Cm(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:V0(e)}}function aB(t){const e=rh(t.modules||[]);return{vs:Cm(t.platformInfo,{...t,source:t.vs,stage:"vertex",modules:e}),fs:Cm(t.platformInfo,{...t,source:t.fs,stage:"fragment",modules:e}),getUniforms:V0(e)}}function lB(t){const{vs:e,fs:r}=t,n=rh(t.modules||[]);return{vs:kb(t.platformInfo,{...t,source:e,stage:"vertex",modules:n}),fs:kb(t.platformInfo,{...t,source:r,stage:"fragment",modules:n}),getUniforms:V0(n)}}function Cm(t,e){const{source:r,stage:n,modules:i,hookFunctions:s=[],inject:l={},log:c}=e;Mo(typeof r=="string","shader source must be a string");const f=r;let h="";const y=KT(s),b={},w={},x={};for(const E in l){const k=typeof l[E]=="string"?{injection:l[E],order:0}:l[E],O=/^(v|f)s:(#)?([\w-]+)$/.exec(E);if(O){const N=O[2],M=O[3];N?M==="decl"?w[E]=[k]:x[E]=[k]:b[E]=[k]}else x[E]=[k]}const A=t.type!=="webgpu"?i:[];for(const E of A){c&&E.checkDeprecations(f,c);const k=E.getModuleSource(n,"wgsl");h+=k;const O=E.injections[n];for(const N in O){const M=/^(v|f)s:#([\w-]+)$/.exec(N);if(M){const P=M[2]==="decl"?w:x;P[N]=P[N]||[],P[N].push(O[N])}else b[N]=b[N]||[],b[N].push(O[N])}}return h+=qT,h=Zf(h,n,w),h+=YT(y[n],b),h+=f,h=Zf(h,n,x),h}function kb(t,e){const{id:r,source:n,stage:i,language:s="glsl",modules:l,defines:c={},hookFunctions:f=[],inject:h={},prologue:y=!0,log:b}=e;Mo(typeof n=="string","shader source must be a string");const w=s==="glsl"?rB(n).version:-1,x=t.shaderLanguageVersion,A=w===100?"#version 100":"#version 300 es",k=n.split(`
`).slice(1).join(`
`),O={};l.forEach(j=>{Object.assign(O,j.getDefines())}),Object.assign(O,c);let N="";switch(s){case"wgsl":break;case"glsl":N=y?`${A}

// ----- PROLOGUE -------------------------
${cB({id:r,source:n,stage:i})}
${`#define SHADER_TYPE_${i.toUpperCase()}`}
${JD(t)}
${i==="fragment"?sB:""}

// ----- APPLICATION DEFINES -------------------------

${uB(O)}

`:`${A}
`;break}const M=KT(f),R={},P={},I={};for(const j in h){const te=typeof h[j]=="string"?{injection:h[j],order:0}:h[j],oe=/^(v|f)s:(#)?([\w-]+)$/.exec(j);if(oe){const C=oe[2],F=oe[3];C?F==="decl"?P[j]=[te]:I[j]=[te]:R[j]=[te]}else I[j]=[te]}for(const j of l){b&&j.checkDeprecations(k,b);const te=j.getModuleSource(i);N+=te;const oe=j.injections[i];for(const C in oe){const F=/^(v|f)s:#([\w-]+)$/.exec(C);if(F){const V=F[2]==="decl"?P:I;V[C]=V[C]||[],V[C].push(oe[C])}else R[C]=R[C]||[],R[C].push(oe[C])}}return N+="// ----- MAIN SHADER SOURCE -------------------------",N+=qT,N=Zf(N,i,P),N+=YT(M[i],R),N+=k,N=Zf(N,i,I),s==="glsl"&&w!==x&&(N=GD(N,i)),N.trim()}function V0(t){return function(r){const n={};for(const i of t){const s=i.getUniforms(r,n);Object.assign(n,s)}return n}}function cB(t){const{id:e,source:r,stage:n}=t;return e&&r.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${e}_${n}

`:""}function uB(t={}){let e="";for(const r in t){const n=t[r];(n||Number.isFinite(n))&&(e+=`#define ${r.toUpperCase()} ${t[r]}
`)}return e}const Co=class Co{constructor(){H(this,"_hookFunctions",[]);H(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return Co.defaultShaderAssembler=Co.defaultShaderAssembler||new Co,Co.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(r=>r.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const r=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(n=>n.name!==r)}addShaderHook(e,r){r&&(e=Object.assign(r,{hook:e})),this._hookFunctions.push(e)}assembleShader(e){const r=this._getModuleList(e.modules),n=this._hookFunctions,i=Ab(e);return{...oB({platformInfo:e.platformInfo,...i,modules:r,hookFunctions:n}),modules:r}}assembleShaderPair(e){const r=Ab(e),n=this._getModuleList(e.modules),i=this._hookFunctions,{platformInfo:s}=e;return{...e.platformInfo.shaderLanguage==="wgsl"?aB({platformInfo:s,...r,modules:n,hookFunctions:i}):lB({platformInfo:s,...r,modules:n,hookFunctions:i}),modules:n}}_getModuleList(e=[]){const r=new Array(this._defaultModules.length+e.length),n={};let i=0;for(let s=0,l=this._defaultModules.length;s<l;++s){const c=this._defaultModules[s],f=c.name;r[i++]=c,n[f]=!0}for(let s=0,l=e.length;s<l;++s){const c=e[s],f=c.name;n[f]||(r[i++]=c,n[f]=!0)}return r.length=i,ko.instantiateModules(r)}};H(Co,"defaultShaderAssembler");let Qf=Co;const fB=`out vec4 transform_output;
void main() {
transform_output = vec4(0);
}`,dB=`#version 300 es
${fB}`;function hB(t){const{input:e,inputChannels:r,output:n}={};if(!e)return dB;if(!r)throw new Error("inputChannels");const i=pB(r),s=gB(e,r);return`#version 300 es
in ${i} ${e};
out vec4 ${n};
void main() {
  ${n} = ${s};
}`}function pB(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function gB(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}const Ze=new Yc({id:"luma.gl"});class mB{constructor(){H(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new eh({id:e})),this.stats.get(e)}}const W0=new mB;function _B(){const t="9.0.28",e="set luma.log.level=1 (or higher) to trace rendering";if(globalThis.luma&&globalThis.luma.VERSION!==t)throw new Error(`luma.gl - multiple VERSIONs detected: ${globalThis.luma.VERSION} vs ${t}`);return globalThis.luma||(no()&&Ze.log(1,`${t} - ${e}`)(),globalThis.luma=globalThis.luma||{VERSION:t,version:t,log:Ze,stats:W0}),t}const yB=_B();function vB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)?t:null}function Ic(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number"?t:null:vB(t)}const bg={};function qo(t="id"){bg[t]=bg[t]||1;const e=bg[t]++;return`${t}-${e}`}function Jf(t){let e=!0;for(const r in t){e=!1;break}return e}var Qg;let Sr=(Qg=class{constructor(e,r,n){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"_device");H(this,"destroyed",!1);H(this,"allocatedBytes",0);H(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=wB(r,n);const i=this.props.id!=="undefined"?this.props.id:qo(this[Symbol.toStringTag]);this.props.id=i,this.id=i,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}(${this.id})`}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get(`${r}s Active`).decrementCount()}trackAllocatedMemory(e,r=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").addCount(e),n.get(`${r} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").subtractCount(this.allocatedBytes),r.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${r}s Created`).incrementCount(),e.get(`${r}s Active`).incrementCount()}},H(Qg,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),Qg);function wB(t,e){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}const wn=class wn extends Sr{constructor(r,n){const i={...n};(n.usage||0)&wn.INDEX&&!n.indexType&&(n.data instanceof Uint32Array?i.indexType="uint32":n.data instanceof Uint16Array&&(i.indexType="uint16"));super(r,i,wn.defaultProps);H(this,"usage");H(this,"indexType");H(this,"updateTimestamp");H(this,"debugData",new ArrayBuffer(0));this.usage=n.usage||0,this.indexType=i.indexType,this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}readSyncWebGL(r,n){throw new Error("not implemented")}_setDebugData(r,n,i){const s=ArrayBuffer.isView(r)?r.buffer:r,l=Math.min(r?r.byteLength:i,wn.DEBUG_DATA_MAX_LENGTH);r===null?this.debugData=new ArrayBuffer(l):n===0&&i===r.byteLength?this.debugData=s.slice(0,l):this.debugData=s.slice(n,n+l)}};H(wn,"defaultProps",{...Sr.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1}),H(wn,"MAP_READ",1),H(wn,"MAP_WRITE",2),H(wn,"COPY_SRC",4),H(wn,"COPY_DST",8),H(wn,"INDEX",16),H(wn,"VERTEX",32),H(wn,"UNIFORM",64),H(wn,"STORAGE",128),H(wn,"INDIRECT",256),H(wn,"QUERY_RESOLVE",512),H(wn,"DEBUG_DATA_MAX_LENGTH",32);let Lr=wn;function ZT(t){const e=Ib[t],r=bB(e),n=t.includes("norm"),i=!n&&!t.startsWith("float"),s=t.startsWith("s");return{dataType:Ib[t],byteLength:r,integer:i,signed:s,normalized:n}}function bB(t){return SB[t]}const Ib={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},SB={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4},TB=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],EB=/^(rg?b?a?)([0-9]*)([a-z]*)(-srgb)?(-webgl|-unsized)?$/;function RB(t){return TB.some(e=>t.startsWith(e))}function QT(t){const e=EB.exec(t);if(e){const[,r,n,i,s,l]=e;if(r){const c=`${i}${n}`,f=ZT(c);return{format:r,components:r.length,srgb:s==="-srgb",unsized:l==="-unsized",webgl:l==="-webgl",...f}}}return CB(t)}const xB={"rgba4unorm-webgl":{format:"rgba",bpp:2},"rgb565unorm-webgl":{format:"rgb",bpp:2},"rgb5a1unorm-webgl":{format:"rgba",bbp:2},rgb9e5ufloat:{format:"rgb",bbp:4},rg11b10ufloat:{format:"rgb",bbp:4},rgb10a2unorm:{format:"rgba",bbp:4},"rgb10a2uint-webgl":{format:"rgba",bbp:4},stencil8:{components:1,bpp:1,a:"stencil"},depth16unorm:{components:1,bpp:2,a:"depth"},depth24plus:{components:1,bpp:3,a:"depth"},depth32float:{components:1,bpp:4,a:"depth"},"depth24plus-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth24unorm-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth32float-stencil8":{components:2,bpp:4,a:"depth-stencil"}};function CB(t){var r;const e=xB[t];if(!e)throw new Error(`Unknown format ${t}`);return{format:e.format||"",components:e.components||((r=e.format)==null?void 0:r.length)||1,byteLength:e.bpp||1,srgb:!1,unsized:!1}}class AB{}class PB{constructor(e=[],r){H(this,"features");H(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=r||{}}*[Symbol.iterator](){yield*this.features}has(e){return!this.disabledFeatures[e]&&this.features.has(e)}}const Sc=class Sc{constructor(e){H(this,"id");H(this,"props");H(this,"userData",{});H(this,"statsManager",W0);H(this,"_lumaData",{});H(this,"timestamp",0);this.props={...Sc.defaultProps,...e},this.id=this.props.id||qo(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}isTextureFormatCompressed(e){return RB(e)}loseDevice(){return!1}getCanvasContext(){if(!this.canvasContext)throw new Error("Device has no CanvasContext");return this.canvasContext}createTexture(e){return(e instanceof Promise||typeof e=="string")&&(e={data:e}),this._createTexture(e)}createCommandEncoder(e={}){throw new Error("not implemented")}readPixelsToArrayWebGL(e,r){throw new Error("not implemented")}readPixelsToBufferWebGL(e,r){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,r){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError(e){this.props.onError(e)}_getBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const r={...e};return(e.usage||0)&Lr.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?r.indexType="uint32":e.data instanceof Uint16Array?r.indexType="uint16":Ze.warn("indices buffer content must be of integer type")()),r}};H(Sc,"defaultProps",{id:null,canvas:null,container:null,manageState:!0,width:800,height:600,requestMaxLimits:!0,debug:!!Ze.get("debug"),spector:!!(Ze.get("spector")||Ze.get("spectorjs")),break:[],initalizeFeatures:!0,disabledFeatures:{"compilation-status-async-webgl":!0},gl:null,onError:e=>Ze.error(e.message)}),H(Sc,"VERSION",yB);let Za=Sc;function Ar(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}const Zl=new Map,za=class za{static registerDevices(e){for(const r of e)Ar(r.type&&r.isSupported&&r.create),Zl.set(r.type,r)}static getAvailableDevices(){return Array.from(Zl).map(e=>e.type)}static getSupportedDevices(){return Array.from(Zl).filter(e=>e.isSupported()).map(e=>e.type)}static setDefaultDeviceProps(e){Object.assign(Za.defaultProps,e)}static async attachDevice(e){const r=Nb(e.devices)||Zl;if(e.handle instanceof WebGL2RenderingContext){const n=r.get("webgl");if(n)return await n.attach(e.handle)}if(e.handle===null){const n=r.get("unknown");if(n)return await n.attach(null)}throw new Error("Failed to attach device. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static async createDevice(e={}){var s,l;e={...za.defaultProps,...e},e.gl&&(e.type="webgl");const r=Nb(e.devices)||Zl;let n,i;switch(e.type){case"webgpu":if(n=r.get("webgpu"),n)return await n.create(e);break;case"webgl":if(i=r.get("webgl"),i)return await i.create(e);break;case"unknown":const c=r.get("unknown");if(c)return await c.create(e);break;case"best-available":if(n=r.get("webgpu"),(s=n==null?void 0:n.isSupported)!=null&&s.call(n))return await n.create(e);if(i=r.get("webgl"),(l=i==null?void 0:i.isSupported)!=null&&l.call(i))return await i.create(e);break}throw new Error("No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static enforceWebGL2(e=!0){const r=HTMLCanvasElement.prototype;if(!e&&r.originalGetContext){r.getContext=r.originalGetContext,r.originalGetContext=void 0;return}r.originalGetContext=r.getContext,r.getContext=function(n,i){return n==="webgl"||n==="experimental-webgl"?this.originalGetContext("webgl2",i):this.originalGetContext(n,i)}}};H(za,"defaultProps",{...Za.defaultProps,type:"best-available",devices:void 0}),H(za,"stats",W0),H(za,"log",Ze);let Wa=za;function Nb(t){if(!t||(t==null?void 0:t.length)===0)return null;const e=new Map;for(const r of t)e.set(r.type,r);return e}const MB=no()&&typeof document<"u",nh=()=>MB&&document.readyState==="complete",kB={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,colorSpace:"srgb",alphaMode:"opaque"};class H0{constructor(e){H(this,"id");H(this,"props");H(this,"canvas");H(this,"htmlCanvas");H(this,"offscreenCanvas");H(this,"type");H(this,"width",1);H(this,"height",1);H(this,"resizeObserver");H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});if(this.props={...kB,...e},e=this.props,!no()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(e.canvas)typeof e.canvas=="string"?this.canvas=OB(e.canvas):this.canvas=e.canvas;else{const r=FB(e),n=NB((e==null?void 0:e.container)||null);n.insertBefore(r,n.firstChild),this.canvas=r,e!=null&&e.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&e.autoResize&&(this.resizeObserver=new ResizeObserver(r=>{for(const n of r)n.target===this.canvas&&this.update()}),this.resizeObserver.observe(this.canvas))}static get isPageLoaded(){return nh()}getDevicePixelRatio(e){return typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas||(e=e===void 0?this.props.useDevicePixels:e,!e||e<=0)?1:e===!0?typeof window<"u"&&window.devicePixelRatio||1:e}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const e=this.getDevicePixelRatio(),r=this.canvas;return r.parentElement?[r.clientWidth*e,r.clientHeight*e]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[e,r]=this.getPixelSize();return e/r}cssToDeviceRatio(){var e;try{const[r]=this.getDrawingBufferSize(),n=this._canvasSizeInfo.clientWidth||((e=this.htmlCanvas)==null?void 0:e.clientWidth);return n?r/n:1}catch{return 1}}cssToDevicePixels(e,r=!0){const n=this.cssToDeviceRatio(),[i,s]=this.getDrawingBufferSize();return DB(e,n,i,s,r)}setDevicePixelRatio(e,r={}){if(!this.htmlCanvas)return;let n="width"in r?r.width:this.htmlCanvas.clientWidth,i="height"in r?r.height:this.htmlCanvas.clientHeight;(!n||!i)&&(Ze.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,n=this.htmlCanvas.width||1,i=this.htmlCanvas.height||1);const s=this._canvasSizeInfo;if(s.clientWidth!==n||s.clientHeight!==i||s.devicePixelRatio!==e){let l=e;const c=Math.floor(n*l),f=Math.floor(i*l);this.htmlCanvas.width=c,this.htmlCanvas.height=f;const[h,y]=this.getDrawingBufferSize();(h!==c||y!==f)&&(l=Math.min(h/n,y/i),this.htmlCanvas.width=Math.floor(n*l),this.htmlCanvas.height=Math.floor(i*l),Ze.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=n,this._canvasSizeInfo.clientHeight=i,this._canvasSizeInfo.devicePixelRatio=e}}getDrawingBufferSize(){const e=this.device.gl;if(!e)throw new Error("canvas size");return[e.drawingBufferWidth,e.drawingBufferHeight]}_setAutoCreatedCanvasId(e){var r;((r=this.htmlCanvas)==null?void 0:r.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}}H(H0,"pageLoaded",IB());function IB(){return nh()||typeof window>"u"?Promise.resolve():new Promise(t=>{window.addEventListener("load",()=>t())})}function NB(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e&&!nh())throw new Error(`Accessing '${t}' before page was loaded`);if(!e)throw new Error(`${t} is not an HTML element`);return e}else if(t)return t;return document.body}function OB(t){const e=document.getElementById(t);if(!e&&!nh())throw new Error(`Accessing '${t}' before page was loaded`);if(!(e instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return e}function FB(t){const{width:e,height:r}=t,n=document.createElement("canvas");return n.id="lumagl-auto-created-canvas",n.width=e||1,n.height=r||1,n.style.width=Number.isFinite(e)?`${e}px`:"100%",n.style.height=Number.isFinite(r)?`${r}px`:"100%",n}function DB(t,e,r,n,i){const s=t,l=Ob(s[0],e,r);let c=Fb(s[1],e,n,i),f=Ob(s[0]+1,e,r);const h=f===r-1?f:f-1;f=Fb(s[1]+1,e,n,i);let y;return i?(f=f===0?f:f+1,y=c,c=f):y=f===n-1?f:f-1,{x:l,y:c,width:Math.max(h-l+1,1),height:Math.max(y-c+1,1)}}function Ob(t,e,r){return Math.min(Math.round(t*e),r-1)}function Fb(t,e,r,n){return n?Math.max(0,r-1-Math.round(t*e)):Math.min(Math.round(t*e),r-1)}const _s=class _s extends Sr{constructor(r,n,i=_s.defaultProps){super(r,n,i);H(this,"dimension");H(this,"format");H(this,"width");H(this,"height");H(this,"depth");H(this,"updateTimestamp");this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}};H(_s,"defaultProps",{...Sr.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!0,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,type:void 0,sampler:{},view:void 0}),H(_s,"COPY_SRC",1),H(_s,"COPY_DST",2),H(_s,"TEXTURE_BINDING",4),H(_s,"STORAGE_BINDING",8),H(_s,"RENDER_ATTACHMENT",16);let _i=_s;const md=class md extends Sr{get[Symbol.toStringTag](){return"TextureView"}constructor(e,r){super(e,r,md.defaultProps)}};H(md,"defaultProps",{...Sr.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let Gf=md;function BB(t,e,r){let n="";const i=e.split(/\r?\n/),s=t.slice().sort((l,c)=>l.lineNum-c.lineNum);switch((r==null?void 0:r.showSourceCode)||"no"){case"all":let l=0;for(let c=1;c<=i.length;c++)for(n+=JT(i[c-1],c,r);s.length>l&&s[l].lineNum===c;){const f=s[l++];n+=Db(f,i,f.lineNum,{...r,inlineSource:!1})}return n;case"issues":case"no":for(const c of t)n+=Db(c,i,c.lineNum,{inlineSource:(r==null?void 0:r.showSourceCode)!=="no"});return n}}function Db(t,e,r,n){if(n!=null&&n.inlineSource){const i=UB(e,r),s=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${i}${s}${t.type.toUpperCase()}: ${t.message}

`}return n!=null&&n.html?`<div class='luma-compiler-log-error' style="color:red;"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function UB(t,e,r){let n="";for(let i=e-2;i<=e;i++){const s=t[i-1];s!==void 0&&(n+=JT(s,e,r))}return n}function JT(t,e,r){const n=r!=null&&r.html?jB(t):t;return`${LB(String(e),4)}: ${n}${r!=null&&r.html?"<br/>":`
`}`}function LB(t,e){let r="";for(let n=t.length;n<e;++n)r+=" ";return r+t}function jB(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function GT(t,e){return{name:zB(t,e),language:"glsl",version:$B(t)}}function zB(t,e="unnamed"){const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return n?n[1]:e}function $B(t){let e=100;const r=t.match(/[^\s]+/g);if(r&&r.length>=2&&r[0]==="#version"){const n=parseInt(r[1],10);Number.isFinite(n)&&(e=n)}return e}const _d=class _d extends Sr{constructor(r,n){super(r,{id:VB(n),...n},_d.defaultProps);H(this,"stage");H(this,"source");H(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(r=this.props.debug){switch(r){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const n=await this.getCompilationInfo();this.props.debug==="warnings"&&(n==null?void 0:n.length)===0||this._displayShaderLog(n)}_displayShaderLog(r){var h;if(typeof document>"u"||!(document!=null&&document.createElement))return;const n=GT(this.source).name,i=`${this.stage} ${n}`;let s=BB(r,this.source,{showSourceCode:"all",html:!0});const l=this.getTranslatedSource();l&&(s+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${l}</pre></code>`);const c=document.createElement("Button");c.innerHTML=`
<h1>Shader Compilation Error in ${i}</h1><br /><br />
<code style="user-select:text;"><pre>
${s}
</pre></code>`,c.style.top="10px",c.style.left="10px",c.style.position="absolute",c.style.zIndex="9999",c.style.width="100%",c.style.textAlign="left",document.body.appendChild(c);const f=document.getElementsByClassName("luma-compiler-log-error");(h=f[0])!=null&&h.scrollIntoView&&f[0].scrollIntoView(),c.onclick=()=>{const y=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(y)}}};H(_d,"defaultProps",{...Sr.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debug:"errors"});let ed=_d;function VB(t){return GT(t.source).name||t.id||qo(`unnamed ${t.stage}-shader`)}const yd=class yd extends Sr{get[Symbol.toStringTag](){return"Sampler"}constructor(e,r){super(e,r,yd.defaultProps)}};H(yd,"defaultProps",{...Sr.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let td=yd;const vd=class vd extends Sr{constructor(r,n={}){super(r,n,vd.defaultProps);H(this,"width");H(this,"height");H(this,"colorAttachments",[]);H(this,"depthStencilAttachment",null);this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}resize(r){let n=!r;if(r){const[i,s]=Array.isArray(r)?r:[r.width,r.height];n=n||s!==this.height||i!==this.width,this.width=i,this.height=s}n&&(Ze.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map(n=>{if(typeof n=="string"){const i=this.createColorTexture(n);return this.attachResource(i),i.view}return n instanceof _i?n.view:n});const r=this.props.depthStencilAttachment;if(r)if(typeof r=="string"){const n=this.createDepthStencilTexture(r);this.attachResource(n),this.depthStencilAttachment=n.view}else r instanceof _i?this.depthStencilAttachment=r.view:this.depthStencilAttachment=r}createColorTexture(r){return this.device.createTexture({id:"color-attachment",usage:_i.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height})}createDepthStencilTexture(r){return this.device.createTexture({id:"depth-stencil-attachment",usage:_i.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height})}resizeAttachments(r,n){for(let i=0;i<this.colorAttachments.length;++i)if(this.colorAttachments[i]){const s=this.device._createTexture({...this.colorAttachments[i].props,width:r,height:n});this.destroyAttachedResource(this.colorAttachments[i]),this.colorAttachments[i]=s.view,this.attachResource(s.view)}if(this.depthStencilAttachment){const i=this.device._createTexture({...this.depthStencilAttachment.props,width:r,height:n});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=i.view,this.attachResource(i)}}};H(vd,"defaultProps",{...Sr.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let rd=vd;const wd=class wd extends Sr{constructor(r,n){super(r,n,wd.defaultProps);H(this,"shaderLayout");H(this,"bufferLayout");H(this,"linkStatus","pending");H(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}setUniformsWebGL(r){throw new Error("Use uniform blocks")}};H(wd,"defaultProps",{...Sr.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}});let Qa=wd;const bd=class bd extends Sr{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,r){super(e,r,bd.defaultProps)}};H(bd,"defaultProps",{...Sr.defaultProps,framebuffer:null,parameters:void 0,clearColor:[0,0,0,0],clearDepth:1,clearStencil:0,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let Am=bd;const Sd=class Sd extends Sr{constructor(r,n){super(r,n,Sd.defaultProps);H(this,"hash","")}get[Symbol.toStringTag](){return"ComputePipeline"}};H(Sd,"defaultProps",{...Sr.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let nd=Sd;const Td=class Td extends Sr{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,r){super(e,r,Td.defaultProps)}};H(Td,"defaultProps",{...Sr.defaultProps,measureExecutionTime:void 0});let Pm=Td;const Ed=class Ed extends Sr{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,r){super(e,r,Ed.defaultProps)}};H(Ed,"defaultProps",{...Sr.defaultProps});let Mm=Ed;function WB(t){const[e,r]=XB[t],n=e==="i32"||e==="u32",i=e!=="u32",s=YB[e]*r,l=HB(e,r);return{dataType:e,components:r,defaultVertexFormat:l,byteLength:s,integer:n,signed:i}}function HB(t,e){let r;switch(t){case"f32":r="float32";break;case"i32":r="sint32";break;case"u32":r="uint32";break;case"f16":return e<=2?"float16x2":"float16x4"}return e===1?r:`${r}x${e}`}const XB={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},YB={f32:4,f16:2,i32:4,u32:4};function eE(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[r,n]=t.split("x"),i=r,s=n?parseInt(n):1,l=ZT(i),c={type:i,components:s,byteLength:l.byteLength*s,integer:l.integer,signed:l.signed,normalized:l.normalized};return e&&(c.webglOnly=!0),c}function tE(t,e){const r={};for(const n of t.attributes)r[n.name]=qB(t,e,n.name);return r}function KB(t,e,r=16){const n=tE(t,e),i=new Array(r).fill(null);for(const s of Object.values(n))i[s.location]=s;return i}function qB(t,e,r){const n=ZB(t,r),i=QB(e,r);if(!n)return null;const s=WB(n.type),l=(i==null?void 0:i.vertexFormat)||s.defaultVertexFormat,c=eE(l);return{attributeName:(i==null?void 0:i.attributeName)||n.name,bufferName:(i==null?void 0:i.bufferName)||n.name,location:n.location,shaderType:n.type,shaderDataType:s.dataType,shaderComponents:s.components,vertexFormat:l,bufferDataType:c.type,bufferComponents:c.components,normalized:c.normalized,integer:s.integer,stepMode:(i==null?void 0:i.stepMode)||n.stepMode,byteOffset:(i==null?void 0:i.byteOffset)||0,byteStride:(i==null?void 0:i.byteStride)||0}}function ZB(t,e){const r=t.attributes.find(n=>n.name===e);return r||Ze.warn(`shader layout attribute "${e}" not present in shader`),r||null}function QB(t,e){JB(t);let r=GB(t,e);return r||(r=e4(t,e),r)?r:(Ze.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function JB(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&Ze.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function GB(t,e){for(const r of t)if(r.format&&r.name===e)return{attributeName:r.name,bufferName:e,stepMode:r.stepMode,vertexFormat:r.format,byteOffset:0,byteStride:r.byteStride||0};return null}function e4(t,e){var r;for(const n of t){let i=n.byteStride;if(typeof n.byteStride!="number")for(const l of n.attributes||[]){const c=eE(l.format);i+=c.byteLength}const s=(r=n.attributes)==null?void 0:r.find(l=>l.attribute===e);if(s)return{attributeName:s.attribute,bufferName:n.name,stepMode:n.stepMode,vertexFormat:s.format,byteOffset:s.byteOffset,byteStride:i}}return null}function t4(t,e){const r={...t,attributes:t.attributes.map(n=>({...n}))};for(const n of(e==null?void 0:e.attributes)||[]){const i=r.attributes.find(s=>s.name===n.name);i?(i.type=n.type||i.type,i.stepMode=n.stepMode||i.stepMode):Ze.warn(`shader layout attribute ${n.name} not present in shader`)}return r}const Rd=class Rd extends Sr{constructor(r,n){super(r,n,Rd.defaultProps);H(this,"maxVertexAttributes");H(this,"attributeInfos");H(this,"indexBuffer",null);H(this,"attributes");this.maxVertexAttributes=r.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=KB(n.renderPipeline.shaderLayout,n.renderPipeline.bufferLayout,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(r,n){throw new Error("constant attributes not supported")}};H(Rd,"defaultProps",{...Sr.defaultProps,renderPipeline:null});let km=Rd;const xd=class xd extends Sr{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,r){super(e,r,xd.defaultProps)}};H(xd,"defaultProps",{...Sr.defaultProps,layout:void 0,buffers:{}});let Im=xd;const Cd=class Cd extends Sr{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,r){super(e,r,Cd.defaultProps)}};H(Cd,"defaultProps",{...Sr.defaultProps,type:void 0,count:void 0});let Nm=Cd;const r4={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function n4(t){const e=r4[t];return Ar(t),e}function i4(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}let _f;function rE(t){return(!_f||_f.byteLength<t)&&(_f=new ArrayBuffer(t)),_f}function s4(t,e){const r=rE(t.BYTES_PER_ELEMENT*e);return new t(r,0,e)}function o4(t){const{target:e,source:r,start:n=0,count:i=1}=t,s=r.length,l=i*s;let c=0;for(let f=n;c<s;c++)e[f++]=r[c];for(;c<l;)c<l-c?(e.copyWithin(n+c,n,n+c),c*=2):(e.copyWithin(n+c,n,n+l-c),c=l);return t.target}const Bb=1024;class a4{constructor(e){H(this,"layout",{});H(this,"byteLength");let r=0;for(const[i,s]of Object.entries(e)){const l=n4(s),{type:c,components:f}=l;r=i4(r,f);const h=r;r+=f,this.layout[i]={type:c,size:f,offset:h}}r+=(4-r%4)%4;const n=r*4;this.byteLength=Math.max(n,Bb)}getData(e){const r=Math.max(this.byteLength,Bb),n=rE(r),i={i32:new Int32Array(n),u32:new Uint32Array(n),f32:new Float32Array(n),f16:new Uint16Array(n)};for(const[s,l]of Object.entries(e)){const c=this.layout[s];if(!c){Ze.warn(`Supplied uniform value ${s} not present in uniform block layout`)();continue}const{type:f,size:h,offset:y}=c,b=i[f];if(h===1){if(typeof l!="number"&&typeof l!="boolean"){Ze.warn(`Supplied value for single component uniform ${s} is not a number: ${l}`)();continue}b[y]=Number(l)}else{const w=Ic(l);if(!w){Ze.warn(`Supplied value for multi component / array uniform ${s} is not a numeric array: ${l}`)();continue}b.set(w,y)}}return new Uint8Array(n)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function l4(t,e,r=16){if(t!==e)return!1;const n=Ic(t);if(!n)return!1;const i=Ic(e);if(i&&n.length===i.length){for(let s=0;s<n.length;++s)if(i[s]!==n[s])return!1}return!0}function c4(t){const e=Ic(t);return e?e.slice():t}class u4{constructor(e){H(this,"name");H(this,"uniforms",{});H(this,"modifiedUniforms",{});H(this,"modified",!0);H(this,"bindingLayout",{});H(this,"needsRedraw","initialized");var r;if(this.name=e==null?void 0:e.name,e!=null&&e.name&&(e!=null&&e.shaderLayout)){const n=(r=e==null?void 0:e.shaderLayout.bindings)==null?void 0:r.find(s=>s.type==="uniform"&&s.name===(e==null?void 0:e.name));if(!n)throw new Error(e==null?void 0:e.name);const i=n;for(const s of i.uniforms||[])this.bindingLayout[s.name]=s}}setUniforms(e){for(const[r,n]of Object.entries(e))this._setUniform(r,n),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${r}=${n}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,r){l4(this.uniforms[e],r)||(this.uniforms[e]=c4(r),this.modifiedUniforms[e]=!0,this.modified=!0)}}class f4{constructor(e){H(this,"uniformBlocks",new Map);H(this,"uniformBufferLayouts",new Map);H(this,"uniformBuffers",new Map);for(const[r,n]of Object.entries(e)){const i=r,s=new a4(n.uniformTypes||{});this.uniformBufferLayouts.set(i,s);const l=new u4({name:r});l.setUniforms(n.defaultUniforms||{}),this.uniformBlocks.set(i,l)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){for(const[r,n]of Object.entries(e))this.uniformBlocks.get(r).setUniforms(n);this.updateUniformBuffers()}getUniformBufferByteLength(e){return this.uniformBufferLayouts.get(e).byteLength}getUniformBufferData(e){const r=this.uniformBlocks.get(e).getAllUniforms();return this.uniformBufferLayouts.get(e).getData(r)}createUniformBuffer(e,r,n){n&&this.setUniforms(n);const i=this.getUniformBufferByteLength(r),s=e.createBuffer({usage:Lr.UNIFORM|Lr.COPY_DST,byteLength:i}),l=this.getUniformBufferData(r);return s.write(l),s}getManagedUniformBuffer(e,r){if(!this.uniformBuffers.get(r)){const n=this.getUniformBufferByteLength(r),i=e.createBuffer({usage:Lr.UNIFORM|Lr.COPY_DST,byteLength:n});this.uniformBuffers.set(r,i)}return this.uniformBuffers.get(r)}updateUniformBuffers(){let e=!1;for(const r of this.uniformBlocks.keys()){const n=this.updateUniformBuffer(r);e||(e=n)}return e&&Ze.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){const r=this.uniformBlocks.get(e),n=this.uniformBuffers.get(e);let i=!1;if(n&&r.needsRedraw){i||(i=r.needsRedraw);const s=this.getUniformBufferData(e);this.uniformBuffers.get(e).write(s);const c=this.uniformBlocks.get(e).getAllUniforms();Ze.log(4,`Writing to uniform buffer ${String(e)}`,s,c)()}return i}}function nE(t){const e=ArrayBuffer.isView(t)?t.constructor:t;switch(e){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(e.constructor.name)}}function iE(t){switch(t){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(t)}}function d4(t,e,r){if(!e||e>4)throw new Error(`size ${e}`);const n=e;let i=nE(t);if(i==="uint8"&&r&&n===1)return"unorm8-webgl";if(i==="uint8"&&r&&n===3)return"unorm8x3-webgl";if(i==="uint8"||i==="sint8"){if(n===1||n===3)throw new Error(`size: ${e}`);return r&&(i=i.replace("int","norm")),`${i}x${n}`}if(i==="uint16"||i==="sint16"){if(n===1||n===3)throw new Error(`size: ${e}`);return r&&(i=i.replace("int","norm")),`${i}x${n}`}return n===1?i:`${i}x${n}`}function h4(t){return Ic(t)!==null||typeof t=="number"||typeof t=="boolean"}function X0(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(r=>{const n=t[r];h4(n)?e.uniforms[r]=n:e.bindings[r]=n}),e}function p4(t,e,r){const{removedProps:n={},deprecatedProps:i={},replacedProps:s={}}=r;for(const c in n)if(c in e){const h=n[c]?`${t}.${n[c]}`:"N/A";Ze.removed(`${t}.${c}`,h)()}for(const c in i)if(c in e){const f=i[c];Ze.deprecated(`${t}.${c}`,`${t}.${f}`)()}let l=null;for(const[c,f]of Object.entries(s))c in e&&(Ze.deprecated(`${t}.${c}`,`${t}.${f}`)(),l=l||Object.assign({},e),l[f]=e[c],delete l[c]);return l||e}let g4="";async function m4(t,e){return await new Promise((r,n)=>{try{const i=new Image;i.onload=()=>r(i),i.onerror=()=>n(new Error(`Could not load image ${t}.`)),i.crossOrigin=(e==null?void 0:e.crossOrigin)||"anonymous",i.src=t.startsWith("http")?t:g4+t}catch(i){n(i)}})}async function sE(t,e){const r=document.getElementsByTagName("head")[0];if(!r)throw new Error("loadScript");const n=document.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),new Promise((i,s)=>{n.onload=i,n.onerror=l=>s(new Error(`Unable to load script '${t}': ${l}`)),r.appendChild(n)})}function Om(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Om(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const s of n)if(!e.hasOwnProperty(s)||!Om(t[s],e[s],r-1))return!1;return!0}return!1}function _4(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function y4(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}class v4{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class Ss{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(e){throw new Error("Cannot evaluate node")}evaluateString(e){return this.evaluate(e).toString()}search(e){}searchBlock(e,r){if(e){r(id.instance);for(const n of e)n instanceof Array?this.searchBlock(n,r):n.search(r);r(sd.instance)}}}class id extends Ss{}id.instance=new id;class sd extends Ss{}sd.instance=new sd;class Dr extends Ss{constructor(){super()}}class Fm extends Dr{constructor(e,r,n,i,s,l){super(),this.calls=new Set,this.name=e,this.args=r,this.returnType=n,this.body=i,this.startLine=s,this.endLine=l}get astNodeType(){return"function"}search(e){this.searchBlock(this.body,e)}}class w4 extends Dr{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class b4 extends Dr{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class S4 extends Dr{constructor(e){super(),this.body=e}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class T4 extends Dr{constructor(e,r,n,i){super(),this.init=e,this.condition=r,this.increment=n,this.body=i}get astNodeType(){return"for"}search(e){var r,n,i;(r=this.init)===null||r===void 0||r.search(e),(n=this.condition)===null||n===void 0||n.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}}class xo extends Dr{constructor(e,r,n,i,s){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=s}get astNodeType(){return"var"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}class oE extends Dr{constructor(e,r,n){super(),this.name=e,this.type=r,this.value=n}get astNodeType(){return"override"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}}class Dm extends Dr{constructor(e,r,n,i,s){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=s}get astNodeType(){return"let"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}class Ub extends Dr{constructor(e,r,n,i,s){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=s}get astNodeType(){return"const"}evaluate(e){return this.value.evaluate(e)}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}var Ja;(function(t){t.increment="++",t.decrement="--"})(Ja||(Ja={}));(function(t){function e(r){const n=r;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}t.parse=e})(Ja||(Ja={}));class E4 extends Dr{constructor(e,r){super(),this.operator=e,this.variable=r}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}var Nc;(function(t){t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Nc||(Nc={}));(function(t){function e(r){const n=r;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}t.parse=e})(Nc||(Nc={}));class R4 extends Dr{constructor(e,r,n){super(),this.operator=e,this.variable=r,this.value=n}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class aE extends Dr{constructor(e,r){super(),this.name=e,this.args=r}get astNodeType(){return"call"}search(e){for(const r of this.args)r.search(e);e(this)}}class x4 extends Dr{constructor(e,r){super(),this.body=e,this.continuing=r}get astNodeType(){return"loop"}}class C4 extends Dr{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"body"}}class A4 extends Dr{constructor(e,r,n,i){super(),this.condition=e,this.body=r,this.elseif=n,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class P4 extends Dr{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}}class M4 extends Dr{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class k4 extends Dr{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class I4 extends Dr{constructor(e,r){super(),this.severity=e,this.rule=r}get astNodeType(){return"diagnostic"}}class lE extends Dr{constructor(e,r){super(),this.name=e,this.type=r}get astNodeType(){return"alias"}}class N4 extends Dr{constructor(){super()}get astNodeType(){return"discard"}}class O4 extends Dr{constructor(){super()}get astNodeType(){return"break"}}class F4 extends Dr{constructor(){super()}get astNodeType(){return"continue"}}class Zo extends Dr{constructor(e){super(),this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class Eo extends Zo{constructor(e,r,n,i){super(e),this.members=r,this.startLine=n,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let r=0;r<this.members.length;r++)if(this.members[r].name==e)return r;return-1}}class cE extends Zo{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"template"}}class D4 extends Zo{constructor(e,r,n,i){super(e),this.storage=r,this.type=n,this.access=i}get astNodeType(){return"pointer"}}class uE extends Zo{constructor(e,r,n,i){super(e),this.attributes=r,this.format=n,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class cc extends Zo{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"sampler"}}class ns extends Ss{constructor(){super()}}class B4 extends ns{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class Fa extends ns{constructor(e,r){super(),this.type=e,this.args=r}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const r of this.args)r.search(e)}evaluate(e){return this.args[0].evaluate(e)}}class fE extends ns{constructor(e,r){super(),this.name=e,this.args=r}get astNodeType(){return"callExpr"}evaluate(e){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(e));case"acos":return Math.acos(this.args[0].evaluate(e));case"acosh":return Math.acosh(this.args[0].evaluate(e));case"asin":return Math.asin(this.args[0].evaluate(e));case"asinh":return Math.asinh(this.args[0].evaluate(e));case"atan":return Math.atan(this.args[0].evaluate(e));case"atan2":return Math.atan2(this.args[0].evaluate(e),this.args[1].evaluate(e));case"atanh":return Math.atanh(this.args[0].evaluate(e));case"ceil":return Math.ceil(this.args[0].evaluate(e));case"clamp":return Math.min(Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e)),this.args[2].evaluate(e));case"cos":return Math.cos(this.args[0].evaluate(e));case"degrees":return this.args[0].evaluate(e)*180/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(e)-this.args[1].evaluate(e),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(e));case"exp2":return Math.pow(2,this.args[0].evaluate(e));case"floor":return Math.floor(this.args[0].evaluate(e));case"fma":return this.args[0].evaluate(e)*this.args[1].evaluate(e)+this.args[2].evaluate(e);case"fract":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(e));case"log":return Math.log(this.args[0].evaluate(e));case"log2":return Math.log2(this.args[0].evaluate(e));case"max":return Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e));case"min":return Math.min(this.args[0].evaluate(e),this.args[1].evaluate(e));case"mix":return this.args[0].evaluate(e)*(1-this.args[2].evaluate(e))+this.args[1].evaluate(e)*this.args[2].evaluate(e);case"modf":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"pow":return Math.pow(this.args[0].evaluate(e),this.args[1].evaluate(e));case"radians":return this.args[0].evaluate(e)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(e));case"sign":return Math.sign(this.args[0].evaluate(e));case"sin":return Math.sin(this.args[0].evaluate(e));case"sinh":return Math.sinh(this.args[0].evaluate(e));case"saturate":return Math.min(Math.max(this.args[0].evaluate(e),0),1);case"smoothstep":return this.args[0].evaluate(e)*this.args[0].evaluate(e)*(3-2*this.args[0].evaluate(e));case"sqrt":return Math.sqrt(this.args[0].evaluate(e));case"step":return this.args[0].evaluate(e)<this.args[1].evaluate(e)?0:1;case"tan":return Math.tan(this.args[0].evaluate(e));case"tanh":return Math.tanh(this.args[0].evaluate(e));case"trunc":return Math.trunc(this.args[0].evaluate(e));default:throw new Error("Non const function: "+this.name)}}search(e){for(const r of this.args)r.search(e);e(this)}}class Bm extends ns{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}evaluate(e){const r=e.constants.get(this.name);if(!r)throw new Error("Cannot evaluate node");return r.evaluate(e)}}class Lb extends ns{constructor(e,r){super(),this.name=e,this.initializer=r}get astNodeType(){return"constExpr"}evaluate(e){var r,n;if(this.initializer instanceof Fa){const i=(r=this.postfix)===null||r===void 0?void 0:r.evaluateString(e),s=(n=this.initializer.type)===null||n===void 0?void 0:n.name,l=e.structs.get(s),c=l==null?void 0:l.getMemberIndex(i);return c!==void 0&&c!=-1?this.initializer.args[c].evaluate(e):this.initializer.evaluate(e)}return this.initializer.evaluate(e)}search(e){this.initializer.search(e)}}class jb extends ns{constructor(e){super(),this.value=e}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class U4 extends ns{constructor(e,r){super(),this.type=e,this.value=r}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class zb extends ns{constructor(e){super(),this.contents=e}get astNodeType(){return"groupExpr"}evaluate(e){return this.contents[0].evaluate(e)}search(e){this.searchBlock(this.contents,e)}}class L4 extends ns{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class dE extends ns{constructor(){super()}}class j4 extends dE{constructor(e,r){super(),this.operator=e,this.right=r}get astNodeType(){return"unaryOp"}evaluate(e){switch(this.operator){case"+":return this.right.evaluate(e);case"-":return-this.right.evaluate(e);case"!":return this.right.evaluate(e)?0:1;case"~":return~this.right.evaluate(e);default:throw new Error("Unknown unary operator: "+this.operator)}}search(e){this.right.search(e)}}class $i extends dE{constructor(e,r,n){super(),this.operator=e,this.left=r,this.right=n}get astNodeType(){return"binaryOp"}evaluate(e){switch(this.operator){case"+":return this.left.evaluate(e)+this.right.evaluate(e);case"-":return this.left.evaluate(e)-this.right.evaluate(e);case"*":return this.left.evaluate(e)*this.right.evaluate(e);case"/":return this.left.evaluate(e)/this.right.evaluate(e);case"%":return this.left.evaluate(e)%this.right.evaluate(e);case"==":return this.left.evaluate(e)==this.right.evaluate(e)?1:0;case"!=":return this.left.evaluate(e)!=this.right.evaluate(e)?1:0;case"<":return this.left.evaluate(e)<this.right.evaluate(e)?1:0;case">":return this.left.evaluate(e)>this.right.evaluate(e)?1:0;case"<=":return this.left.evaluate(e)<=this.right.evaluate(e)?1:0;case">=":return this.left.evaluate(e)>=this.right.evaluate(e)?1:0;case"&&":return this.left.evaluate(e)&&this.right.evaluate(e)?1:0;case"||":return this.left.evaluate(e)||this.right.evaluate(e)?1:0;default:throw new Error(`Unknown operator ${this.operator}`)}}search(e){this.left.search(e),this.right.search(e)}}class hE extends Ss{constructor(){super()}}class z4 extends hE{constructor(e,r){super(),this.selector=e,this.body=r}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class $4 extends hE{constructor(e){super(),this.body=e}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class V4 extends Ss{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"argument"}}class W4 extends Ss{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class H4 extends Ss{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"member"}}let X4=class extends Ss{constructor(e,r){super(),this.name=e,this.value=r}get astNodeType(){return"attribute"}};var be,me;(function(t){t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(me||(me={}));class _e{constructor(e,r,n){this.name=e,this.type=r,this.rule=n}toString(){return this.name}}class ee{}be=ee;ee.none=new _e("",me.reserved,"");ee.eof=new _e("EOF",me.token,"");ee.reserved={asm:new _e("asm",me.reserved,"asm"),bf16:new _e("bf16",me.reserved,"bf16"),do:new _e("do",me.reserved,"do"),enum:new _e("enum",me.reserved,"enum"),f16:new _e("f16",me.reserved,"f16"),f64:new _e("f64",me.reserved,"f64"),handle:new _e("handle",me.reserved,"handle"),i8:new _e("i8",me.reserved,"i8"),i16:new _e("i16",me.reserved,"i16"),i64:new _e("i64",me.reserved,"i64"),mat:new _e("mat",me.reserved,"mat"),premerge:new _e("premerge",me.reserved,"premerge"),regardless:new _e("regardless",me.reserved,"regardless"),typedef:new _e("typedef",me.reserved,"typedef"),u8:new _e("u8",me.reserved,"u8"),u16:new _e("u16",me.reserved,"u16"),u64:new _e("u64",me.reserved,"u64"),unless:new _e("unless",me.reserved,"unless"),using:new _e("using",me.reserved,"using"),vec:new _e("vec",me.reserved,"vec"),void:new _e("void",me.reserved,"void")};ee.keywords={array:new _e("array",me.keyword,"array"),atomic:new _e("atomic",me.keyword,"atomic"),bool:new _e("bool",me.keyword,"bool"),f32:new _e("f32",me.keyword,"f32"),i32:new _e("i32",me.keyword,"i32"),mat2x2:new _e("mat2x2",me.keyword,"mat2x2"),mat2x3:new _e("mat2x3",me.keyword,"mat2x3"),mat2x4:new _e("mat2x4",me.keyword,"mat2x4"),mat3x2:new _e("mat3x2",me.keyword,"mat3x2"),mat3x3:new _e("mat3x3",me.keyword,"mat3x3"),mat3x4:new _e("mat3x4",me.keyword,"mat3x4"),mat4x2:new _e("mat4x2",me.keyword,"mat4x2"),mat4x3:new _e("mat4x3",me.keyword,"mat4x3"),mat4x4:new _e("mat4x4",me.keyword,"mat4x4"),ptr:new _e("ptr",me.keyword,"ptr"),sampler:new _e("sampler",me.keyword,"sampler"),sampler_comparison:new _e("sampler_comparison",me.keyword,"sampler_comparison"),struct:new _e("struct",me.keyword,"struct"),texture_1d:new _e("texture_1d",me.keyword,"texture_1d"),texture_2d:new _e("texture_2d",me.keyword,"texture_2d"),texture_2d_array:new _e("texture_2d_array",me.keyword,"texture_2d_array"),texture_3d:new _e("texture_3d",me.keyword,"texture_3d"),texture_cube:new _e("texture_cube",me.keyword,"texture_cube"),texture_cube_array:new _e("texture_cube_array",me.keyword,"texture_cube_array"),texture_multisampled_2d:new _e("texture_multisampled_2d",me.keyword,"texture_multisampled_2d"),texture_storage_1d:new _e("texture_storage_1d",me.keyword,"texture_storage_1d"),texture_storage_2d:new _e("texture_storage_2d",me.keyword,"texture_storage_2d"),texture_storage_2d_array:new _e("texture_storage_2d_array",me.keyword,"texture_storage_2d_array"),texture_storage_3d:new _e("texture_storage_3d",me.keyword,"texture_storage_3d"),texture_depth_2d:new _e("texture_depth_2d",me.keyword,"texture_depth_2d"),texture_depth_2d_array:new _e("texture_depth_2d_array",me.keyword,"texture_depth_2d_array"),texture_depth_cube:new _e("texture_depth_cube",me.keyword,"texture_depth_cube"),texture_depth_cube_array:new _e("texture_depth_cube_array",me.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new _e("texture_depth_multisampled_2d",me.keyword,"texture_depth_multisampled_2d"),texture_external:new _e("texture_external",me.keyword,"texture_external"),u32:new _e("u32",me.keyword,"u32"),vec2:new _e("vec2",me.keyword,"vec2"),vec3:new _e("vec3",me.keyword,"vec3"),vec4:new _e("vec4",me.keyword,"vec4"),bitcast:new _e("bitcast",me.keyword,"bitcast"),block:new _e("block",me.keyword,"block"),break:new _e("break",me.keyword,"break"),case:new _e("case",me.keyword,"case"),continue:new _e("continue",me.keyword,"continue"),continuing:new _e("continuing",me.keyword,"continuing"),default:new _e("default",me.keyword,"default"),diagnostic:new _e("diagnostic",me.keyword,"diagnostic"),discard:new _e("discard",me.keyword,"discard"),else:new _e("else",me.keyword,"else"),enable:new _e("enable",me.keyword,"enable"),fallthrough:new _e("fallthrough",me.keyword,"fallthrough"),false:new _e("false",me.keyword,"false"),fn:new _e("fn",me.keyword,"fn"),for:new _e("for",me.keyword,"for"),function:new _e("function",me.keyword,"function"),if:new _e("if",me.keyword,"if"),let:new _e("let",me.keyword,"let"),const:new _e("const",me.keyword,"const"),loop:new _e("loop",me.keyword,"loop"),while:new _e("while",me.keyword,"while"),private:new _e("private",me.keyword,"private"),read:new _e("read",me.keyword,"read"),read_write:new _e("read_write",me.keyword,"read_write"),return:new _e("return",me.keyword,"return"),requires:new _e("requires",me.keyword,"requires"),storage:new _e("storage",me.keyword,"storage"),switch:new _e("switch",me.keyword,"switch"),true:new _e("true",me.keyword,"true"),alias:new _e("alias",me.keyword,"alias"),type:new _e("type",me.keyword,"type"),uniform:new _e("uniform",me.keyword,"uniform"),var:new _e("var",me.keyword,"var"),override:new _e("override",me.keyword,"override"),workgroup:new _e("workgroup",me.keyword,"workgroup"),write:new _e("write",me.keyword,"write"),r8unorm:new _e("r8unorm",me.keyword,"r8unorm"),r8snorm:new _e("r8snorm",me.keyword,"r8snorm"),r8uint:new _e("r8uint",me.keyword,"r8uint"),r8sint:new _e("r8sint",me.keyword,"r8sint"),r16uint:new _e("r16uint",me.keyword,"r16uint"),r16sint:new _e("r16sint",me.keyword,"r16sint"),r16float:new _e("r16float",me.keyword,"r16float"),rg8unorm:new _e("rg8unorm",me.keyword,"rg8unorm"),rg8snorm:new _e("rg8snorm",me.keyword,"rg8snorm"),rg8uint:new _e("rg8uint",me.keyword,"rg8uint"),rg8sint:new _e("rg8sint",me.keyword,"rg8sint"),r32uint:new _e("r32uint",me.keyword,"r32uint"),r32sint:new _e("r32sint",me.keyword,"r32sint"),r32float:new _e("r32float",me.keyword,"r32float"),rg16uint:new _e("rg16uint",me.keyword,"rg16uint"),rg16sint:new _e("rg16sint",me.keyword,"rg16sint"),rg16float:new _e("rg16float",me.keyword,"rg16float"),rgba8unorm:new _e("rgba8unorm",me.keyword,"rgba8unorm"),rgba8unorm_srgb:new _e("rgba8unorm_srgb",me.keyword,"rgba8unorm_srgb"),rgba8snorm:new _e("rgba8snorm",me.keyword,"rgba8snorm"),rgba8uint:new _e("rgba8uint",me.keyword,"rgba8uint"),rgba8sint:new _e("rgba8sint",me.keyword,"rgba8sint"),bgra8unorm:new _e("bgra8unorm",me.keyword,"bgra8unorm"),bgra8unorm_srgb:new _e("bgra8unorm_srgb",me.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new _e("rgb10a2unorm",me.keyword,"rgb10a2unorm"),rg11b10float:new _e("rg11b10float",me.keyword,"rg11b10float"),rg32uint:new _e("rg32uint",me.keyword,"rg32uint"),rg32sint:new _e("rg32sint",me.keyword,"rg32sint"),rg32float:new _e("rg32float",me.keyword,"rg32float"),rgba16uint:new _e("rgba16uint",me.keyword,"rgba16uint"),rgba16sint:new _e("rgba16sint",me.keyword,"rgba16sint"),rgba16float:new _e("rgba16float",me.keyword,"rgba16float"),rgba32uint:new _e("rgba32uint",me.keyword,"rgba32uint"),rgba32sint:new _e("rgba32sint",me.keyword,"rgba32sint"),rgba32float:new _e("rgba32float",me.keyword,"rgba32float"),static_assert:new _e("static_assert",me.keyword,"static_assert")};ee.tokens={decimal_float_literal:new _e("decimal_float_literal",me.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new _e("hex_float_literal",me.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new _e("int_literal",me.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new _e("uint_literal",me.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new _e("ident",me.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new _e("and",me.token,"&"),and_and:new _e("and_and",me.token,"&&"),arrow:new _e("arrow ",me.token,"->"),attr:new _e("attr",me.token,"@"),forward_slash:new _e("forward_slash",me.token,"/"),bang:new _e("bang",me.token,"!"),bracket_left:new _e("bracket_left",me.token,"["),bracket_right:new _e("bracket_right",me.token,"]"),brace_left:new _e("brace_left",me.token,"{"),brace_right:new _e("brace_right",me.token,"}"),colon:new _e("colon",me.token,":"),comma:new _e("comma",me.token,","),equal:new _e("equal",me.token,"="),equal_equal:new _e("equal_equal",me.token,"=="),not_equal:new _e("not_equal",me.token,"!="),greater_than:new _e("greater_than",me.token,">"),greater_than_equal:new _e("greater_than_equal",me.token,">="),shift_right:new _e("shift_right",me.token,">>"),less_than:new _e("less_than",me.token,"<"),less_than_equal:new _e("less_than_equal",me.token,"<="),shift_left:new _e("shift_left",me.token,"<<"),modulo:new _e("modulo",me.token,"%"),minus:new _e("minus",me.token,"-"),minus_minus:new _e("minus_minus",me.token,"--"),period:new _e("period",me.token,"."),plus:new _e("plus",me.token,"+"),plus_plus:new _e("plus_plus",me.token,"++"),or:new _e("or",me.token,"|"),or_or:new _e("or_or",me.token,"||"),paren_left:new _e("paren_left",me.token,"("),paren_right:new _e("paren_right",me.token,")"),semicolon:new _e("semicolon",me.token,";"),star:new _e("star",me.token,"*"),tilde:new _e("tilde",me.token,"~"),underscore:new _e("underscore",me.token,"_"),xor:new _e("xor",me.token,"^"),plus_equal:new _e("plus_equal",me.token,"+="),minus_equal:new _e("minus_equal",me.token,"-="),times_equal:new _e("times_equal",me.token,"*="),division_equal:new _e("division_equal",me.token,"/="),modulo_equal:new _e("modulo_equal",me.token,"%="),and_equal:new _e("and_equal",me.token,"&="),or_equal:new _e("or_equal",me.token,"|="),xor_equal:new _e("xor_equal",me.token,"^="),shift_right_equal:new _e("shift_right_equal",me.token,">>="),shift_left_equal:new _e("shift_left_equal",me.token,"<<=")};ee.simpleTokens={"@":be.tokens.attr,"{":be.tokens.brace_left,"}":be.tokens.brace_right,":":be.tokens.colon,",":be.tokens.comma,"(":be.tokens.paren_left,")":be.tokens.paren_right,";":be.tokens.semicolon};ee.literalTokens={"&":be.tokens.and,"&&":be.tokens.and_and,"->":be.tokens.arrow,"/":be.tokens.forward_slash,"!":be.tokens.bang,"[":be.tokens.bracket_left,"]":be.tokens.bracket_right,"=":be.tokens.equal,"==":be.tokens.equal_equal,"!=":be.tokens.not_equal,">":be.tokens.greater_than,">=":be.tokens.greater_than_equal,">>":be.tokens.shift_right,"<":be.tokens.less_than,"<=":be.tokens.less_than_equal,"<<":be.tokens.shift_left,"%":be.tokens.modulo,"-":be.tokens.minus,"--":be.tokens.minus_minus,".":be.tokens.period,"+":be.tokens.plus,"++":be.tokens.plus_plus,"|":be.tokens.or,"||":be.tokens.or_or,"*":be.tokens.star,"~":be.tokens.tilde,_:be.tokens.underscore,"^":be.tokens.xor,"+=":be.tokens.plus_equal,"-=":be.tokens.minus_equal,"*=":be.tokens.times_equal,"/=":be.tokens.division_equal,"%=":be.tokens.modulo_equal,"&=":be.tokens.and_equal,"|=":be.tokens.or_equal,"^=":be.tokens.xor_equal,">>=":be.tokens.shift_right_equal,"<<=":be.tokens.shift_left_equal};ee.regexTokens={decimal_float_literal:be.tokens.decimal_float_literal,hex_float_literal:be.tokens.hex_float_literal,int_literal:be.tokens.int_literal,uint_literal:be.tokens.uint_literal,ident:be.tokens.ident};ee.storage_class=[be.keywords.function,be.keywords.private,be.keywords.workgroup,be.keywords.uniform,be.keywords.storage];ee.access_mode=[be.keywords.read,be.keywords.write,be.keywords.read_write];ee.sampler_type=[be.keywords.sampler,be.keywords.sampler_comparison];ee.sampled_texture_type=[be.keywords.texture_1d,be.keywords.texture_2d,be.keywords.texture_2d_array,be.keywords.texture_3d,be.keywords.texture_cube,be.keywords.texture_cube_array];ee.multisampled_texture_type=[be.keywords.texture_multisampled_2d];ee.storage_texture_type=[be.keywords.texture_storage_1d,be.keywords.texture_storage_2d,be.keywords.texture_storage_2d_array,be.keywords.texture_storage_3d];ee.depth_texture_type=[be.keywords.texture_depth_2d,be.keywords.texture_depth_2d_array,be.keywords.texture_depth_cube,be.keywords.texture_depth_cube_array,be.keywords.texture_depth_multisampled_2d];ee.texture_external_type=[be.keywords.texture_external];ee.any_texture_type=[...be.sampled_texture_type,...be.multisampled_texture_type,...be.storage_texture_type,...be.depth_texture_type,...be.texture_external_type];ee.texel_format=[be.keywords.r8unorm,be.keywords.r8snorm,be.keywords.r8uint,be.keywords.r8sint,be.keywords.r16uint,be.keywords.r16sint,be.keywords.r16float,be.keywords.rg8unorm,be.keywords.rg8snorm,be.keywords.rg8uint,be.keywords.rg8sint,be.keywords.r32uint,be.keywords.r32sint,be.keywords.r32float,be.keywords.rg16uint,be.keywords.rg16sint,be.keywords.rg16float,be.keywords.rgba8unorm,be.keywords.rgba8unorm_srgb,be.keywords.rgba8snorm,be.keywords.rgba8uint,be.keywords.rgba8sint,be.keywords.bgra8unorm,be.keywords.bgra8unorm_srgb,be.keywords.rgb10a2unorm,be.keywords.rg11b10float,be.keywords.rg32uint,be.keywords.rg32sint,be.keywords.rg32float,be.keywords.rgba16uint,be.keywords.rgba16sint,be.keywords.rgba16float,be.keywords.rgba32uint,be.keywords.rgba32sint,be.keywords.rgba32float];ee.const_literal=[be.tokens.int_literal,be.tokens.uint_literal,be.tokens.decimal_float_literal,be.tokens.hex_float_literal,be.keywords.true,be.keywords.false];ee.literal_or_ident=[be.tokens.ident,be.tokens.int_literal,be.tokens.uint_literal,be.tokens.decimal_float_literal,be.tokens.hex_float_literal];ee.element_count_expression=[be.tokens.int_literal,be.tokens.uint_literal,be.tokens.ident];ee.template_types=[be.keywords.vec2,be.keywords.vec3,be.keywords.vec4,be.keywords.mat2x2,be.keywords.mat2x3,be.keywords.mat2x4,be.keywords.mat3x2,be.keywords.mat3x3,be.keywords.mat3x4,be.keywords.mat4x2,be.keywords.mat4x3,be.keywords.mat4x4,be.keywords.atomic,be.keywords.bitcast,...be.any_texture_type];ee.attribute_name=[be.tokens.ident,be.keywords.block,be.keywords.diagnostic];ee.assignment_operators=[be.tokens.equal,be.tokens.plus_equal,be.tokens.minus_equal,be.tokens.times_equal,be.tokens.division_equal,be.tokens.modulo_equal,be.tokens.and_equal,be.tokens.or_equal,be.tokens.xor_equal,be.tokens.shift_right_equal,be.tokens.shift_left_equal];ee.increment_operators=[be.tokens.plus_plus,be.tokens.minus_minus];class $b{constructor(e,r,n){this.type=e,this.lexeme=r,this.line=n}toString(){return this.lexeme}isTemplateType(){return ee.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==ee.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class Y4{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new $b(ee.eof,"",this._line)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}else if(this._peekAhead()=="*"){this._advance();let l=1;for(;l>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),l--,l==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),l++)}return!0}}const r=ee.simpleTokens[e];if(r)return this._addToken(r),!0;let n=ee.none;const i=this._isAlpha(e),s=e==="_";if(this._isAlphaNumeric(e)){let l=this._peekAhead();for(;this._isAlphaNumeric(l);)e+=this._advance(),l=this._peekAhead()}if(i){const l=ee.keywords[e];if(l)return this._addToken(l),!0}if(i||s)return this._addToken(ee.tokens.ident),!0;for(;;){let l=this._findType(e);const c=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(c=="=")return this._current++,e+=c,this._addToken(ee.tokens.minus_equal),!0;if(c=="-")return this._current++,e+=c,this._addToken(ee.tokens.minus_minus),!0;const f=this._tokens.length-1;if((ee.literal_or_ident.indexOf(this._tokens[f].type)!=-1||this._tokens[f].type==ee.tokens.paren_right)&&c!=">")return this._addToken(l),!0}if(e==">"&&(c==">"||c=="=")){let f=!1,h=this._tokens.length-1;for(let y=0;y<5&&h>=0&&ee.assignment_operators.indexOf(this._tokens[h].type)===-1;++y,--h)if(this._tokens[h].type===ee.tokens.less_than){h>0&&this._tokens[h-1].isArrayOrTemplateType()&&(f=!0);break}if(f)return this._addToken(l),!0}if(l===ee.none){let f=e,h=0;const y=2;for(let b=0;b<y;++b)if(f+=this._peekAhead(b),l=this._findType(f),l!==ee.none){h=b;break}if(l===ee.none)return n===ee.none?!1:(this._current--,this._addToken(n),!0);e=f,this._current+=h+1}if(n=l,this._isAtEnd())break;e+=this._advance()}return n===ee.none?!1:(this._addToken(n),!0)}_findType(e){for(const n in ee.regexTokens){const i=ee.regexTokens[n];if(this._match(e,i.rule))return i}const r=ee.literalTokens[e];return r||ee.none}_match(e,r){const n=r.exec(e);return n&&n.index==0&&n[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}_isAlphaNumeric(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e=="_"||e>="0"&&e<="9"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let r=this._source[this._current];return e=e||0,e++,this._current+=e,r}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const r=this._source.substring(this._start,this._current);this._tokens.push(new $b(e,r,this._line))}}class K4{constructor(){this._tokens=[],this._current=0,this._currentLine=0,this._context=new v4,this._deferArrayCountEval=[]}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const r=[];for(;!this._isAtEnd();){const n=this._global_decl_or_directive();if(!n)break;r.push(n)}if(this._deferArrayCountEval.length>0){for(const n of this._deferArrayCountEval){const i=n.arrayType,s=n.countNode;if(s instanceof Bm){const c=s.name,f=this._context.constants.get(c);if(f)try{const h=f.evaluate(this._context);i.count=h}catch{}}}this._deferArrayCountEval.length=0}return r}_initialize(e){if(e)if(typeof e=="string"){const r=new Y4(e);this._tokens=r.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_error(e,r){return{token:e,message:r,toString:function(){return`${r}`}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==ee.eof}_match(e){if(e instanceof _e)return this._check(e)?(this._advance(),!0):!1;for(let r=0,n=e.length;r<n;++r){const i=e[r];if(this._check(i))return this._advance(),!0}return!1}_consume(e,r){if(this._check(e))return this._advance();throw this._error(this._peek(),r)}_check(e){if(this._isAtEnd())return!1;const r=this._peek();if(e instanceof Array){const n=r.type;return e.indexOf(n)!=-1}return r.type==e}_advance(){var e,r;return this._currentLine=(r=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&r!==void 0?r:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._match(ee.keywords.alias)){const r=this._type_alias();return this._consume(ee.tokens.semicolon,"Expected ';'"),r}if(this._match(ee.keywords.diagnostic)){const r=this._diagnostic();return this._consume(ee.tokens.semicolon,"Expected ';'"),r}if(this._match(ee.keywords.requires)){const r=this._requires_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),r}if(this._match(ee.keywords.enable)){const r=this._enable_directive();return this._consume(ee.tokens.semicolon,"Expected ';'"),r}const e=this._attribute();if(this._check(ee.keywords.var)){const r=this._global_variable_decl();return r!=null&&(r.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),r}if(this._check(ee.keywords.override)){const r=this._override_variable_decl();return r!=null&&(r.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),r}if(this._check(ee.keywords.let)){const r=this._global_let_decl();return r!=null&&(r.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),r}if(this._check(ee.keywords.const)){const r=this._global_const_decl();return r!=null&&(r.attributes=e),this._consume(ee.tokens.semicolon,"Expected ';'."),r}if(this._check(ee.keywords.struct)){const r=this._struct_decl();return r!=null&&(r.attributes=e),r}if(this._check(ee.keywords.fn)){const r=this._function_decl();return r!=null&&(r.attributes=e),r}return null}_function_decl(){if(!this._match(ee.keywords.fn))return null;const e=this._currentLine,r=this._consume(ee.tokens.ident,"Expected function name.").toString();this._consume(ee.tokens.paren_left,"Expected '(' for function arguments.");const n=[];if(!this._check(ee.tokens.paren_right))do{if(this._check(ee.tokens.paren_right))break;const c=this._attribute(),f=this._consume(ee.tokens.ident,"Expected argument name.").toString();this._consume(ee.tokens.colon,"Expected ':' for argument type.");const h=this._attribute(),y=this._type_decl();y!=null&&(y.attributes=h,n.push(new V4(f,y,c)))}while(this._match(ee.tokens.comma));this._consume(ee.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(ee.tokens.arrow)){const c=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=c)}const s=this._compound_statement(),l=this._currentLine;return new Fm(r,n,i,s,e,l)}_compound_statement(){const e=[];for(this._consume(ee.tokens.brace_left,"Expected '{' for block.");!this._check(ee.tokens.brace_right);){const r=this._statement();r!==null&&e.push(r)}return this._consume(ee.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(ee.tokens.semicolon)&&!this._isAtEnd(););if(this._check(ee.tokens.attr)&&this._attribute(),this._check(ee.keywords.if))return this._if_statement();if(this._check(ee.keywords.switch))return this._switch_statement();if(this._check(ee.keywords.loop))return this._loop_statement();if(this._check(ee.keywords.for))return this._for_statement();if(this._check(ee.keywords.while))return this._while_statement();if(this._check(ee.keywords.continuing))return this._continuing_statement();if(this._check(ee.keywords.static_assert))return this._static_assert_statement();if(this._check(ee.tokens.brace_left))return this._compound_statement();let e=null;return this._check(ee.keywords.return)?e=this._return_statement():this._check([ee.keywords.var,ee.keywords.let,ee.keywords.const])?e=this._variable_statement():this._match(ee.keywords.discard)?e=new N4:this._match(ee.keywords.break)?e=new O4:this._match(ee.keywords.continue)?e=new F4:e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),e!=null&&this._consume(ee.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(ee.keywords.static_assert))return null;const e=this._optional_paren_expression();return new w4(e)}_while_statement(){if(!this._match(ee.keywords.while))return null;const e=this._optional_paren_expression();this._check(ee.tokens.attr)&&this._attribute();const r=this._compound_statement();return new b4(e,r)}_continuing_statement(){if(!this._match(ee.keywords.continuing))return null;const e=this._compound_statement();return new S4(e)}_for_statement(){if(!this._match(ee.keywords.for))return null;this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._check(ee.tokens.semicolon)?null:this._for_init();this._consume(ee.tokens.semicolon,"Expected ';'.");const r=this._check(ee.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(ee.tokens.semicolon,"Expected ';'.");const n=this._check(ee.tokens.paren_right)?null:this._for_increment();this._consume(ee.tokens.paren_right,"Expected ')'."),this._check(ee.tokens.attr)&&this._attribute();const i=this._compound_statement();return new T4(e,r,n,i)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(ee.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let r=null;return this._match(ee.tokens.equal)&&(r=this._short_circuit_or_expression()),new xo(e.name,e.type,e.storage,e.access,r)}if(this._match(ee.keywords.let)){const e=this._consume(ee.tokens.ident,"Expected name for let.").toString();let r=null;if(this._match(ee.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}this._consume(ee.tokens.equal,"Expected '=' for let.");const n=this._short_circuit_or_expression();return new Dm(e,r,null,null,n)}if(this._match(ee.keywords.const)){const e=this._consume(ee.tokens.ident,"Expected name for const.").toString();let r=null;if(this._match(ee.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}this._consume(ee.tokens.equal,"Expected '=' for const.");const n=this._short_circuit_or_expression();return new Ub(e,r,null,null,n)}return null}_increment_decrement_statement(){const e=this._current,r=this._unary_expression();if(r==null)return null;if(!this._check(ee.increment_operators))return this._current=e,null;const n=this._consume(ee.increment_operators,"Expected increment operator");return new E4(n.type===ee.tokens.plus_plus?Ja.increment:Ja.decrement,r)}_assignment_statement(){let e=null;if(this._check(ee.tokens.brace_right))return null;let r=this._match(ee.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const n=this._consume(ee.assignment_operators,"Expected assignment operator."),i=this._short_circuit_or_expression();return new R4(Nc.parse(n.lexeme),e,i)}_func_call_statement(){if(!this._check(ee.tokens.ident))return null;const e=this._current,r=this._consume(ee.tokens.ident,"Expected function name."),n=this._argument_expression_list();return n===null?(this._current=e,null):new aE(r.lexeme,n)}_loop_statement(){if(!this._match(ee.keywords.loop))return null;this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for loop.");const e=[];let r=this._statement();for(;r!==null;){if(Array.isArray(r))for(let i of r)e.push(i);else e.push(r);r=this._statement()}let n=null;return this._match(ee.keywords.continuing)&&(n=this._compound_statement()),this._consume(ee.tokens.brace_right,"Expected '}' for loop."),new x4(e,n)}_switch_statement(){if(!this._match(ee.keywords.switch))return null;const e=this._optional_paren_expression();this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Expected '{' for switch.");const r=this._switch_body();if(r==null||r.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(ee.tokens.brace_right,"Expected '}' for switch."),new C4(e,r)}_switch_body(){const e=[];if(this._match(ee.keywords.case)){const r=this._case_selectors();this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch case.");const n=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch case."),e.push(new z4(r,n))}if(this._match(ee.keywords.default)){this._match(ee.tokens.colon),this._check(ee.tokens.attr)&&this._attribute(),this._consume(ee.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(ee.tokens.brace_right,"Exected '}' for switch default."),e.push(new $4(r))}if(this._check([ee.keywords.default,ee.keywords.case])){const r=this._switch_body();e.push(r[0])}return e}_case_selectors(){const e=[this._shift_expression()];for(;this._match(ee.tokens.comma);)e.push(this._shift_expression());return e}_case_body(){if(this._match(ee.keywords.fallthrough))return this._consume(ee.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const r=this._case_body();return r.length==0?e:[...e,r[0]]}_if_statement(){if(!this._match(ee.keywords.if))return null;const e=this._optional_paren_expression();this._check(ee.tokens.attr)&&this._attribute();const r=this._compound_statement();let n=[];this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),n=this._elseif_statement(n));let i=null;return this._match(ee.keywords.else)&&(this._check(ee.tokens.attr)&&this._attribute(),i=this._compound_statement()),new A4(e,r,n,i)}_match_elseif(){return this._tokens[this._current].type===ee.keywords.else&&this._tokens[this._current+1].type===ee.keywords.if?(this._advance(),this._advance(),!0):!1}_elseif_statement(e=[]){const r=this._optional_paren_expression(),n=this._compound_statement();return e.push(new W4(r,n)),this._match_elseif()&&(this._check(ee.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(ee.keywords.return))return null;const e=this._short_circuit_or_expression();return new P4(e)}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(ee.tokens.or_or);)e=new $i(this._previous().toString(),e,this._short_circuit_and_expr());return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(ee.tokens.and_and);)e=new $i(this._previous().toString(),e,this._inclusive_or_expression());return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(ee.tokens.or);)e=new $i(this._previous().toString(),e,this._exclusive_or_expression());return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(ee.tokens.xor);)e=new $i(this._previous().toString(),e,this._and_expression());return e}_and_expression(){let e=this._equality_expression();for(;this._match(ee.tokens.and);)e=new $i(this._previous().toString(),e,this._equality_expression());return e}_equality_expression(){const e=this._relational_expression();return this._match([ee.tokens.equal_equal,ee.tokens.not_equal])?new $i(this._previous().toString(),e,this._relational_expression()):e}_relational_expression(){let e=this._shift_expression();for(;this._match([ee.tokens.less_than,ee.tokens.greater_than,ee.tokens.less_than_equal,ee.tokens.greater_than_equal]);)e=new $i(this._previous().toString(),e,this._shift_expression());return e}_shift_expression(){let e=this._additive_expression();for(;this._match([ee.tokens.shift_left,ee.tokens.shift_right]);)e=new $i(this._previous().toString(),e,this._additive_expression());return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([ee.tokens.plus,ee.tokens.minus]);)e=new $i(this._previous().toString(),e,this._multiplicative_expression());return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([ee.tokens.star,ee.tokens.forward_slash,ee.tokens.modulo]);)e=new $i(this._previous().toString(),e,this._unary_expression());return e}_unary_expression(){return this._match([ee.tokens.minus,ee.tokens.bang,ee.tokens.tilde,ee.tokens.star,ee.tokens.and])?new j4(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),r=this._postfix_expression();return r&&(e.postfix=r),e}_postfix_expression(){if(this._match(ee.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(ee.tokens.bracket_right,"Expected ']'.");const r=new L4(e),n=this._postfix_expression();return n&&(r.postfix=n),r}if(this._match(ee.tokens.period)){const e=this._consume(ee.tokens.ident,"Expected member name."),r=this._postfix_expression(),n=new B4(e.lexeme);return r&&(n.postfix=r),n}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_primary_expression(){if(this._match(ee.tokens.ident)){const n=this._previous().toString();if(this._check(ee.tokens.paren_left)){const i=this._argument_expression_list(),s=this._getStruct(n);return s!=null?new Fa(s,i):new fE(n,i)}if(this._context.constants.has(n)){const i=this._context.constants.get(n);return new Lb(n,i.value)}return new Bm(n)}if(this._match(ee.const_literal))return new jb(parseFloat(this._previous().toString()));if(this._check(ee.tokens.paren_left))return this._paren_expression();if(this._match(ee.keywords.bitcast)){this._consume(ee.tokens.less_than,"Expected '<'.");const n=this._type_decl();this._consume(ee.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return new U4(n,i)}const e=this._type_decl(),r=this._argument_expression_list();return new Fa(e,r)}_argument_expression_list(){if(!this._match(ee.tokens.paren_left))return null;const e=[];do{if(this._check(ee.tokens.paren_right))break;const r=this._short_circuit_or_expression();e.push(r)}while(this._match(ee.tokens.comma));return this._consume(ee.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(ee.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(ee.tokens.paren_right),new zb([e])}_paren_expression(){this._consume(ee.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(ee.tokens.paren_right,"Expected ')'."),new zb([e])}_struct_decl(){if(!this._match(ee.keywords.struct))return null;const e=this._currentLine,r=this._consume(ee.tokens.ident,"Expected name for struct.").toString();this._consume(ee.tokens.brace_left,"Expected '{' for struct body.");const n=[];for(;!this._check(ee.tokens.brace_right);){const l=this._attribute(),c=this._consume(ee.tokens.ident,"Expected variable name.").toString();this._consume(ee.tokens.colon,"Expected ':' for struct member type.");const f=this._attribute(),h=this._type_decl();h!=null&&(h.attributes=f),this._check(ee.tokens.brace_right)?this._match(ee.tokens.comma):this._consume(ee.tokens.comma,"Expected ',' for struct member."),n.push(new H4(c,h,l))}this._consume(ee.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,s=new Eo(r,n,e,i);return this._context.structs.set(r,s),s}_global_variable_decl(){const e=this._variable_decl();return e&&this._match(ee.tokens.equal)&&(e.value=this._const_expression()),e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(ee.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){if(!this._match(ee.keywords.const))return null;const e=this._consume(ee.tokens.ident,"Expected variable name");let r=null;if(this._match(ee.tokens.colon)){const s=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=s)}let n=null;if(this._match(ee.tokens.equal)){const s=this._short_circuit_or_expression();if(s instanceof Fa)n=s;else if(s instanceof Lb&&s.initializer instanceof Fa)n=s.initializer;else try{const l=s.evaluate(this._context);n=new jb(l)}catch{n=s}}const i=new Ub(e.toString(),r,"","",n);return this._context.constants.set(i.name,i),i}_global_let_decl(){if(!this._match(ee.keywords.let))return null;const e=this._consume(ee.tokens.ident,"Expected variable name");let r=null;if(this._match(ee.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}let n=null;return this._match(ee.tokens.equal)&&(n=this._const_expression()),new Dm(e.toString(),r,"","",n)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(ee.keywords.var))return null;let e="",r="";this._match(ee.tokens.less_than)&&(e=this._consume(ee.storage_class,"Expected storage_class.").toString(),this._match(ee.tokens.comma)&&(r=this._consume(ee.access_mode,"Expected access_mode.").toString()),this._consume(ee.tokens.greater_than,"Expected '>'."));const n=this._consume(ee.tokens.ident,"Expected variable name");let i=null;if(this._match(ee.tokens.colon)){const s=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=s)}return new xo(n.toString(),i,e,r,null)}_override_decl(){if(!this._match(ee.keywords.override))return null;const e=this._consume(ee.tokens.ident,"Expected variable name");let r=null;if(this._match(ee.tokens.colon)){const n=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=n)}return new oE(e.toString(),r,null)}_diagnostic(){this._consume(ee.tokens.paren_left,"Expected '('");const e=this._consume(ee.tokens.ident,"Expected severity control name.");this._consume(ee.tokens.comma,"Expected ','");const r=this._consume(ee.tokens.ident,"Expected diagnostic rule name.");return this._consume(ee.tokens.paren_right,"Expected ')'"),new I4(e.toString(),r.toString())}_enable_directive(){const e=this._consume(ee.tokens.ident,"identity expected.");return new M4(e.toString())}_requires_directive(){const e=[this._consume(ee.tokens.ident,"identity expected.").toString()];for(;this._match(ee.tokens.comma);){const r=this._consume(ee.tokens.ident,"identity expected.");e.push(r.toString())}return new k4(e)}_type_alias(){const e=this._consume(ee.tokens.ident,"identity expected.");this._consume(ee.tokens.equal,"Expected '=' for type alias.");let r=this._type_decl();if(r===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);const n=new lE(e.toString(),r);return this._context.aliases.set(n.name,n),n}_type_decl(){if(this._check([ee.tokens.ident,...ee.texel_format,ee.keywords.bool,ee.keywords.f32,ee.keywords.i32,ee.keywords.u32])){const n=this._advance(),i=n.toString();return this._context.structs.has(i)?this._context.structs.get(i):this._context.aliases.has(i)?this._context.aliases.get(i).type:new Zo(n.toString())}let e=this._texture_sampler_types();if(e)return e;if(this._check(ee.template_types)){let n=this._advance().toString(),i=null,s=null;return this._match(ee.tokens.less_than)&&(i=this._type_decl(),s=null,this._match(ee.tokens.comma)&&(s=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for type.")),new cE(n,i,s)}if(this._match(ee.keywords.ptr)){let n=this._previous().toString();this._consume(ee.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(ee.storage_class,"Expected storage_class for pointer");this._consume(ee.tokens.comma,"Expected ',' for pointer.");const s=this._type_decl();let l=null;return this._match(ee.tokens.comma)&&(l=this._consume(ee.access_mode,"Expected access_mode for pointer").toString()),this._consume(ee.tokens.greater_than,"Expected '>' for pointer."),new D4(n,i.toString(),s,l)}const r=this._attribute();if(this._match(ee.keywords.array)){let n=null,i=-1;const s=this._previous();let l=null;if(this._match(ee.tokens.less_than)){n=this._type_decl(),this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);let f="";if(this._match(ee.tokens.comma)){l=this._shift_expression();try{f=l.evaluate(this._context).toString(),l=null}catch{f="1"}}this._consume(ee.tokens.greater_than,"Expected '>' for array."),i=f?parseInt(f):0}const c=new uE(s.toString(),r,n,i);return l&&this._deferArrayCountEval.push({arrayType:c,countNode:l}),c}return null}_texture_sampler_types(){if(this._match(ee.sampler_type))return new cc(this._previous().toString(),null,null);if(this._match(ee.depth_texture_type))return new cc(this._previous().toString(),null,null);if(this._match(ee.sampled_texture_type)||this._match(ee.multisampled_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const r=this._type_decl();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),new cc(e.toString(),r,null)}if(this._match(ee.storage_texture_type)){const e=this._previous();this._consume(ee.tokens.less_than,"Expected '<' for sampler type.");const r=this._consume(ee.texel_format,"Invalid texel format.").toString();this._consume(ee.tokens.comma,"Expected ',' after texel format.");const n=this._consume(ee.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(ee.tokens.greater_than,"Expected '>' for sampler type."),new cc(e.toString(),r,n)}return null}_attribute(){let e=[];for(;this._match(ee.tokens.attr);){const r=this._consume(ee.attribute_name,"Expected attribute name"),n=new X4(r.toString(),null);if(this._match(ee.tokens.paren_left)){if(n.value=this._consume(ee.literal_or_ident,"Expected attribute value").toString(),this._check(ee.tokens.comma)){this._advance();do{const i=this._consume(ee.literal_or_ident,"Expected attribute value").toString();n.value instanceof Array||(n.value=[n.value]),n.value.push(i)}while(this._match(ee.tokens.comma))}this._consume(ee.tokens.paren_right,"Expected ')'")}e.push(n)}return e.length==0?null:e}}class Ha{constructor(e,r){this.name=e,this.attributes=r,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class Vb{constructor(e,r,n){this.name=e,this.type=r,this.attributes=n,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class yf extends Ha{constructor(e,r){super(e,r),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class Sg extends Ha{constructor(e,r){super(e,r),this.count=0,this.stride=0}get isArray(){return!0}}class Wb extends Ha{constructor(e,r,n,i){super(e,n),this.format=r,this.access=i}get isTemplate(){return!0}}var Ys;(function(t){t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(Ys||(Ys={}));class vf{constructor(e,r,n,i,s,l,c){this.name=e,this.type=r,this.group=n,this.binding=i,this.attributes=s,this.resourceType=l,this.access=c}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class q4{constructor(e,r){this.name=e,this.type=r}}class wf{constructor(e,r){this.align=e,this.size=r}}class Z4{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i,this.interpolation=null}}class Hb{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i}}class Q4{constructor(e,r,n,i){this.name=e,this.type=r,this.attributes=n,this.id=i}}class J4{constructor(e,r){this.name=e,this.type=r}}class G4{constructor(e,r=null){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=r}}class e6{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class t6{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class ys{constructor(e){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new e6,this.functions=[],this._types=new Map,this._functions=new Map,e&&this.update(e)}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}update(e){const n=new K4().parse(e);for(const i of n)i instanceof Fm&&this._functions.set(i.name,new t6(i));for(const i of n)if(i instanceof Eo){const s=this._getTypeInfo(i,null);s instanceof yf&&this.structs.push(s)}for(const i of n){if(i instanceof lE){this.aliases.push(this._getAliasInfo(i));continue}if(i instanceof oE){const s=i,l=this._getAttributeNum(s.attributes,"id",0),c=s.type!=null?this._getTypeInfo(s.type,s.attributes):null;this.overrides.push(new Q4(s.name,c,s.attributes,l));continue}if(this._isUniformVar(i)){const s=i,l=this._getAttributeNum(s.attributes,"group",0),c=this._getAttributeNum(s.attributes,"binding",0),f=this._getTypeInfo(s.type,s.attributes),h=new vf(s.name,f,l,c,s.attributes,Ys.Uniform,s.access);this.uniforms.push(h);continue}if(this._isStorageVar(i)){const s=i,l=this._getAttributeNum(s.attributes,"group",0),c=this._getAttributeNum(s.attributes,"binding",0),f=this._getTypeInfo(s.type,s.attributes),h=this._isStorageTexture(f),y=new vf(s.name,f,l,c,s.attributes,h?Ys.StorageTexture:Ys.Storage,s.access);this.storage.push(y);continue}if(this._isTextureVar(i)){const s=i,l=this._getAttributeNum(s.attributes,"group",0),c=this._getAttributeNum(s.attributes,"binding",0),f=this._getTypeInfo(s.type,s.attributes),h=this._isStorageTexture(f),y=new vf(s.name,f,l,c,s.attributes,h?Ys.StorageTexture:Ys.Texture,s.access);h?this.storage.push(y):this.textures.push(y);continue}if(this._isSamplerVar(i)){const s=i,l=this._getAttributeNum(s.attributes,"group",0),c=this._getAttributeNum(s.attributes,"binding",0),f=this._getTypeInfo(s.type,s.attributes),h=new vf(s.name,f,l,c,s.attributes,Ys.Sampler,s.access);this.samplers.push(h);continue}if(i instanceof Fm){const s=this._getAttribute(i,"vertex"),l=this._getAttribute(i,"fragment"),c=this._getAttribute(i,"compute"),f=s||l||c,h=new G4(i.name,f==null?void 0:f.name);h.startLine=i.startLine,h.endLine=i.endLine,this.functions.push(h),this._functions.get(i.name).info=h,f?(this._functions.get(i.name).inUse=!0,h.inUse=!0,h.resources=this._findResources(i,!!f),h.inputs=this._getInputs(i.args),h.outputs=this._getOutputs(i.returnType),this.entry[f.name].push(h)):(h.arguments=i.args.map(y=>new J4(y.name,this._getTypeInfo(y.type,y.attributes))),h.returnType=i.returnType?this._getTypeInfo(i.returnType,i.attributes):null);continue}}for(const i of this._functions.values())i.info&&(i.info.inUse=i.inUse,this._addCalls(i.node,i.info.calls));for(const i of this._functions.values())i.node.search(s=>{var l;if(s.astNodeType==="varExpr"){const c=s;for(const f of this.overrides)c.name==f.name&&((l=i.info)===null||l===void 0||l.overrides.push(f))}});for(const i of this.uniforms)this._markStructsInUse(i.type);for(const i of this.storage)this._markStructsInUse(i.type)}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const r of e.members)this._markStructsInUse(r.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const r=this._getAlias(e.name);r&&this._markStructsInUse(r)}}_addCalls(e,r){var n;for(const i of e.calls){const s=(n=this._functions.get(i.name))===null||n===void 0?void 0:n.info;s&&r.add(s)}}findResource(e,r){for(const n of this.uniforms)if(n.group==e&&n.binding==r)return n;for(const n of this.storage)if(n.group==e&&n.binding==r)return n;for(const n of this.textures)if(n.group==e&&n.binding==r)return n;for(const n of this.samplers)if(n.group==e&&n.binding==r)return n;return null}_findResource(e){for(const r of this.uniforms)if(r.name==e)return r;for(const r of this.storage)if(r.name==e)return r;for(const r of this.textures)if(r.name==e)return r;for(const r of this.samplers)if(r.name==e)return r;return null}_markStructsFromAST(e){const r=this._getTypeInfo(e,null);this._markStructsInUse(r)}_findResources(e,r){const n=[],i=this,s=[];return e.search(l=>{if(l instanceof id)s.push({});else if(l instanceof sd)s.pop();else if(l instanceof xo){const c=l;r&&c.type!==null&&this._markStructsFromAST(c.type),s.length>0&&(s[s.length-1][c.name]=c)}else if(l instanceof Fa){const c=l;r&&c.type!==null&&this._markStructsFromAST(c.type)}else if(l instanceof Dm){const c=l;r&&c.type!==null&&this._markStructsFromAST(c.type),s.length>0&&(s[s.length-1][c.name]=c)}else if(l instanceof Bm){const c=l;if(s.length>0&&s[s.length-1][c.name])return;const f=i._findResource(c.name);f&&n.push(f)}else if(l instanceof fE){const c=l,f=i._functions.get(c.name);f&&(r&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=i._findResources(f.node,r)),n.push(...f.resources))}else if(l instanceof aE){const c=l,f=i._functions.get(c.name);f&&(r&&(f.inUse=!0),e.calls.add(f.node),f.resources===null&&(f.resources=i._findResources(f.node,r)),n.push(...f.resources))}}),[...new Map(n.map(l=>[l.name,l])).values()]}getBindGroups(){const e=[];function r(n,i){n>=e.length&&(e.length=n+1),e[n]===void 0&&(e[n]=[]),i>=e[n].length&&(e[n].length=i+1)}for(const n of this.uniforms){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.storage){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.textures){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.samplers){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}return e}_getOutputs(e,r=void 0){if(r===void 0&&(r=[]),e instanceof Eo)this._getStructOutputs(e,r);else{const n=this._getOutputInfo(e);n!==null&&r.push(n)}return r}_getStructOutputs(e,r){for(const n of e.members)if(n.type instanceof Eo)this._getStructOutputs(n.type,r);else{const i=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(i!==null){const s=this._getTypeInfo(n.type,n.type.attributes),l=this._parseInt(i.value),c=new Hb(n.name,s,i.name,l);r.push(c)}}}_getOutputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this._getTypeInfo(e,e.attributes),i=this._parseInt(r.value);return new Hb("",n,r.name,i)}return null}_getInputs(e,r=void 0){r===void 0&&(r=[]);for(const n of e)if(n.type instanceof Eo)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}return r}_getStructInputs(e,r){for(const n of e.members)if(n.type instanceof Eo)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}}_getInputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this._getAttribute(e,"interpolation"),i=this._getTypeInfo(e.type,e.attributes),s=this._parseInt(r.value),l=new Z4(e.name,i,r.name,s);return n!==null&&(l.interpolation=this._parseString(n.value)),l}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const r=parseInt(e);return isNaN(r)?e:r}_getAlias(e){for(const r of this.aliases)if(r.name==e)return r.type;return null}_getAliasInfo(e){return new q4(e.name,this._getTypeInfo(e.type,null))}_getTypeInfo(e,r){if(this._types.has(e))return this._types.get(e);if(e instanceof uE){const i=e,s=i.format?this._getTypeInfo(i.format,i.attributes):null,l=new Sg(i.name,r);return l.format=s,l.count=i.count,this._types.set(e,l),this._updateTypeInfo(l),l}if(e instanceof Eo){const i=e,s=new yf(i.name,r);s.startLine=i.startLine,s.endLine=i.endLine;for(const l of i.members){const c=this._getTypeInfo(l.type,l.attributes);s.members.push(new Vb(l.name,c,l.attributes))}return this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof cc){const i=e,s=i.format instanceof Zo,l=i.format?s?this._getTypeInfo(i.format,null):new Ha(i.format,null):null,c=new Wb(i.name,l,r,i.access);return this._types.set(e,c),this._updateTypeInfo(c),c}if(e instanceof cE){const i=e,s=i.format?this._getTypeInfo(i.format,null):null,l=new Wb(i.name,s,r,i.access);return this._types.set(e,l),this._updateTypeInfo(l),l}const n=new Ha(e.name,r);return this._types.set(e,n),this._updateTypeInfo(n),n}_updateTypeInfo(e){var r,n;const i=this._getTypeSize(e);if(e.size=(r=i==null?void 0:i.size)!==null&&r!==void 0?r:0,e instanceof Sg&&e.format){const s=this._getTypeSize(e.format);e.stride=(n=s==null?void 0:s.size)!==null&&n!==void 0?n:0,this._updateTypeInfo(e.format)}e instanceof yf&&this._updateStructInfo(e)}_updateStructInfo(e){var r;let n=0,i=0,s=0,l=0;for(let c=0,f=e.members.length;c<f;++c){const h=e.members[c],y=this._getTypeSize(h);if(!y)continue;(r=this._getAlias(h.type.name))!==null&&r!==void 0||h.type;const b=y.align,w=y.size;n=this._roundUp(b,n+i),i=w,s=n,l=Math.max(l,b),h.offset=n,h.size=w,this._updateTypeInfo(h.type)}e.size=this._roundUp(l,s+i),e.align=l}_getTypeSize(e){var r,n;if(e==null)return null;const i=this._getAttributeNum(e.attributes,"size",0),s=this._getAttributeNum(e.attributes,"align",0);if(e instanceof Vb&&(e=e.type),e instanceof Ha){const l=this._getAlias(e.name);l!==null&&(e=l)}{const l=ys._typeInfo[e.name];if(l!==void 0){const c=((r=e.format)===null||r===void 0?void 0:r.name)==="f16"?2:1;return new wf(Math.max(s,l.align/c),Math.max(i,l.size/c))}}{const l=ys._typeInfo[e.name.substring(0,e.name.length-1)];if(l){const c=e.name[e.name.length-1]==="h"?2:1;return new wf(Math.max(s,l.align/c),Math.max(i,l.size/c))}}if(e instanceof Sg){let l=e,c=8,f=8;const h=this._getTypeSize(l.format);h!==null&&(f=h.size,c=h.align);const y=l.count,b=this._getAttributeNum((n=e==null?void 0:e.attributes)!==null&&n!==void 0?n:null,"stride",this._roundUp(c,f));return f=y*b,i&&(f=i),new wf(Math.max(s,c),Math.max(i,f))}if(e instanceof yf){let l=0,c=0,f=0,h=0,y=0;for(const b of e.members){const w=this._getTypeSize(b.type);w!==null&&(l=Math.max(w.align,l),f=this._roundUp(w.align,f+h),h=w.size,y=f)}return c=this._roundUp(l,y+h),new wf(Math.max(s,l),Math.max(i,c))}return null}_isUniformVar(e){return e instanceof xo&&e.storage=="uniform"}_isStorageVar(e){return e instanceof xo&&e.storage=="storage"}_isTextureVar(e){return e instanceof xo&&e.type!==null&&ys._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof xo&&e.type!==null&&ys._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,r){const n=e;if(!n||!n.attributes)return null;const i=n.attributes;for(let s of i)if(s.name==r)return s;return null}_getAttributeNum(e,r,n){if(e===null)return n;for(let i of e)if(i.name==r){let s=i!==null&&i.value!==null?i.value:n;return s instanceof Array&&(s=s[0]),typeof s=="number"?s:typeof s=="string"?parseInt(s):n}return n}_roundUp(e,r){return Math.ceil(r/e)*e}}ys._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}};ys._textureTypes=ee.any_texture_type.map(t=>t.name);ys._samplerTypes=ee.sampler_type.map(t=>t.name);function r6(t){var s;const e={attributes:[],bindings:[]};let r;try{r=n6(t)}catch(l){return Ze.error(l.message)(),e}for(const l of r.uniforms){const c=[];for(const f of((s=l.type)==null?void 0:s.members)||[])c.push({name:f.name,type:Xb(f.type)});e.bindings.push({type:"uniform",name:l.name,location:l.binding,group:l.group,members:c})}const n=r.entry.vertex[0],i=(n==null?void 0:n.inputs.length)||0;for(let l=0;l<i;l++){const c=n.inputs[l];if(c.locationType==="location"){const f=Xb(c.type);e.attributes.push({name:c.name,location:Number(c.location),type:f})}}return e}function Xb(t){return t.format?`${t.name}<${t.format.name}>`:t.name}function n6(t){try{return new ys(t)}catch(e){if(e instanceof Error)throw e;let r="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(r+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(r+=e.token.line||""),new Error(r,{cause:e})}}const i6=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;
const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;
const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;
const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;
float sin_taylor_fp32(float a) {
float r, s, t, x;
if (a == 0.0) {
return 0.0;
}
x = -a * a;
s = a;
r = a;
r = r * x;
t = r * INVERSE_FACTORIAL_3;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_5;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_7;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_9;
s = s + t;
return s;
}
void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
if (a == 0.0) {
sin_t = 0.0;
cos_t = 1.0;
}
sin_t = sin_taylor_fp32(a);
cos_t = sqrt(1.0 - sin_t * sin_t);
}
float tan_taylor_fp32(float a) {
float sin_a;
float cos_a;
if (a == 0.0) {
return 0.0;
}
float z = floor(a / TWO_PI);
float r = a - TWO_PI * z;
float t;
float q = floor(r / PI_2 + 0.5);
int j = int(q);
if (j < -2 || j > 2) {
return 1.0 / 0.0;
}
t = r - PI_2 * q;
q = floor(t / PI_16 + 0.5);
int k = int(q);
int abs_k = int(abs(float(k)));
if (abs_k > 4) {
return 1.0 / 0.0;
} else {
t = t - PI_16 * q;
}
float u = 0.0;
float v = 0.0;
float sin_t, cos_t;
float s, c;
sincos_taylor_fp32(t, sin_t, cos_t);
if (k == 0) {
s = sin_t;
c = cos_t;
} else {
if (abs(float(abs_k) - 1.0) < 0.5) {
u = COS_TABLE_0;
v = SIN_TABLE_0;
} else if (abs(float(abs_k) - 2.0) < 0.5) {
u = COS_TABLE_1;
v = SIN_TABLE_1;
} else if (abs(float(abs_k) - 3.0) < 0.5) {
u = COS_TABLE_2;
v = SIN_TABLE_2;
} else if (abs(float(abs_k) - 4.0) < 0.5) {
u = COS_TABLE_3;
v = SIN_TABLE_3;
}
if (k > 0) {
s = u * sin_t + v * cos_t;
c = u * cos_t - v * sin_t;
} else {
s = u * sin_t - v * cos_t;
c = u * cos_t + v * sin_t;
}
}
if (j == 0) {
sin_a = s;
cos_a = c;
} else if (j == 1) {
sin_a = c;
cos_a = -s;
} else if (j == -1) {
sin_a = -c;
cos_a = s;
} else {
sin_a = -s;
cos_a = -c;
}
return sin_a / cos_a;
}
#endif
float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
return tan_taylor_fp32(a);
#else
return tan(a);
#endif
}
`,s6={name:"fp32",vs:i6},o6=[0,1,1,1],a6=`uniform pickingUniforms {
float isActive;
float isAttribute;
float isHighlightActive;
float useFloatColors;
vec3 highlightedObjectColor;
vec4 highlightColor;
} picking;
out vec4 picking_vRGBcolor_Avalid;
vec3 picking_normalizeColor(vec3 color) {
return picking.useFloatColors > 0.5 ? color : color / 255.0;
}
vec4 picking_normalizeColor(vec4 color) {
return picking.useFloatColors > 0.5 ? color : color / 255.0;
}
bool picking_isColorZero(vec3 color) {
return dot(color, vec3(1.0)) < 0.00001;
}
bool picking_isColorValid(vec3 color) {
return dot(color, vec3(1.0)) > 0.00001;
}
bool isVertexHighlighted(vec3 vertexColor) {
vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
return
bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}
void picking_setPickingColor(vec3 pickingColor) {
pickingColor = picking_normalizeColor(pickingColor);
if (bool(picking.isActive)) {
picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));
if (!bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rgb = pickingColor;
}
} else {
picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
}
}
void picking_setPickingAttribute(float value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.r = value;
}
}
void picking_setPickingAttribute(vec2 value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rg = value;
}
}
void picking_setPickingAttribute(vec3 value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rgb = value;
}
}
`,l6=`uniform pickingUniforms {
float isActive;
float isAttribute;
float isHighlightActive;
float useFloatColors;
vec3 highlightedObjectColor;
vec4 highlightColor;
} picking;
in vec4 picking_vRGBcolor_Avalid;
vec4 picking_filterHighlightColor(vec4 color) {
if (picking.isActive > 0.5) {
return color;
}
bool selected = bool(picking_vRGBcolor_Avalid.a);
if (selected) {
float highLightAlpha = picking.highlightColor.a;
float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
float highLightRatio = highLightAlpha / blendedAlpha;
vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
return vec4(blendedRGB, blendedAlpha);
} else {
return color;
}
}
vec4 picking_filterPickingColor(vec4 color) {
if (bool(picking.isActive)) {
if (picking_vRGBcolor_Avalid.a == 0.0) {
discard;
}
return picking_vRGBcolor_Avalid;
}
return color;
}
vec4 picking_filterColor(vec4 color) {
vec4 highlightColor = picking_filterHighlightColor(color);
return picking_filterPickingColor(highlightColor);
}
`,Yb={name:"picking",vs:a6,fs:l6,uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:o6},getUniforms:c6};function c6(t={},e){const r={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)r.isHighlightActive=!1;else{r.isHighlightActive=!0;const n=t.highlightedObjectColor.slice(0,3);r.highlightedObjectColor=n}if(t.highlightColor){const n=Array.from(t.highlightColor,i=>i/255);Number.isFinite(n[3])||(n[3]=1),r.highlightColor=n}return t.isActive!==void 0&&(r.isActive=!!t.isActive,r.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(r.useFloatColors=!!t.useFloatColors),r}function pE(t,e=[],r=0){const n=Math.fround(t),i=t-n;return e[r]=n,e[r+1]=i,e}function u6(t){return t-Math.fround(t)}function f6(t){const e=new Float32Array(32);for(let r=0;r<4;++r)for(let n=0;n<4;++n){const i=r*4+n;pE(t[n*4+r],e,i*2)}return e}const d6=`uniform float ONE;
vec2 split(float a) {
const float SPLIT = 4097.0;
float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float a_hi = t * ONE - (t - a);
float a_lo = a * ONE - a_hi;
#else
float a_hi = t - (t - a);
float a_lo = a - a_hi;
#endif
return vec2(a_hi, a_lo);
}
vec2 split2(vec2 a) {
vec2 b = split(a.x);
b.y += a.y;
return b;
}
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float sum = (a + b) * ONE;
float err = b - (sum - a) * ONE;
#else
float sum = a + b;
float err = b - (sum - a);
#endif
return vec2(sum, err);
}
vec2 twoSum(float a, float b) {
float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float v = (s * ONE - a) * ONE;
float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);
#else
float v = s - a;
float err = (a - (s - v)) + (b - v);
#endif
return vec2(s, err);
}
vec2 twoSub(float a, float b) {
float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float v = (s * ONE - a) * ONE;
float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);
#else
float v = s - a;
float err = (a - (s - v)) - (b + v);
#endif
return vec2(s, err);
}
vec2 twoSqr(float a) {
float prod = a * a;
vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *
a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;
#else
float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
return vec2(prod, err);
}
vec2 twoProd(float a, float b) {
float prod = a * b;
vec2 a_fp64 = split(a);
vec2 b_fp64 = split(b);
float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
return vec2(prod, err);
}
vec2 sum_fp64(vec2 a, vec2 b) {
vec2 s, t;
s = twoSum(a.x, b.x);
t = twoSum(a.y, b.y);
s.y += t.x;
s = quickTwoSum(s.x, s.y);
s.y += t.y;
s = quickTwoSum(s.x, s.y);
return s;
}
vec2 sub_fp64(vec2 a, vec2 b) {
vec2 s, t;
s = twoSub(a.x, b.x);
t = twoSub(a.y, b.y);
s.y += t.x;
s = quickTwoSum(s.x, s.y);
s.y += t.y;
s = quickTwoSum(s.x, s.y);
return s;
}
vec2 mul_fp64(vec2 a, vec2 b) {
vec2 prod = twoProd(a.x, b.x);
prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
prod = split2(prod);
#endif
prod = quickTwoSum(prod.x, prod.y);
prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
prod = split2(prod);
#endif
prod = quickTwoSum(prod.x, prod.y);
return prod;
}
vec2 div_fp64(vec2 a, vec2 b) {
float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
vec2 yn = a * xn;
#endif
float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
vec2 prod = twoProd(xn, diff);
return sum_fp64(yn, prod);
}
vec2 sqrt_fp64(vec2 a) {
if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);
float x = 1.0 / sqrt(a.x);
float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
vec2 yn_sqr = twoSqr(yn) * ONE;
#else
vec2 yn_sqr = twoSqr(yn);
#endif
float diff = sub_fp64(a, yn_sqr).x;
vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
return sum_fp64(split(yn), prod);
#else
return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,h6={ONE:1};function p6(){return h6}const g6={name:"fp64-arithmetic",vs:d6,getUniforms:p6,fp64ify:pE,fp64LowPart:u6,fp64ifyMatrix4:f6},m6={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...m6}};const yi=globalThis.mathgl.config;function _6(t,{precision:e=yi.precision}={}){return t=y6(t),`${parseFloat(t.toPrecision(e))}`}function Ga(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ri(t,e,r){return w6(t,n=>Math.max(e,Math.min(r,n)))}function od(t,e,r){return Ga(t)?t.map((n,i)=>od(n,e[i],r)):r*e+(1-r)*t}function Oc(t,e,r){const n=yi.EPSILON;try{if(t===e)return!0;if(Ga(t)&&Ga(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Oc(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=yi.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{yi.EPSILON=n}}function y6(t){return Math.round(t/yi.EPSILON)*yi.EPSILON}function v6(t){return t.clone?t.clone():new Array(t.length)}function w6(t,e,r){if(Ga(t)){const n=t;r=r||v6(n);for(let i=0;i<r.length&&i<n.length;++i){const s=typeof t=="number"?t:t[i];r[i]=e(s,i,r)}return r}return e(t)}class gE extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,r=0){for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+r];return this.check()}toArray(e=[],r=0){for(let n=0;n<this.ELEMENTS;++n)e[r+n]=this[n];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Ga(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(yi)}formatString(e){let r="";for(let n=0;n<this.ELEMENTS;++n)r+=(n>0?", ":"")+_6(this[n],e);return`${e.printTypes?this.constructor.name:""}[${r}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(!Oc(this[r],e[r]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(this[r]!==e[r])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,r,n){if(n===void 0)return this.lerp(this,e,r);for(let i=0;i<this.ELEMENTS;++i){const s=e[i],l=typeof r=="number"?r:r[i];this[i]=s+n*(l-s)}return this.check()}min(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(e[r],this[r]);return this.check()}max(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.max(e[r],this[r]);return this.check()}clamp(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),r[n]);return this.check()}add(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]+=r[n];return this.check()}subtract(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]-=r[n];return this.check()}scale(e){if(typeof e=="number")for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;else for(let r=0;r<this.ELEMENTS&&r<e.length;++r)this[r]*=e[r];return this.check()}multiplyByScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}check(){if(yi.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let r=0;r<this.ELEMENTS;++r)e=e&&Number.isFinite(this[r]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=e;return this.check()}addScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),r);return this.check()}get elements(){return this}}function b6(t,e){if(t.length!==e)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function ei(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function Tg(t,e,r=""){if(yi.debug&&!b6(t,e))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`);return t}function Kb(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class S6 extends gE{get x(){return this[0]}set x(e){this[0]=ei(e)}get y(){return this[1]}set y(e){this[1]=ei(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*this[r];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let r=0;for(let n=0;n<this.ELEMENTS;++n){const i=this[n]-e[n];r+=i*i}return ei(r)}dot(e){let r=0;for(let n=0;n<this.ELEMENTS;++n)r+=this[n]*e[n];return ei(r)}normalize(){const e=this.magnitude();if(e!==0)for(let r=0;r<this.ELEMENTS;++r)this[r]/=e;return this.check()}multiply(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]*=r[n];return this.check()}divide(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]/=r[n];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Kb(e>=0&&e<this.ELEMENTS,"index is out of range"),ei(this[e])}setComponent(e,r){return Kb(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=r,this.check()}addVectors(e,r){return this.copy(e).add(r)}subVectors(e,r){return this.copy(e).subtract(r)}multiplyVectors(e,r){return this.copy(e).multiply(r)}addScaledVector(e,r){return this.add(new this.constructor(e).multiplyScalar(r))}}const Ff=1e-6;let el=typeof Float32Array<"u"?Float32Array:Array;function T6(){const t=new el(2);return el!=Float32Array&&(t[0]=0,t[1]=0),t}function qb(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function E6(t,e){return t[0]=-e[0],t[1]=-e[1],t}function mE(t,e,r,n){const i=e[0],s=e[1];return t[0]=i+n*(r[0]-i),t[1]=s+n*(r[1]-s),t}function R6(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}(function(){const t=T6();return function(e,r,n,i,s,l){let c,f;for(r||(r=2),n||(n=0),i?f=Math.min(i*r+n,e.length):f=e.length,c=n;c<f;c+=r)t[0]=e[c],t[1]=e[c+1],s(t,t,l),e[c]=t[0],e[c+1]=t[1];return e}})();function x6(t,e,r){const n=e[0],i=e[1],s=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/s,t[1]=(r[1]*n+r[5]*i)/s,t}function _E(t,e,r){const n=e[0],i=e[1],s=e[2],l=r[3]*n+r[7]*i+r[11]*s||1;return t[0]=(r[0]*n+r[4]*i+r[8]*s)/l,t[1]=(r[1]*n+r[5]*i+r[9]*s)/l,t[2]=(r[2]*n+r[6]*i+r[10]*s)/l,t}function C6(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function A6(){const t=new el(3);return el!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function P6(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function M6(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function k6(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function I6(t,e,r){const n=e[0],i=e[1],s=e[2],l=r[0],c=r[1],f=r[2];return t[0]=i*f-s*c,t[1]=s*l-n*f,t[2]=n*c-i*l,t}function yE(t,e,r){const n=e[0],i=e[1],s=e[2];let l=r[3]*n+r[7]*i+r[11]*s+r[15];return l=l||1,t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/l,t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/l,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/l,t}function N6(t,e,r){const n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t}function O6(t,e,r){const n=r[0],i=r[1],s=r[2],l=r[3],c=e[0],f=e[1],h=e[2];let y=i*h-s*f,b=s*c-n*h,w=n*f-i*c,x=i*w-s*b,A=s*y-n*w,E=n*b-i*y;const k=l*2;return y*=k,b*=k,w*=k,x*=2,A*=2,E*=2,t[0]=c+y+x,t[1]=f+b+A,t[2]=h+w+E,t}function F6(t,e,r,n){const i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0],s[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),s[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function D6(t,e,r,n){const i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),s[1]=i[1],s[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function B6(t,e,r,n){const i=[],s=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],s[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),s[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),s[2]=i[2],t[0]=s[0]+r[0],t[1]=s[1]+r[1],t[2]=s[2]+r[2],t}function U6(t,e){const r=t[0],n=t[1],i=t[2],s=e[0],l=e[1],c=e[2],f=Math.sqrt((r*r+n*n+i*i)*(s*s+l*l+c*c)),h=f&&k6(t,e)/f;return Math.acos(Math.min(Math.max(h,-1),1))}const L6=P6;(function(){const t=A6();return function(e,r,n,i,s,l){let c,f;for(r||(r=3),n||(n=0),i?f=Math.min(i*r+n,e.length):f=e.length,c=n;c<f;c+=r)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],s(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2];return e}})();const Eg=[0,0,0];let bf;class ts extends S6{static get ZERO(){return bf||(bf=new ts(0,0,0),Object.freeze(bf)),bf}constructor(e=0,r=0,n=0){super(-0,-0,-0),arguments.length===1&&Ga(e)?this.copy(e):(yi.debug&&(ei(e),ei(r),ei(n)),this[0]=e,this[1]=r,this[2]=n)}set(e,r,n){return this[0]=e,this[1]=r,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return yi.debug&&(ei(e.x),ei(e.y),ei(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=ei(e)}angle(e){return U6(this,e)}cross(e){return I6(this,this,e),this.check()}rotateX({radians:e,origin:r=Eg}){return F6(this,this,r,e),this.check()}rotateY({radians:e,origin:r=Eg}){return D6(this,this,r,e),this.check()}rotateZ({radians:e,origin:r=Eg}){return B6(this,this,r,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return yE(this,this,e),this.check()}transformAsVector(e){return _E(this,this,e),this.check()}transformByMatrix3(e){return N6(this,this,e),this.check()}transformByMatrix2(e){return C6(this,this,e),this.check()}transformByQuaternion(e){return O6(this,this,e),this.check()}}let j6=class extends gE{toString(){let e="[";if(yi.printRowMajor){e+="row-major:";for(let r=0;r<this.RANK;++r)for(let n=0;n<this.RANK;++n)e+=` ${this[n*this.RANK+r]}`}else{e+="column-major:";for(let r=0;r<this.ELEMENTS;++r)e+=` ${this[r]}`}return e+="]",e}getElementIndex(e,r){return r*this.RANK+e}getElement(e,r){return this[r*this.RANK+e]}setElement(e,r,n){return this[r*this.RANK+e]=ei(n),this}getColumn(e,r=new Array(this.RANK).fill(-0)){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)r[i]=this[n+i];return r}setColumn(e,r){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)this[n+i]=r[i];return this}};function z6(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $6(t,e){if(t===e){const r=e[1],n=e[2],i=e[3],s=e[6],l=e[7],c=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=i,t[13]=l,t[14]=c}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Um(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],l=e[4],c=e[5],f=e[6],h=e[7],y=e[8],b=e[9],w=e[10],x=e[11],A=e[12],E=e[13],k=e[14],O=e[15],N=r*c-n*l,M=r*f-i*l,R=r*h-s*l,P=n*f-i*c,I=n*h-s*c,j=i*h-s*f,te=y*E-b*A,oe=y*k-w*A,C=y*O-x*A,F=b*k-w*E,K=b*O-x*E,V=w*O-x*k;let Q=N*V-M*K+R*F+P*C-I*oe+j*te;return Q?(Q=1/Q,t[0]=(c*V-f*K+h*F)*Q,t[1]=(i*K-n*V-s*F)*Q,t[2]=(E*j-k*I+O*P)*Q,t[3]=(w*I-b*j-x*P)*Q,t[4]=(f*C-l*V-h*oe)*Q,t[5]=(r*V-i*C+s*oe)*Q,t[6]=(k*R-A*j-O*M)*Q,t[7]=(y*j-w*R+x*M)*Q,t[8]=(l*K-c*C+h*te)*Q,t[9]=(n*C-r*K-s*te)*Q,t[10]=(A*I-E*R+O*N)*Q,t[11]=(b*R-y*I-x*N)*Q,t[12]=(c*oe-l*F-f*te)*Q,t[13]=(r*F-n*oe+i*te)*Q,t[14]=(E*M-A*P-k*N)*Q,t[15]=(y*P-b*M+w*N)*Q,t):null}function V6(t){const e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],l=t[5],c=t[6],f=t[7],h=t[8],y=t[9],b=t[10],w=t[11],x=t[12],A=t[13],E=t[14],k=t[15],O=e*l-r*s,N=e*c-n*s,M=r*c-n*l,R=h*A-y*x,P=h*E-b*x,I=y*E-b*A,j=e*I-r*P+n*R,te=s*I-l*P+c*R,oe=h*M-y*N+b*O,C=x*M-A*N+E*O;return f*j-i*te+k*oe-w*C}function Do(t,e,r){const n=e[0],i=e[1],s=e[2],l=e[3],c=e[4],f=e[5],h=e[6],y=e[7],b=e[8],w=e[9],x=e[10],A=e[11],E=e[12],k=e[13],O=e[14],N=e[15];let M=r[0],R=r[1],P=r[2],I=r[3];return t[0]=M*n+R*c+P*b+I*E,t[1]=M*i+R*f+P*w+I*k,t[2]=M*s+R*h+P*x+I*O,t[3]=M*l+R*y+P*A+I*N,M=r[4],R=r[5],P=r[6],I=r[7],t[4]=M*n+R*c+P*b+I*E,t[5]=M*i+R*f+P*w+I*k,t[6]=M*s+R*h+P*x+I*O,t[7]=M*l+R*y+P*A+I*N,M=r[8],R=r[9],P=r[10],I=r[11],t[8]=M*n+R*c+P*b+I*E,t[9]=M*i+R*f+P*w+I*k,t[10]=M*s+R*h+P*x+I*O,t[11]=M*l+R*y+P*A+I*N,M=r[12],R=r[13],P=r[14],I=r[15],t[12]=M*n+R*c+P*b+I*E,t[13]=M*i+R*f+P*w+I*k,t[14]=M*s+R*h+P*x+I*O,t[15]=M*l+R*y+P*A+I*N,t}function ad(t,e,r){const n=r[0],i=r[1],s=r[2];let l,c,f,h,y,b,w,x,A,E,k,O;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*s+e[12],t[13]=e[1]*n+e[5]*i+e[9]*s+e[13],t[14]=e[2]*n+e[6]*i+e[10]*s+e[14],t[15]=e[3]*n+e[7]*i+e[11]*s+e[15]):(l=e[0],c=e[1],f=e[2],h=e[3],y=e[4],b=e[5],w=e[6],x=e[7],A=e[8],E=e[9],k=e[10],O=e[11],t[0]=l,t[1]=c,t[2]=f,t[3]=h,t[4]=y,t[5]=b,t[6]=w,t[7]=x,t[8]=A,t[9]=E,t[10]=k,t[11]=O,t[12]=l*n+y*i+A*s+e[12],t[13]=c*n+b*i+E*s+e[13],t[14]=f*n+w*i+k*s+e[14],t[15]=h*n+x*i+O*s+e[15]),t}function Y0(t,e,r){const n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function W6(t,e,r,n){let i=n[0],s=n[1],l=n[2],c=Math.sqrt(i*i+s*s+l*l),f,h,y,b,w,x,A,E,k,O,N,M,R,P,I,j,te,oe,C,F,K,V,Q,J;return c<Ff?null:(c=1/c,i*=c,s*=c,l*=c,h=Math.sin(r),f=Math.cos(r),y=1-f,b=e[0],w=e[1],x=e[2],A=e[3],E=e[4],k=e[5],O=e[6],N=e[7],M=e[8],R=e[9],P=e[10],I=e[11],j=i*i*y+f,te=s*i*y+l*h,oe=l*i*y-s*h,C=i*s*y-l*h,F=s*s*y+f,K=l*s*y+i*h,V=i*l*y+s*h,Q=s*l*y-i*h,J=l*l*y+f,t[0]=b*j+E*te+M*oe,t[1]=w*j+k*te+R*oe,t[2]=x*j+O*te+P*oe,t[3]=A*j+N*te+I*oe,t[4]=b*C+E*F+M*K,t[5]=w*C+k*F+R*K,t[6]=x*C+O*F+P*K,t[7]=A*C+N*F+I*K,t[8]=b*V+E*Q+M*J,t[9]=w*V+k*Q+R*J,t[10]=x*V+O*Q+P*J,t[11]=A*V+N*Q+I*J,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function vE(t,e,r){const n=Math.sin(r),i=Math.cos(r),s=e[4],l=e[5],c=e[6],f=e[7],h=e[8],y=e[9],b=e[10],w=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+h*n,t[5]=l*i+y*n,t[6]=c*i+b*n,t[7]=f*i+w*n,t[8]=h*i-s*n,t[9]=y*i-l*n,t[10]=b*i-c*n,t[11]=w*i-f*n,t}function H6(t,e,r){const n=Math.sin(r),i=Math.cos(r),s=e[0],l=e[1],c=e[2],f=e[3],h=e[8],y=e[9],b=e[10],w=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-h*n,t[1]=l*i-y*n,t[2]=c*i-b*n,t[3]=f*i-w*n,t[8]=s*n+h*i,t[9]=l*n+y*i,t[10]=c*n+b*i,t[11]=f*n+w*i,t}function wE(t,e,r){const n=Math.sin(r),i=Math.cos(r),s=e[0],l=e[1],c=e[2],f=e[3],h=e[4],y=e[5],b=e[6],w=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+h*n,t[1]=l*i+y*n,t[2]=c*i+b*n,t[3]=f*i+w*n,t[4]=h*i-s*n,t[5]=y*i-l*n,t[6]=b*i-c*n,t[7]=w*i-f*n,t}function X6(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],l=r+r,c=n+n,f=i+i,h=r*l,y=n*l,b=n*c,w=i*l,x=i*c,A=i*f,E=s*l,k=s*c,O=s*f;return t[0]=1-b-A,t[1]=y+O,t[2]=w-k,t[3]=0,t[4]=y-O,t[5]=1-h-A,t[6]=x+E,t[7]=0,t[8]=w+k,t[9]=x-E,t[10]=1-h-b,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Y6(t,e,r,n,i,s,l){const c=1/(r-e),f=1/(i-n),h=1/(s-l);return t[0]=s*2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s*2*f,t[6]=0,t[7]=0,t[8]=(r+e)*c,t[9]=(i+n)*f,t[10]=(l+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*s*2*h,t[15]=0,t}function K6(t,e,r,n,i){const s=1/Math.tan(e/2);if(t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const l=1/(n-i);t[10]=(i+n)*l,t[14]=2*i*n*l}else t[10]=-1,t[14]=-2*n;return t}const q6=K6;function Z6(t,e,r,n,i,s,l){const c=1/(e-r),f=1/(n-i),h=1/(s-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*c,t[13]=(i+n)*f,t[14]=(l+s)*h,t[15]=1,t}const Q6=Z6;function J6(t,e,r,n){let i,s,l,c,f,h,y,b,w,x;const A=e[0],E=e[1],k=e[2],O=n[0],N=n[1],M=n[2],R=r[0],P=r[1],I=r[2];return Math.abs(A-R)<Ff&&Math.abs(E-P)<Ff&&Math.abs(k-I)<Ff?z6(t):(b=A-R,w=E-P,x=k-I,i=1/Math.sqrt(b*b+w*w+x*x),b*=i,w*=i,x*=i,s=N*x-M*w,l=M*b-O*x,c=O*w-N*b,i=Math.sqrt(s*s+l*l+c*c),i?(i=1/i,s*=i,l*=i,c*=i):(s=0,l=0,c=0),f=w*c-x*l,h=x*s-b*c,y=b*l-w*s,i=Math.sqrt(f*f+h*h+y*y),i?(i=1/i,f*=i,h*=i,y*=i):(f=0,h=0,y=0),t[0]=s,t[1]=f,t[2]=b,t[3]=0,t[4]=l,t[5]=h,t[6]=w,t[7]=0,t[8]=c,t[9]=y,t[10]=x,t[11]=0,t[12]=-(s*A+l*E+c*k),t[13]=-(f*A+h*E+y*k),t[14]=-(b*A+w*E+x*k),t[15]=1,t)}function G6(){const t=new el(4);return el!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function eU(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Zc(t,e,r){const n=e[0],i=e[1],s=e[2],l=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*l,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*l,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*l,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*l,t}(function(){const t=G6();return function(e,r,n,i,s,l){let c,f;for(r||(r=4),n||(n=0),i?f=Math.min(i*r+n,e.length):f=e.length,c=n;c<f;c+=r)t[0]=e[c],t[1]=e[c+1],t[2]=e[c+2],t[3]=e[c+3],s(t,t,l),e[c]=t[0],e[c+1]=t[1],e[c+2]=t[2],e[c+3]=t[3];return e}})();var Lm;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(Lm||(Lm={}));const tU=45*Math.PI/180,rU=1,Rg=.1,xg=500,nU=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Oi extends j6{static get IDENTITY(){return sU()}static get ZERO(){return iU()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return Lm}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,r,n,i,s,l,c,f,h,y,b,w,x,A,E,k){return this[0]=e,this[1]=r,this[2]=n,this[3]=i,this[4]=s,this[5]=l,this[6]=c,this[7]=f,this[8]=h,this[9]=y,this[10]=b,this[11]=w,this[12]=x,this[13]=A,this[14]=E,this[15]=k,this.check()}setRowMajor(e,r,n,i,s,l,c,f,h,y,b,w,x,A,E,k){return this[0]=e,this[1]=s,this[2]=h,this[3]=x,this[4]=r,this[5]=l,this[6]=y,this[7]=A,this[8]=n,this[9]=c,this[10]=b,this[11]=E,this[12]=i,this[13]=f,this[14]=w,this[15]=k,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(nU)}fromObject(e){return this.check()}fromQuaternion(e){return X6(this,e),this.check()}frustum(e){const{left:r,right:n,bottom:i,top:s,near:l=Rg,far:c=xg}=e;return c===1/0?oU(this,r,n,i,s,l):Y6(this,r,n,i,s,l,c),this.check()}lookAt(e){const{eye:r,center:n=[0,0,0],up:i=[0,1,0]}=e;return J6(this,r,n,i),this.check()}ortho(e){const{left:r,right:n,bottom:i,top:s,near:l=Rg,far:c=xg}=e;return Q6(this,r,n,i,s,l,c),this.check()}orthographic(e){const{fovy:r=tU,aspect:n=rU,focalDistance:i=1,near:s=Rg,far:l=xg}=e;Zb(r);const c=r/2,f=i*Math.tan(c),h=f*n;return this.ortho({left:-h,right:h,bottom:-f,top:f,near:s,far:l})}perspective(e){const{fovy:r=45*Math.PI/180,aspect:n=1,near:i=.1,far:s=500}=e;return Zb(r),q6(this,r,n,i,s),this.check()}determinant(){return V6(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],s=1/n[1],l=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*s,e[2]=this[2]*l,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*s,e[6]=this[6]*l,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*s,e[10]=this[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],s=1/n[1],l=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*s,e[2]=this[2]*l,e[3]=this[4]*i,e[4]=this[5]*s,e[5]=this[6]*l,e[6]=this[8]*i,e[7]=this[9]*s,e[8]=this[10]*l,e}transpose(){return $6(this,this),this.check()}invert(){return Um(this,this),this.check()}multiplyLeft(e){return Do(this,e,this),this.check()}multiplyRight(e){return Do(this,this,e),this.check()}rotateX(e){return vE(this,this,e),this.check()}rotateY(e){return H6(this,this,e),this.check()}rotateZ(e){return wE(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,r){return W6(this,this,e,r),this.check()}scale(e){return Y0(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return ad(this,this,e),this.check()}transform(e,r){return e.length===4?(r=Zc(r||[-0,-0,-0,-0],e,this),Tg(r,4),r):this.transformAsPoint(e,r)}transformAsPoint(e,r){const{length:n}=e;let i;switch(n){case 2:i=R6(r||[-0,-0],e,this);break;case 3:i=yE(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Tg(i,e.length),i}transformAsVector(e,r){let n;switch(e.length){case 2:n=x6(r||[-0,-0],e,this);break;case 3:n=_E(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Tg(n,e.length),n}transformPoint(e,r){return this.transformAsPoint(e,r)}transformVector(e,r){return this.transformAsPoint(e,r)}transformDirection(e,r){return this.transformAsVector(e,r)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,r,n){return this.identity().translate([e,r,n])}}let Sf,Tf;function iU(){return Sf||(Sf=new Oi([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Sf)),Sf}function sU(){return Tf||(Tf=new Oi,Object.freeze(Tf)),Tf}function Zb(t){if(t>Math.PI*2)throw Error("expected radians")}function oU(t,e,r,n,i,s){const l=2*s/(r-e),c=2*s/(i-n),f=(r+e)/(r-e),h=(i+n)/(i-n),y=-1,b=-1,w=-2*s;return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=f,t[9]=h,t[10]=y,t[11]=b,t[12]=0,t[13]=0,t[14]=w,t[15]=0,t}const Qb=`#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
vec3 color;
};
struct PointLight {
vec3 color;
vec3 position;
vec3 attenuation;
};
struct DirectionalLight {
vec3 color;
vec3 direction;
};
uniform AmbientLight lighting_uAmbientLight;
uniform PointLight lighting_uPointLight[MAX_LIGHTS];
uniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];
uniform int lighting_uPointLightCount;
uniform int lighting_uDirectionalLightCount;
uniform bool lighting_uEnabled;
float getPointLightAttenuation(PointLight pointLight, float distance) {
return pointLight.attenuation.x
+ pointLight.attenuation.y * distance
+ pointLight.attenuation.z * distance * distance;
}
#endif
`,aU={lightSources:{}};function Cg(t={}){const{color:e=[0,0,0],intensity:r=1}=t;return e.map(n=>n*r/255)}function lU({ambientLight:t,pointLights:e=[],directionalLights:r=[]}){const n={};return t?n["lighting_uAmbientLight.color"]=Cg(t):n["lighting_uAmbientLight.color"]=[0,0,0],e.forEach((i,s)=>{n[`lighting_uPointLight[${s}].color`]=Cg(i),n[`lighting_uPointLight[${s}].position`]=i.position,n[`lighting_uPointLight[${s}].attenuation`]=i.attenuation||[1,0,0]}),n.lighting_uPointLightCount=e.length,r.forEach((i,s)=>{n[`lighting_uDirectionalLight[${s}].color`]=Cg(i),n[`lighting_uDirectionalLight[${s}].direction`]=i.direction}),n.lighting_uDirectionalLightCount=r.length,n}function bE(t=aU){var e,r;if("lightSources"in t){const{ambientLight:n,pointLights:i,directionalLights:s}=t.lightSources||{};return n||i&&i.length>0||s&&s.length>0?Object.assign({},lU({ambientLight:n,pointLights:i,directionalLights:s}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const n={pointLights:[],directionalLights:[]};for(const i of t.lights||[])switch(i.type){case"ambient":n.ambientLight=i;break;case"directional":(e=n.directionalLights)==null||e.push(i);break;case"point":(r=n.pointLights)==null||r.push(i);break}return bE({lightSources:n})}return{}}const cU={name:"lights",vs:Qb,fs:Qb,getUniforms:bE,defines:{MAX_LIGHTS:3}},uU=`uniform float lighting_uAmbient;
uniform float lighting_uDiffuse;
uniform float lighting_uShininess;
uniform vec3  lighting_uSpecularColor;
vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
vec3 halfway_direction = normalize(light_direction + view_direction);
float lambertian = dot(light_direction, normal_worldspace);
float specular = 0.0;
if (lambertian > 0.0) {
float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
specular = pow(specular_angle, lighting_uShininess);
}
lambertian = max(lambertian, 0.0);
return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;
}
vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
vec3 lightColor = surfaceColor;
if (lighting_uEnabled) {
vec3 view_direction = normalize(cameraPosition - position_worldspace);
lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uPointLightCount) {
break;
}
PointLight pointLight = lighting_uPointLight[i];
vec3 light_position_worldspace = pointLight.position;
vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
}
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uDirectionalLightCount) {
break;
}
DirectionalLight directionalLight = lighting_uDirectionalLight[i];
lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
}
}
return lightColor;
}
vec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
vec3 lightColor = vec3(0, 0, 0);
vec3 surfaceColor = vec3(0, 0, 0);
if (lighting_uEnabled) {
vec3 view_direction = normalize(cameraPosition - position_worldspace);
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uPointLightCount) {
break;
}
PointLight pointLight = lighting_uPointLight[i];
vec3 light_position_worldspace = pointLight.position;
vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
}
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uDirectionalLightCount) {
break;
}
DirectionalLight directionalLight = lighting_uDirectionalLight[i];
lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
}
}
return lightColor;
}
`,fU={};function dU(t){const{ambient:e=.35,diffuse:r=.6,shininess:n=32,specularColor:i=[30,30,30]}=t;return{lighting_uAmbient:e,lighting_uDiffuse:r,lighting_uShininess:n,lighting_uSpecularColor:i.map(s=>s/255)}}function hU(t=fU){if(!("material"in t))return{};const{material:e}=t;return e?dU(e):{lighting_uEnabled:!1}}const pU={name:"gouraud-lighting",dependencies:[cU],vs:uU,defines:{LIGHTING_VERTEX:1},getUniforms:hU},SE="#define SMOOTH_EDGE_RADIUS 0.5",gU=`
${SE}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,mU=`
${SE}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,_U={name:"geometry",vs:gU,fs:mU},mr={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(mr,"IDENTITY",{get:()=>(Cr.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Ji={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},ld={common:0,meters:1,pixels:2},jm={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},yU=Object.keys(mr).map(t=>`const int COORDINATE_SYSTEM_${t} = ${mr[t]};`).join(""),vU=Object.keys(Ji).map(t=>`const int PROJECTION_MODE_${t} = ${Ji[t]};`).join(""),wU=Object.keys(ld).map(t=>`const int UNIT_${t.toUpperCase()} = ${ld[t]};`).join(""),bU=`${yU}
${vU}
${wU}
uniform int project_uCoordinateSystem;
uniform int project_uProjectionMode;
uniform float project_uScale;
uniform bool project_uWrapLongitude;
uniform vec3 project_uCommonUnitsPerMeter;
uniform vec3 project_uCommonUnitsPerWorldUnit;
uniform vec3 project_uCommonUnitsPerWorldUnit2;
uniform vec4 project_uCenter;
uniform mat4 project_uModelMatrix;
uniform mat4 project_uViewProjectionMatrix;
uniform vec2 project_uViewportSize;
uniform float project_uDevicePixelRatio;
uniform float project_uFocalDistance;
uniform vec3 project_uCameraPosition;
uniform vec3 project_uCoordinateOrigin;
uniform vec3 project_uCommonOrigin;
uniform bool project_uPseudoMeters;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project_uPseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project_uCommonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project_uCommonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project_uCommonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project_uWrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project_uModelMatrix * position;
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project_uCoordinateOrigin;
}
}
if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project_uCommonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||
(project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project_uCoordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project_uModelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;
return offset * project_uFocalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project_uScale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project_uScale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project_uScale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project_uScale;
}
`;function SU(t,e){if(t===e)return!0;if(Array.isArray(t)){const r=t.length;if(!e||e.length!==r)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}return!1}function Qc(t){let e={},r;return n=>{for(const i in n)if(!SU(n[i],e[i])){r=t(n),e=n;break}return r}}const Jb=[0,0,0,0],TU=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],TE=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],EU=[0,0,0],EE=[0,0,0],RU=Qc(AU);function RE(t,e,r=EE){r.length<3&&(r=[r[0],r[1],0]);let n=r,i,s=!0;switch(e===mr.LNGLAT_OFFSETS||e===mr.METER_OFFSETS?i=r:i=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case Ji.WEB_MERCATOR:(e===mr.LNGLAT||e===mr.CARTESIAN)&&(i=[0,0,0],s=!1);break;case Ji.WEB_MERCATOR_AUTO_OFFSET:e===mr.LNGLAT?n=i:e===mr.CARTESIAN&&(n=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],i=t.unprojectPosition(n),n[0]-=r[0],n[1]-=r[1],n[2]-=r[2]);break;case Ji.IDENTITY:n=t.position.map(Math.fround),n[2]=n[2]||0;break;case Ji.GLOBE:s=!1,i=null;break;default:s=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:n,offsetMode:s}}function xU(t,e,r){const{viewMatrixUncentered:n,projectionMatrix:i}=t;let{viewMatrix:s,viewProjectionMatrix:l}=t,c=Jb,f=Jb,h=t.cameraPosition;const{geospatialOrigin:y,shaderCoordinateOrigin:b,offsetMode:w}=RE(t,e,r);return w&&(f=t.projectPosition(y||b),h=[h[0]-f[0],h[1]-f[1],h[2]-f[2]],f[3]=1,c=Zc([],f,l),s=n||s,l=Do([],i,s),l=Do([],l,TU)),{viewMatrix:s,viewProjectionMatrix:l,projectionCenter:c,originCommon:f,cameraPosCommon:h,shaderCoordinateOrigin:b,geospatialOrigin:y}}function CU({viewport:t,devicePixelRatio:e=1,modelMatrix:r=null,coordinateSystem:n=mr.DEFAULT,coordinateOrigin:i=EE,autoWrapLongitude:s=!1}){n===mr.DEFAULT&&(n=t.isGeospatial?mr.LNGLAT:mr.CARTESIAN);const l=RU({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:i});return l.project_uWrapLongitude=s,l.project_uModelMatrix=r||TE,l}function AU({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:n}){const{projectionCenter:i,viewProjectionMatrix:s,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:f,geospatialOrigin:h}=xU(t,r,n),y=t.getDistanceScales(),b=[t.width*e,t.height*e],w=Zc([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,x={project_uCoordinateSystem:r,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:f,project_uCommonOrigin:l.slice(0,3),project_uCenter:i,project_uPseudoMeters:!!t._pseudoMeters,project_uViewportSize:b,project_uDevicePixelRatio:e,project_uFocalDistance:w,project_uCommonUnitsPerMeter:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:EU,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:s,project_uModelMatrix:TE,project_uCameraPosition:c};if(h){const A=t.getDistanceScales(h);switch(r){case mr.METER_OFFSETS:x.project_uCommonUnitsPerWorldUnit=A.unitsPerMeter,x.project_uCommonUnitsPerWorldUnit2=A.unitsPerMeter2;break;case mr.LNGLAT:case mr.LNGLAT_OFFSETS:t._pseudoMeters||(x.project_uCommonUnitsPerMeter=A.unitsPerMeter),x.project_uCommonUnitsPerWorldUnit=A.unitsPerDegree,x.project_uCommonUnitsPerWorldUnit2=A.unitsPerDegree2;break;case mr.CARTESIAN:x.project_uCommonUnitsPerWorldUnit=[1,1,A.unitsPerMeter[2]],x.project_uCommonUnitsPerWorldUnit2=[0,0,A.unitsPerMeter2[2]];break}}return x}const PU={};function MU(t=PU){return"viewport"in t?CU(t):{}}const K0={name:"project",dependencies:[s6,_U],vs:bU,getUniforms:MU},kU=`
vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,xE={name:"project32",dependencies:[K0],vs:kU};function IU(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Xa(t,e){const r=Zc([],e,t);return eU(r,r,1/r[3]),r}function Gb(t,e){const r=t%e;return r<0?e+r:r}function zm(t,e,r){return t<e?e:t>r?r:t}function NU(t){return Math.log(t)*Math.LOG2E}const q0=Math.log2||NU;function ws(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Ii=Math.PI,CE=Ii/4,vi=Ii/180,$m=180/Ii,tl=512,cd=4003e4,Ef=85.051129,OU=1.5;function FU(t){return q0(t)}function ud(t){const[e,r]=t;ws(Number.isFinite(e)),ws(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");const n=e*vi,i=r*vi,s=tl*(n+Ii)/(2*Ii),l=tl*(Ii+Math.log(Math.tan(CE+i*.5)))/(2*Ii);return[s,l]}function rl(t){const[e,r]=t,n=e/tl*(2*Ii)-Ii,i=2*(Math.atan(Math.exp(r/tl*(2*Ii)-Ii))-CE);return[n*$m,i*$m]}function DU(t){const{latitude:e}=t;ws(Number.isFinite(e));const r=Math.cos(e*vi);return FU(cd*r)-9}function Ag(t){const e=Math.cos(t*vi);return tl/cd/e}function Vm(t){const{latitude:e,longitude:r,highPrecision:n=!1}=t;ws(Number.isFinite(e)&&Number.isFinite(r));const i=tl,s=Math.cos(e*vi),l=i/360,c=l/s,f=i/cd/s,h={unitsPerMeter:[f,f,f],metersPerUnit:[1/f,1/f,1/f],unitsPerDegree:[l,c,f],degreesPerUnit:[1/l,1/c,1/f]};if(n){const y=vi*Math.tan(e*vi)/s,b=l*y/2,w=i/cd*y,x=w/c*f;h.unitsPerDegree2=[0,b,w],h.unitsPerMeter2=[x,0,x]}return h}function AE(t,e){const[r,n,i]=t,[s,l,c]=e,{unitsPerMeter:f,unitsPerMeter2:h}=Vm({longitude:r,latitude:n,highPrecision:!0}),y=ud(t);y[0]+=s*(f[0]+h[0]*l),y[1]+=l*(f[1]+h[1]*l);const b=rl(y),w=(i||0)+(c||0);return Number.isFinite(i)||Number.isFinite(c)?[b[0],b[1],w]:b}function BU(t){const{height:e,pitch:r,bearing:n,altitude:i,scale:s,center:l}=t,c=IU();ad(c,c,[0,0,-i]),vE(c,c,-r*vi),wE(c,c,n*vi);const f=s/e;return Y0(c,c,[f,f,f]),l&&ad(c,c,M6([],l)),c}function UU(t){const{width:e,height:r,altitude:n,pitch:i=0,offset:s,center:l,scale:c,nearZMultiplier:f=1,farZMultiplier:h=1}=t;let{fovy:y=fd(OU)}=t;n!==void 0&&(y=fd(n));const b=y*vi,w=i*vi,x=Z0(y);let A=x;l&&(A+=l[2]*c/Math.cos(w)/r);const E=b*(.5+(s?s[1]:0)/r),k=Math.sin(E)*A/Math.sin(zm(Math.PI/2-w-E,.01,Math.PI-.01)),O=Math.sin(w)*k+A,N=A*10,M=Math.min(O*h,N);return{fov:b,aspect:e/r,focalDistance:x,near:f,far:M}}function fd(t){return 2*Math.atan(.5/t)*$m}function Z0(t){return .5/Math.tan(.5*t*vi)}function PE(t,e){const[r,n,i=0]=t;return ws(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),Xa(e,[r,n,i,1])}function ih(t,e,r=0){const[n,i,s]=t;if(ws(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(s))return Xa(e,[n,i,s,1]);const l=Xa(e,[n,i,0,1]),c=Xa(e,[n,i,1,1]),f=l[2],h=c[2],y=f===h?0:((r||0)-f)/(h-f);return mE([],l,c,y)}function LU(t){const{width:e,height:r,bounds:n,minExtent:i=0,maxZoom:s=24,offset:l=[0,0]}=t,[[c,f],[h,y]]=n,b=jU(t.padding),w=ud([c,zm(y,-Ef,Ef)]),x=ud([h,zm(f,-Ef,Ef)]),A=[Math.max(Math.abs(x[0]-w[0]),i),Math.max(Math.abs(x[1]-w[1]),i)],E=[e-b.left-b.right-Math.abs(l[0])*2,r-b.top-b.bottom-Math.abs(l[1])*2];ws(E[0]>0&&E[1]>0);const k=E[0]/A[0],O=E[1]/A[1],N=(b.right-b.left)/2/k,M=(b.top-b.bottom)/2/O,R=[(x[0]+w[0])/2+N,(x[1]+w[1])/2+M],P=rl(R),I=Math.min(s,q0(Math.abs(Math.min(k,O))));return ws(Number.isFinite(I)),{longitude:P[0],latitude:P[1],zoom:I}}function jU(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(ws(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const e1=Math.PI/180;function zU(t,e=0){const{width:r,height:n,unproject:i}=t,s={targetZ:e},l=i([0,n],s),c=i([r,n],s);let f,h;const y=t.fovy?.5*t.fovy*e1:Math.atan(.5/t.altitude),b=(90-t.pitch)*e1;return y>b-.01?(f=t1(t,0,e),h=t1(t,r,e)):(f=i([0,0],s),h=i([r,0],s)),[l,c,h,f]}function t1(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=Xa(n,[e,0,1,1]),s=Xa(n,[e,t.height,1,1]),c=(r*t.distanceScales.unitsPerMeter[2]-i[2])/(s[2]-i[2]),f=mE([],i,s,c),h=rl(f);return h.push(r),h}const r1=512;function $U(t){const{width:e,height:r,pitch:n=0}=t;let{longitude:i,latitude:s,zoom:l,bearing:c=0}=t;(i<-180||i>180)&&(i=Gb(i+180,360)-180),(c<-180||c>180)&&(c=Gb(c+180,360)-180);const f=q0(r/r1);if(l<=f)l=f,s=0;else{const h=r/2/Math.pow(2,l),y=rl([0,h])[1];if(s<y)s=y;else{const b=rl([0,r1-h])[1];s>b&&(s=b)}}return{width:e,height:r,longitude:i,latitude:s,zoom:l,pitch:n,bearing:c}}const VU=`
const int max_lights = 2;
uniform mat4 shadow_uViewProjectionMatrices[max_lights];
uniform vec4 shadow_uProjectCenters[max_lights];
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform int shadow_uLightId;
uniform float shadow_uLightCount;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  if (shadow_uDrawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);
  }
  if (shadow_uUseShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow_uLightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,WU=`
const int max_lights = 2;
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;
uniform vec4 shadow_uColor;
uniform float shadow_uLightCount;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow_uDrawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow_uUseShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow_uLightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,HU=Qc(ZU),XU=Qc(QU),YU=[0,0,0,1],KU=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function qU(t,e){const[r,n,i]=t,s=ih([r,n,i],e);return Number.isFinite(i)?s:[s[0],s[1],0]}function ZU({viewport:t,center:e}){return new Oi(t.viewProjectionMatrix).invert().transform(e)}function QU({viewport:t,shadowMatrices:e}){const r=[],n=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,s=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(l=>qU(l,n));for(const l of e){const c=l.clone().translate(new ts(t.center).negate()),f=s.map(y=>c.transform(y)),h=new Oi().ortho({left:Math.min(...f.map(y=>y[0])),right:Math.max(...f.map(y=>y[0])),bottom:Math.min(...f.map(y=>y[1])),top:Math.max(...f.map(y=>y[1])),near:Math.min(...f.map(y=>-y[2])),far:Math.max(...f.map(y=>-y[2]))});r.push(h.multiplyRight(l))}return r}function JU(t,e){const{shadowEnabled:r=!0}=t;if(!r||!t.shadowMatrices||!t.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const n={shadow_uDrawShadowMap:!!t.drawToShadowMap,shadow_uUseShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,shadow_uColor:t.shadowColor||YU,shadow_uLightId:t.shadowLightId||0,shadow_uLightCount:t.shadowMatrices.length},i=HU({viewport:t.viewport,center:e.project_uCenter}),s=[],l=XU({shadowMatrices:t.shadowMatrices,viewport:t.viewport}).slice();for(let c=0;c<t.shadowMatrices.length;c++){const f=l[c],h=f.clone().translate(new ts(t.viewport.center).negate());e.project_uCoordinateSystem===mr.LNGLAT&&e.project_uProjectionMode===Ji.WEB_MERCATOR?(l[c]=h,s[c]=i):(l[c]=f.clone().multiplyRight(KU),s[c]=h.transform(i))}for(let c=0;c<l.length;c++)n[`shadow_uViewProjectionMatrices[${c}]`]=l[c],n[`shadow_uProjectCenters[${c}]`]=s[c];for(let c=0;c<2;c++)n[`shadow_uShadowMap${c}`]=t.shadowMaps&&t.shadowMaps[c]||t.dummyShadowMap;return n}const n1={name:"shadow",dependencies:[K0],vs:VU,fs:WU,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:(t={},e={})=>"viewport"in t&&(t.drawToShadowMap||t.shadowMaps&&t.shadowMaps.length>0)?JU(t,e):{}},ME={...Yb,defaultUniforms:{...Yb.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},GU=[K0],e5=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function t5(){const t=Qf.getDefaultShaderAssembler();for(const e of GU)t.addDefaultModule(e);for(const e of e5)t.addShaderHook(e);return t}const r5=[255,255,255],n5=1;let i5=0;class s5{constructor(e={}){this.type="ambient";const{color:r=r5}=e,{intensity:n=n5}=e;this.id=e.id||`ambient-${i5++}`,this.color=r,this.intensity=n}}const o5=[255,255,255],a5=1,l5=[0,0,-1];let c5=0;class i1{constructor(e={}){this.type="directional";const{color:r=o5}=e,{intensity:n=a5}=e,{direction:i=l5}=e,{_shadow:s=!1}=e;this.id=e.id||`directional-${c5++}`,this.color=r,this.intensity=n,this.type="directional",this.direction=new ts(i).normalize().toArray(),this.shadow=s}getProjectedLight(e){return this}}class u5{constructor(e,r={id:"pass"}){const{id:n}=r;this.id=n,this.device=e,this.props={...r}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class Q0 extends u5{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[r,n]=this.device.canvasContext.getDrawingBufferSize(),i=e.clearCanvas??!0,s=e.clearColor??(i?[0,0,0,0]:!1),l=i?1:!1,c=i?0:!1,f=e.colorMask??15,h={viewport:[0,0,r,n]};e.colorMask&&(h.colorMask=f),e.scissorRect&&(h.scissorRect=e.scissorRect);const y=this.device.beginRenderPass({framebuffer:e.target,parameters:h,clearColor:s,clearDepth:l,clearStencil:c});try{return this._drawLayers(y,e)}finally{y.end()}}_drawLayers(e,r){const{target:n,moduleParameters:i,viewports:s,views:l,onViewportActive:c,clearStack:f=!0}=r;r.pass=r.pass||"unknown",f&&(this._lastRenderIndex=-1);const h=[];for(const y of s){const b=l&&l[y.id];c==null||c(y);const w=this._getDrawLayerParams(y,r),x=y.subViewports||[y];for(const A of x){const E=this._drawLayersInViewport(e,{target:n,moduleParameters:i,viewport:A,view:b,pass:r.pass,layers:r.layers},w);h.push(E)}}return h}_getDrawLayerParams(e,{layers:r,pass:n,isPicking:i=!1,layerFilter:s,cullRect:l,effects:c,moduleParameters:f},h=!1){var A;const y=[],b=kE(this._lastRenderIndex+1),w={layer:r[0],viewport:e,isPicking:i,renderPass:n,cullRect:l},x={};for(let E=0;E<r.length;E++){const k=r[E],O=this._shouldDrawLayer(k,w,s,x),N={shouldDrawLayer:O};O&&!h&&(N.layerRenderIndex=b(k,O),N.moduleParameters=this._getModuleParameters(k,c,n,f),N.layerParameters={...(A=k.context.deck)==null?void 0:A.props.parameters,...this.getLayerParameters(k,E,e)}),y[E]=N}return y}_drawLayersInViewport(e,{layers:r,moduleParameters:n,pass:i,target:s,viewport:l,view:c},f){const h=f5(this.device,{moduleParameters:n,target:s,viewport:l});if(c&&c.props.clear){const b=c.props.clear===!0?{color:!0,depth:!0}:c.props.clear;this.device.withParametersWebGL({scissorTest:!0,scissor:h},()=>this.device.clearWebGL(b))}const y={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:h});for(let b=0;b<r.length;b++){const w=r[b],{shouldDrawLayer:x,layerRenderIndex:A,moduleParameters:E,layerParameters:k}=f[b];if(x&&w.props.pickable&&y.pickableCount++,w.isComposite)y.compositeCount++;else if(x){y.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,A),E.viewport=l,w.context.renderPass=e;try{w._drawLayer({renderPass:e,moduleParameters:E,uniforms:{layerIndex:A},parameters:k})}catch(O){w.raiseError(O,`drawing ${w} to ${i}`)}}}return y}shouldDrawLayer(e){return!0}getModuleParameters(e,r){return null}getLayerParameters(e,r,n){return e.props.parameters}_shouldDrawLayer(e,r,n,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;r.layer=e;let l=e.parent;for(;l;){if(!l.props.visible||!l.filterSubLayer(r))return!1;r.layer=l,l=l.parent}if(n){const c=r.layer.id;if(c in i||(i[c]=n(r)),!i[c])return!1}return e.activateViewport(r.viewport),!0}_getModuleParameters(e,r,n,i){var c,f;const s=this.device.canvasContext.cssToDeviceRatio(),l=Object.assign(Object.create(((c=e.internalState)==null?void 0:c.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,picking:{isActive:0},devicePixelRatio:s});if(r)for(const h of r)Object.assign(l,(f=h.getModuleParameters)==null?void 0:f.call(h,e));return Object.assign(l,this.getModuleParameters(e,r),i)}}function kE(t=0,e={}){const r={},n=(i,s)=>{const l=i.props._offset,c=i.id,f=i.parent&&i.parent.id;let h;if(f&&!(f in e)&&n(i.parent,!1),f in r){const y=r[f]=r[f]||kE(e[f],e);h=y(i,s),r[c]=y}else Number.isFinite(l)?(h=l+(e[f]||0),r[c]=null):h=t;return s&&h>=t&&(t=h+1),e[c]=h,h};return n}function f5(t,{moduleParameters:e,target:r,viewport:n}){const i=e&&e.devicePixelRatio||t.canvasContext.cssToDeviceRatio(),[,s]=t.canvasContext.getDrawingBufferSize(),l=r?r.height:s,c=n;return[c.x*i,l-(c.y+c.height)*i,c.width*i,c.height*i]}class d5 extends Q0{constructor(e,r){super(e,r),this.shadowMap=e.createTexture({width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),this.depthBuffer=e.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1,dataFormat:6402,type:5125}),this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[this.shadowMap],depthStencilAttachment:this.depthBuffer})}render(e){const r=this.fbo,n=this.device.canvasContext.cssToDeviceRatio(),i=e.viewports[0],s=i.width*n,l=i.height*n,c=[1,1,1,1];(s!==r.width||l!==r.height)&&r.resize({width:s,height:l}),super.render({...e,clearColor:c,target:r,pass:"shadow"})}getLayerParameters(e,r,n){return{...e.props.parameters,blend:!1,depthRange:[0,1],depthTest:!0}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null),this.shadowMap&&(this.shadowMap.destroy(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.destroy(),this.depthBuffer=null)}}const h5={color:[255,255,255],intensity:1},s1=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],p5=[0,0,0,200/255];class IE{constructor(e={}){this.id="lighting-effect",this.shadowColor=p5,this.shadow=!1,this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:r,deck:n}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(r),n._addDefaultShaderModule(n1),this.dummyShadowMap=r.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const r in e){const n=e[r];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(r=>r.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let l=0;l<this.shadowPasses.length;l++)this.shadowPasses[l].render({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:s,moduleParameters:{shadowLightId:l,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const r=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return r.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(n=>n.getProjectedLight({layer:e})),pointLights:this.pointLights.map(n=>n.getProjectedLight({layer:e}))},r}cleanup(e){for(const r of this.shadowPasses)r.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(n1))}_calculateMatrices(){const e=[];for(const r of this.directionalLights){const n=new Oi().lookAt({eye:new ts(r.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let r=0;r<this.directionalLights.length;r++){const n=new d5(e);this.shadowPasses[r]=n,this.shadowMaps[r]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:r,directionalLights:n}=this;!e&&r.length===0&&n.length===0&&(this.ambientLight=new s5(h5),this.directionalLights.push(new i1(s1[0]),new i1(s1[1])))}}class g5{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,r,{size:n=1,type:i,padding:s=0,copy:l=!1,initialize:c=!1,maxCount:f}){const h=i||e&&e.constructor||Float32Array,y=r*n+s;if(ArrayBuffer.isView(e)){if(y<=e.length)return e;if(y*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new h(e.buffer,0,y)}let b=1/0;f&&(b=f*n+s);const w=this._allocate(h,y,c,b);return e&&l?w.set(e):c||w.fill(0,0,4),this._release(e),w}release(e){this._release(e)}_allocate(e,r,n,i){let s=Math.max(Math.ceil(r*this.opts.overAlloc),1);s>i&&(s=i);const l=this._pool,c=e.BYTES_PER_ELEMENT*s,f=l.findIndex(h=>h.byteLength>=c);if(f>=0){const h=new e(l.splice(f,1)[0],0,s);return n&&h.fill(0),h}return new e(s)}_release(e){if(!ArrayBuffer.isView(e))return;const r=this._pool,{buffer:n}=e,{byteLength:i}=n,s=r.findIndex(l=>l.byteLength>=i);s<0?r.push(n):(s>0||r.length<this.opts.poolSize)&&r.splice(s,0,n),r.length>this.opts.poolSize&&r.shift()}}const Fc=new g5;function uc(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function m5(t,e){const r=t%e;return r<0?e+r:r}function _5(t){return[t[12],t[13],t[14]]}function y5(t){return{left:Pa(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:Pa(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:Pa(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:Pa(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:Pa(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:Pa(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const o1=new ts;function Pa(t,e,r,n){o1.set(t,e,r);const i=o1.len();return{distance:n/i,normal:new ts(-t/i,-e/i,-r/i)}}function v5(t){return t-Math.fround(t)}let Ql;function Pg(t,e){const{size:r=1,startIndex:n=0}=e,i=e.endIndex!==void 0?e.endIndex:t.length,s=(i-n)/r;Ql=Fc.allocate(Ql,s,{type:Float32Array,size:r*2});let l=n,c=0;for(;l<i;){for(let f=0;f<r;f++){const h=t[l++];Ql[c+f]=h,Ql[c+f+r]=v5(h)}c+=r*2}return Ql.subarray(0,s*r*2)}function w5(t){let e=null,r=!1;for(const n of t)n&&(e?(r||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],r=!0),e[0][0]=Math.min(e[0][0],n[0][0]),e[0][1]=Math.min(e[0][1],n[0][1]),e[1][0]=Math.max(e[1][0],n[1][0]),e[1][1]=Math.max(e[1][1],n[1][1])):e=n);return e}const b5=Math.PI/180,S5=uc(),a1=[0,0,0],T5={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function E5({width:t,height:e,orthographic:r,fovyRadians:n,focalDistance:i,padding:s,near:l,far:c}){const f=t/e,h=r?new Oi().orthographic({fovy:n,aspect:f,focalDistance:i,near:l,far:c}):new Oi().perspective({fovy:n,aspect:f,near:l,far:c});if(s){const{left:y=0,right:b=0,top:w=0,bottom:x=0}=s,A=ri((y+t-b)/2,0,t)-t/2,E=ri((w+e-x)/2,0,e)-e/2;h[8]-=A*2/t,h[9]+=E*2/e}return h}class ll{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||T5,this.focalDistance=e.focalDistance||1,this.position=e.position||a1,this.modelMatrix=e.modelMatrix||null;const{longitude:r,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(r),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Ji.WEB_MERCATOR:Ji.WEB_MERCATOR_AUTO_OFFSET:Ji.IDENTITY}equals(e){return e instanceof ll?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Oc(e.projectionMatrix,this.projectionMatrix)&&Oc(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:r=!0}={}){const n=this.projectPosition(e),i=PE(n,this.pixelProjectionMatrix),[s,l]=i,c=r?l:this.height-l;return e.length===2?[s,c]:[s,c,i[2]]}unproject(e,{topLeft:r=!0,targetZ:n}={}){const[i,s,l]=e,c=r?s:this.height-s,f=n&&n*this.distanceScales.unitsPerMeter[2],h=ih([i,c,l],this.pixelUnprojectionMatrix,f),[y,b,w]=this.unprojectPosition(h);return Number.isFinite(l)?[y,b,w]:Number.isFinite(n)?[y,b,n]:[y,b]}projectPosition(e){const[r,n]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[r,n,i]}unprojectPosition(e){const[r,n]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[r,n,i]}projectFlat(e){if(this.isGeospatial){const r=ud(e);return r[1]=ri(r[1],-318,830),r}return e}unprojectFlat(e){return this.isGeospatial?rl(e):e}getBounds(e={}){const r={targetZ:e.z||0},n=this.unproject([0,0],r),i=this.unproject([this.width,0],r),s=this.unproject([0,this.height],r),l=this.unproject([this.width,this.height],r);return[Math.min(n[0],i[0],s[0],l[0]),Math.min(n[1],i[1],s[1],l[1]),Math.max(n[0],i[0],s[0],l[0]),Math.max(n[1],i[1],s[1],l[1])]}getDistanceScales(e){return e?Vm({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:r,width:n=1,height:i=1}){return e<this.x+this.width&&this.x<e+n&&r<this.y+this.height&&this.y<r+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,y5(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,r){return null}_initProps(e){const r=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=DU({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||Vm({latitude:n,longitude:r}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:s,modelMatrix:l}=e;let c=a1;if(s&&(c=l?new Oi(l).transformAsVector(s,[]):s),this.isGeospatial){const f=this.projectPosition([r,n,0]);this.center=new ts(c).scale(this.distanceScales.unitsPerMeter).add(f)}else this.center=this.projectPosition(c)}_initMatrices(e){const{viewMatrix:r=S5,projectionMatrix:n=null,orthographic:i=!1,fovyRadians:s,fovy:l=75,near:c=.1,far:f=1e3,padding:h=null,focalDistance:y=1}=e;this.viewMatrixUncentered=r,this.viewMatrix=new Oi().multiplyRight(r).translate(new ts(this.center).negate()),this.projectionMatrix=n||E5({width:this.width,height:this.height,orthographic:i,fovyRadians:s||l*b5,focalDistance:y,padding:h,near:c,far:f});const b=uc();Do(b,b,this.projectionMatrix),Do(b,b,this.viewMatrix),this.viewProjectionMatrix=b,this.viewMatrixInverse=Um([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=_5(this.viewMatrixInverse);const w=uc(),x=uc();Y0(w,w,[this.width/2,-this.height/2,1]),ad(w,w,[1,-1,0]),Do(x,w,this.viewProjectionMatrix),this.pixelProjectionMatrix=x,this.pixelUnprojectionMatrix=Um(uc(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Cr.warn("Pixel project matrix not invertible")()}}ll.displayName="Viewport";class nl extends ll{constructor(e={}){const{latitude:r=0,longitude:n=0,zoom:i=0,pitch:s=0,bearing:l=0,nearZMultiplier:c=.1,farZMultiplier:f=1.01,nearZ:h,farZ:y,orthographic:b=!1,projectionMatrix:w,repeat:x=!1,worldOffset:A=0,position:E,padding:k,legacyMeterSizes:O=!1}=e;let{width:N,height:M,altitude:R=1.5}=e;const P=Math.pow(2,i);N=N||1,M=M||1;let I,j=null;if(w)R=w[5]/2,I=fd(R);else{e.fovy?(I=e.fovy,R=Z0(I)):I=fd(R);let oe;if(k){const{top:C=0,bottom:F=0}=k;oe=[0,ri((C+M-F)/2,0,M)-M/2]}j=UU({width:N,height:M,scale:P,center:E&&[0,0,E[2]*Ag(r)],offset:oe,pitch:s,fovy:I,nearZMultiplier:c,farZMultiplier:f}),Number.isFinite(h)&&(j.near=h),Number.isFinite(y)&&(j.far=y)}let te=BU({height:M,pitch:s,bearing:l,scale:P,altitude:R});A&&(te=new Oi().translate([512*A,0,0]).multiplyLeft(te)),super({...e,width:N,height:M,viewMatrix:te,longitude:n,latitude:r,zoom:i,...j,fovy:I,focalDistance:R}),this.latitude=r,this.longitude=n,this.zoom=i,this.pitch=s,this.bearing=l,this.altitude=R,this.fovy=I,this.orthographic=b,this._subViewports=x?[]:null,this._pseudoMeters=O,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),r=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let i=r;i<=n;i++){const s=i?new nl({...this,worldOffset:i}):this;this._subViewports.push(s)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[r,n]=this.projectFlat(e),i=(e[2]||0)*Ag(e[1]);return[r,n,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[r,n]=this.unprojectFlat(e),i=(e[2]||0)/Ag(n);return[r,n,i]}addMetersToLngLat(e,r){return AE(e,r)}panByPosition(e,r){const n=ih(r,this.pixelUnprojectionMatrix),i=this.projectFlat(e),s=qb([],i,E6([],n)),l=qb([],this.center,s),[c,f]=this.unprojectFlat(l);return{longitude:c,latitude:f}}getBounds(e={}){const r=zU(this,e.z||0);return[Math.min(r[0][0],r[1][0],r[2][0],r[3][0]),Math.min(r[0][1],r[1][1],r[2][1],r[3][1]),Math.max(r[0][0],r[1][0],r[2][0],r[3][0]),Math.max(r[0][1],r[1][1],r[2][1],r[3][1])]}fitBounds(e,r={}){const{width:n,height:i}=this,{longitude:s,latitude:l,zoom:c}=LU({width:n,height:i,bounds:e,...r});return new nl({width:n,height:i,longitude:s,latitude:l,zoom:c})}}nl.displayName="WebMercatorViewport";const l1=[0,0,0];function Mg(t,e,r=!1){const n=e.projectPosition(t);if(r&&e instanceof nl){const[i,s,l=0]=t,c=e.getDistanceScales([i,s]);n[2]=l*c.unitsPerMeter[2]}return n}function R5(t){const{viewport:e,modelMatrix:r,coordinateOrigin:n}=t;let{coordinateSystem:i,fromCoordinateSystem:s,fromCoordinateOrigin:l}=t;return i===mr.DEFAULT&&(i=e.isGeospatial?mr.LNGLAT:mr.CARTESIAN),s===void 0&&(s=i),l===void 0&&(l=n),{viewport:e,coordinateSystem:i,coordinateOrigin:n,modelMatrix:r,fromCoordinateSystem:s,fromCoordinateOrigin:l}}function NE(t,{viewport:e,modelMatrix:r,coordinateSystem:n,coordinateOrigin:i,offsetMode:s}){let[l,c,f=0]=t;switch(r&&([l,c,f]=Zc([],[l,c,f,1],r)),n){case mr.LNGLAT:return Mg([l,c,f],e,s);case mr.LNGLAT_OFFSETS:return Mg([l+i[0],c+i[1],f+(i[2]||0)],e,s);case mr.METER_OFFSETS:return Mg(AE(i,[l,c,f]),e,s);case mr.CARTESIAN:default:return e.isGeospatial?[l+i[0],c+i[1],f+i[2]]:e.projectPosition([l,c,f])}}function x5(t,e){const{viewport:r,coordinateSystem:n,coordinateOrigin:i,modelMatrix:s,fromCoordinateSystem:l,fromCoordinateOrigin:c}=R5(e),{autoOffset:f=!0}=e,{geospatialOrigin:h=l1,shaderCoordinateOrigin:y=l1,offsetMode:b=!1}=f?RE(r,n,i):{},w=NE(t,{viewport:r,modelMatrix:s,coordinateSystem:l,coordinateOrigin:c,offsetMode:b});if(b){const x=r.projectPosition(h||y);L6(w,w,x)}return w}let C5=1,A5=1;class OE{constructor(){H(this,"time",0);H(this,"channels",new Map);H(this,"animations",new Map);H(this,"playing",!1);H(this,"lastEngineTime",-1)}addChannel(e){const{delay:r=0,duration:n=Number.POSITIVE_INFINITY,rate:i=1,repeat:s=1}=e,l=C5++,c={time:0,delay:r,duration:n,rate:i,repeat:s};return this._setChannelTime(c,this.time),this.channels.set(l,c),l}removeChannel(e){this.channels.delete(e);for(const[r,n]of this.animations)n.channel===e&&this.detachAnimation(r)}isFinished(e){const r=this.channels.get(e);return r===void 0?!1:this.time>=r.delay+r.duration*r.repeat}getTime(e){if(e===void 0)return this.time;const r=this.channels.get(e);return r===void 0?-1:r.time}setTime(e){this.time=Math.max(0,e);const r=this.channels.values();for(const i of r)this._setChannelTime(i,this.time);const n=this.animations.values();for(const i of n){const{animation:s,channel:l}=i;s.setTime(this.getTime(l))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,r){const n=A5++;return this.animations.set(n,{animation:e,channel:r}),e.setTime(this.getTime(r)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,r){const n=r-e.delay,i=e.duration*e.repeat;n>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}let P5=0;const M5={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:t=>console.error(t),stats:Wa.stats.get(`animation-loop-${P5++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class k5{constructor(e){H(this,"device",null);H(this,"canvas",null);H(this,"props");H(this,"animationProps",null);H(this,"timeline",null);H(this,"stats");H(this,"cpuTime");H(this,"gpuTime");H(this,"frameRate");H(this,"display");H(this,"needsRedraw","initialized");H(this,"_initialized",!1);H(this,"_running",!1);H(this,"_animationFrameId",null);H(this,"_nextFramePromise",null);H(this,"_resolveNextFrame",null);H(this,"_cpuStartTime",0);if(this.props={...M5,...e},e=this.props,!e.device)throw new Error("No device provided");const{useDevicePixels:r=!0}=this.props;this.stats=e.stats||new eh({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport,autoResizeDrawingBuffer:e.autoResizeDrawingBuffer,useDevicePixels:r}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),"autoResizeDrawingBuffer"in e&&(this.props.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer||!1),"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const r=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(r),r}}stop(){return this._running&&(this.animationProps&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=_4(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(y4(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),this.device.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){var e,r;if(!this.device)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:(r=(e=this.device)==null?void 0:e.canvasContext)==null?void 0:r.canvas,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:r,aspect:n}=this._getSizeAndAspect();(e!==this.animationProps.width||r!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){var e;if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=((e=this.device.canvasContext)==null?void 0:e.canvas)||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const r=document.createElement("div");r.style.position="absolute",r.style.left="10px",r.style.bottom="10px",r.style.width="300px",r.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(r);const n=this.props.onAddHTML(r);n&&(r.innerHTML=n)}}_getSizeAndAspect(){var s,l,c,f;if(!this.device)return{width:1,height:1,aspect:1};const[e,r]=((l=(s=this.device)==null?void 0:s.canvasContext)==null?void 0:l.getPixelSize())||[1,1];let n=1;const i=(f=(c=this.device)==null?void 0:c.canvasContext)==null?void 0:f.canvas;return i&&i.clientHeight?n=i.clientWidth/i.clientHeight:e>0&&r>0&&(n=e/r),{width:e,height:r,aspect:n}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){var e,r;this.props.autoResizeDrawingBuffer&&((r=(e=this.device)==null?void 0:e.canvasContext)==null||r.resize({useDevicePixels:this.props.useDevicePixels}))}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}class c1{constructor(e){H(this,"id");H(this,"userData",{});H(this,"topology");H(this,"bufferLayout",[]);H(this,"vertexCount");H(this,"indices");H(this,"attributes");this.id=e.id||qo("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&Ar(this.indices.usage===Lr.INDEX)}destroy(){var e;(e=this.indices)==null||e.destroy();for(const r of Object.values(this.attributes))r.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices}_calculateVertexCount(e){return e.byteLength/12}}function I5(t,e){if(e instanceof c1)return e;const r=N5(t,e),{attributes:n,bufferLayout:i}=O5(t,e);return new c1({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:r,attributes:n})}function N5(t,e){if(!e.indices)return;const r=e.indices.value;return t.createBuffer({usage:Lr.INDEX,data:r})}function O5(t,e){const r=[],n={};for(const[s,l]of Object.entries(e.attributes)){let c=s;switch(s){case"POSITION":c="positions";break;case"NORMAL":c="normals";break;case"TEXCOORD_0":c="texCoords";break;case"COLOR_0":c="colors";break}n[c]=t.createBuffer({data:l.value,id:`${s}-buffer`});const{value:f,size:h,normalized:y}=l;r.push({name:c,format:d4(f,h,y)})}const i=e._calculateVertexCount(e.attributes,e.indices);return{attributes:n,bufferLayout:r,vertexCount:i}}class F5{constructor(e){H(this,"modules");H(this,"moduleUniforms");H(this,"moduleBindings");H(this,"moduleUniformsChanged");const r=rh(Object.values(e).filter(n=>n.dependencies));for(const n of r)e[n.name]=n;Ze.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[n,i]of Object.entries(e)){const s=n;this.moduleUniforms[s]=i.defaultUniforms||{},this.moduleBindings[s]={}}}destroy(){}setProps(e){var r;for(const n of Object.keys(e)){const i=n,s=e[i],l=this.modules[i];if(!l){Ze.warn(`Module ${n} not found`)();continue}const c=this.moduleUniforms[i],f=this.moduleBindings[i],h=((r=l.getUniforms)==null?void 0:r.call(l,s,c))||s,{uniforms:y,bindings:b}=X0(h);this.moduleUniforms[i]={...c,...y},this.moduleBindings[i]={...f,...b}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindings(){const e={};for(const r of Object.values(this.moduleBindings))Object.assign(e,r);return e}getDebugTable(){var r;const e={};for(const[n,i]of Object.entries(this.moduleUniforms))for(const[s,l]of Object.entries(i))e[`${n}.${s}`]={type:(r=this.modules[n].uniformTypes)==null?void 0:r[s],value:String(l)};return e}}const Ad=class Ad{constructor(e){H(this,"device");H(this,"_hashCounter",0);H(this,"_hashes",{});H(this,"_renderPipelineCache",{});H(this,"_computePipelineCache",{});this.device=e}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new Ad(e),e._lumaData.defaultPipelineFactory}createRenderPipeline(e){const r={...Qa.defaultProps,...e},n=this._hashRenderPipeline(r);if(!this._renderPipelineCache[n]){const i=this.device.createRenderPipeline({...r,id:r.id?`${r.id}-cached`:void 0});i.hash=n,this._renderPipelineCache[n]={pipeline:i,useCount:0}}return this._renderPipelineCache[n].useCount++,this._renderPipelineCache[n].pipeline}createComputePipeline(e){const r={...nd.defaultProps,...e},n=this._hashComputePipeline(r);if(!this._computePipelineCache[n]){const i=this.device.createComputePipeline({...r,id:r.id?`${r.id}-cached`:void 0});i.hash=n,this._computePipelineCache[n]={pipeline:i,useCount:0}}return this._computePipelineCache[n].useCount++,this._computePipelineCache[n].pipeline}release(e){const r=e.hash,n=e instanceof nd?this._computePipelineCache:this._renderPipelineCache;n[r].useCount--,n[r].useCount===0&&(n[r].pipeline.destroy(),delete n[r])}_hashComputePipeline(e){return`${this._getHash(e.shader.source)}`}_hashRenderPipeline(e){const r=this._getHash(e.vs.source),n=e.fs?this._getHash(e.fs.source):0,i="-",s=this._getHash(JSON.stringify(e.bufferLayout));switch(this.device.type){case"webgl":return`${r}/${n}V${i}BL${s}`;default:const l=this._getHash(JSON.stringify(e.parameters));return`${r}/${n}V${i}T${e.topology}P${l}BL${s}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};H(Ad,"defaultProps",{...Qa.defaultProps});let Wm=Ad;const Pd=class Pd{constructor(e){H(this,"device");H(this,"_cache",{});this.device=e}static getDefaultShaderFactory(e){var r;return(r=e._lumaData).defaultShaderFactory||(r.defaultShaderFactory=new Pd(e)),e._lumaData.defaultShaderFactory}createShader(e){const r=this._hashShader(e);let n=this._cache[r];if(!n){const i=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[r]=n={shader:i,useCount:0}}return n.useCount++,n.shader}release(e){const r=this._hashShader(e),n=this._cache[r];n&&(n.useCount--,n.useCount===0&&(delete this._cache[r],n.shader.destroy()))}_hashShader(e){return`${e.stage}:${e.source}`}};H(Pd,"defaultProps",{...ed.defaultProps});let Hm=Pd;function D5(t,e){var i;const r={},n="Values";if(t.attributes.length===0&&!((i=t.varyings)!=null&&i.length))return{"No attributes or varyings":{[n]:"N/A"}};for(const s of t.attributes)if(s){const l=`${s.location} ${s.name}: ${s.type}`;r[`in ${l}`]={[n]:s.stepMode||"vertex"}}for(const s of t.varyings||[]){const l=`${s.location} ${s.name}`;r[`out ${l}`]={[n]:JSON.stringify(s.accessor)}}return r}let hn=null,kg=null;function B5(t,{id:e,minimap:r,opaque:n,top:i="0",left:s="0",rgbaScale:l=1}){hn||(hn=document.createElement("canvas"),hn.id=e,hn.title=e,hn.style.zIndex="100",hn.style.position="absolute",hn.style.top=i,hn.style.left=s,hn.style.border="blue 1px solid",hn.style.transform="scaleY(-1)",document.body.appendChild(hn),kg=hn.getContext("2d")),(hn.width!==t.width||hn.height!==t.height)&&(hn.width=t.width/2,hn.height=t.height/2,hn.style.width="400px",hn.style.height="400px");const c=t.device.readPixelsToArrayWebGL(t),f=kg.createImageData(t.width,t.height),h=0;for(let y=0;y<c.length;y+=4)f.data[h+y+0]=c[y+0]*l,f.data[h+y+1]=c[y+1]*l,f.data[h+y+2]=c[y+2]*l,f.data[h+y+3]=n?255:c[y+3]*l;kg.putImageData(f,0,0)}const Ma=2,U5=1e4,Md=class Md{constructor(e,r){H(this,"device");H(this,"id");H(this,"source");H(this,"vs");H(this,"fs");H(this,"pipelineFactory");H(this,"shaderFactory");H(this,"userData",{});H(this,"parameters");H(this,"topology");H(this,"bufferLayout");H(this,"isInstanced");H(this,"instanceCount",0);H(this,"vertexCount");H(this,"indexBuffer",null);H(this,"bufferAttributes",{});H(this,"constantAttributes",{});H(this,"bindings",{});H(this,"uniforms",{});H(this,"vertexArray");H(this,"transformFeedback",null);H(this,"pipeline");H(this,"shaderInputs");H(this,"_uniformStore");H(this,"_attributeInfos",{});H(this,"_gpuGeometry",null);H(this,"_getModuleUniforms");H(this,"props");H(this,"_pipelineNeedsUpdate","newly created");H(this,"_needsRedraw","initializing");H(this,"_destroyed",!1);H(this,"_lastDrawTimestamp",-1);H(this,"_lastLogTime",0);H(this,"_logOpen",!1);H(this,"_drawCount",0);var c,f,h,y;this.props={...Md.defaultProps,...r},r=this.props,this.id=r.id||qo("model"),this.device=e,Object.assign(this.userData,r.userData);const n=Object.fromEntries(((c=this.props.modules)==null?void 0:c.map(b=>[b.name,b]))||[]);this.setShaderInputs(r.shaderInputs||new F5(n));const i=L5(e),s=(((f=this.props.modules)==null?void 0:f.length)>0?this.props.modules:(h=this.shaderInputs)==null?void 0:h.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){(y=this.props).shaderLayout||(y.shaderLayout=r6(this.props.source));const{source:b,getUniforms:w}=this.props.shaderAssembler.assembleShader({platformInfo:i,...this.props,modules:s});this.source=b,this._getModuleUniforms=w}else{const{vs:b,fs:w,getUniforms:x}=this.props.shaderAssembler.assembleShaderPair({platformInfo:i,...this.props,modules:s});this.vs=b,this.fs=w,this._getModuleUniforms=x}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,r.geometry&&this.setGeometry(r.geometry),this.pipelineFactory=r.pipelineFactory||Wm.getDefaultPipelineFactory(this.device),this.shaderFactory=r.shaderFactory||Hm.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in r&&(this.isInstanced=r.isInstanced),r.instanceCount&&this.setInstanceCount(r.instanceCount),r.vertexCount&&this.setVertexCount(r.vertexCount),r.indexBuffer&&this.setIndexBuffer(r.indexBuffer),r.attributes&&this.setAttributes(r.attributes),r.constantAttributes&&this.setConstantAttributes(r.constantAttributes),r.bindings&&this.setBindings(r.bindings),r.uniforms&&this.setUniforms(r.uniforms),r.moduleSettings&&this.updateModuleSettings(r.moduleSettings),r.transformFeedback&&(this.transformFeedback=r.transformFeedback),Object.seal(this)}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){this.predraw();let r;try{this._logDrawCallStart(),this.pipeline=this._updatePipeline(),this.pipeline.setBindings(this.bindings,{disableWarnings:this.props.disableWarnings}),Jf(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:n}=this.vertexArray,i=n?n.byteLength/(n.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:i,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){var n;(n=this._gpuGeometry)==null||n.destroy();const r=e&&I5(this.device,e);r&&(this.setTopology(r.topology||"triangle-list"),this.bufferLayout=u1(r.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(r)),this._gpuGeometry=r}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){this.bufferLayout=this._gpuGeometry?u1(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){Om(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new f4(this.shaderInputs.modules);for(const r of Object.keys(this.shaderInputs.modules)){const n=this._uniformStore.getManagedUniformBuffer(this.device,r);this.bindings[`${r}Uniforms`]=n}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindings()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,r){e.indices&&Ze.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();for(const[n,i]of Object.entries(e)){const s=this.bufferLayout.find(f=>f1(f).includes(n));if(!s){Ze.warn(`Model(${this.id}): Missing layout for buffer "${n}".`)();continue}const l=f1(s);let c=!1;for(const f of l){const h=this._attributeInfos[f];h&&(this.vertexArray.setBuffer(h.location,i),c=!0)}!c&&!((r==null?void 0:r.disableWarnings)??this.props.disableWarnings)&&Ze.warn(`Model(${this.id}): Ignoring buffer "${i.id}" for unknown attribute "${n}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,r){for(const[n,i]of Object.entries(e)){const s=this._attributeInfos[n];s?this.vertexArray.setConstantWebGL(s.location,i):((r==null?void 0:r.disableWarnings)??this.props.disableWarnings)||Ze.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${n}"`)()}this.setNeedsRedraw("constants")}setUniforms(e){Jf(e)||(this.pipeline.setUniformsWebGL(e),Object.assign(this.uniforms,e)),this.setNeedsRedraw("uniforms")}updateModuleSettings(e){const{bindings:r,uniforms:n}=X0(this._getModuleUniforms(e));Object.assign(this.bindings,r),Object.assign(this.uniforms,n),this.setNeedsRedraw("moduleSettings")}_getBindingsUpdateTimestamp(){let e=0;for(const r of Object.values(this.bindings))r instanceof Gf?e=Math.max(e,r.texture.updateTimestamp):r instanceof Lr||r instanceof _i?e=Math.max(e,r.updateTimestamp):r instanceof td||(e=Math.max(e,r.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const r={...e.attributes};for(const[n]of Object.entries(r))!this.pipeline.shaderLayout.attributes.find(i=>i.name===n)&&n!=="positions"&&delete r[n];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(r,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,r=null;this.pipeline&&(Ze.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,r=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const n=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debug:this.props.debugShaders});let i=null;this.source?i=n:this.fs&&(i=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debug:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,vs:n,fs:i}),this._attributeInfos=tE(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),r&&this.shaderFactory.release(r)}return this.pipeline}_logDrawCallStart(){const e=Ze.level>3?0:U5;Ze.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,Ze.group(Ma,`>>> DRAWING MODEL ${this.id}`,{collapsed:Ze.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=D5(this.pipeline.shaderLayout,this.id);Ze.table(Ma,e)();const r=this.shaderInputs.getDebugTable();for(const[i,s]of Object.entries(this.uniforms))r[i]={value:s};Ze.table(Ma,r)();const n=this._getAttributeDebugTable();Ze.table(Ma,this._attributeInfos)(),Ze.table(Ma,n)(),Ze.groupEnd(Ma)(),this._logOpen=!1}}_logFramebuffer(e){const r=Ze.get("framebuffer");if(this._drawCount++,!r||this._drawCount++>3&&this._drawCount%60)return;const n=e.props.framebuffer;n&&B5(n,{id:n.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[r,n]of Object.entries(this._attributeInfos))e[n.location]={name:r,type:n.shaderType,values:this._getBufferOrConstantValues(this.vertexArray.attributes[n.location],n.bufferDataType)};if(this.vertexArray.indexBuffer){const{indexBuffer:r}=this.vertexArray,n=r.indexType==="uint32"?new Uint32Array(r.debugData):new Uint16Array(r.debugData);e.indices={name:"indices",type:r.indexType,values:n.toString()}}return e}_getBufferOrConstantValues(e,r){const n=iE(r);return(e instanceof Lr?new n(e.debugData):e).toString()}};H(Md,"defaultProps",{...Qa.defaultProps,source:null,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:Qf.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let il=Md;function u1(t,e){const r=[...t];for(const n of e){const i=r.findIndex(s=>s.name===n.name);i<0?r.push(n):r[i]=n}return r}function L5(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function f1(t){var e;return t.attributes?(e=t.attributes)==null?void 0:e.map(r=>r.attribute):[t.name]}class Dc{constructor(e,r=il.defaultProps){H(this,"device");H(this,"model");H(this,"transformFeedback");Ar(Dc.isSupported(e),"BufferTransform not yet implemented on WebGPU"),this.device=e,this.model=new il(this.device,{id:r.id||"buffer-transform-model",fs:r.fs||hB(),topology:r.topology||"point-list",...r}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:r.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var r;return((r=e==null?void 0:e.info)==null?void 0:r.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){const r=this.device.beginRenderPass(e);this.model.draw(r),r.end()}update(...e){console.warn("TextureTransform#update() not implemented")}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const r=this.getBuffer(e);if(r instanceof Lr)return r.readAsync();const{buffer:n,byteOffset:i=0,byteLength:s=n.byteLength}=r;return n.readAsync(i,s)}}class FE{constructor(e){H(this,"id");H(this,"topology");H(this,"vertexCount");H(this,"indices");H(this,"attributes");H(this,"userData",{});const{attributes:r={},indices:n=null,vertexCount:i=null}=e;this.id=e.id||qo("geometry"),this.topology=e.topology,n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n),this.attributes={};for(const[s,l]of Object.entries(r)){const c=ArrayBuffer.isView(l)?{value:l}:l;Ar(ArrayBuffer.isView(c.value),`${this._print(s)}: must be typed array or object with value as typed array`),(s==="POSITION"||s==="positions")&&!c.size&&(c.size=3),s==="indices"?(Ar(!this.indices),this.indices=c):this.attributes[s]=c}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=i||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,r){return this}_calculateVertexCount(e,r){if(r)return r.value.length;let n=1/0;for(const i of Object.values(e)){const{value:s,size:l,constant:c}=i;!c&&s&&l>=1&&(n=Math.min(n,s.length/l))}return Ar(Number.isFinite(n)),n}}const j5={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class DE extends Q0{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:s,pickingFBO:l,deviceRect:{x:c,y:f,width:h,height:y},cullRect:b,effects:w,pass:x="picking",pickZ:A,moduleParameters:E}){this.pickZ=A;const k=this._resetColorEncoder(A),O=[c,f,h,y],N=super.render({target:l,layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:s,cullRect:b,effects:w==null?void 0:w.filter(R=>R.useInPicking),pass:x,isPicking:!0,moduleParameters:E,clearColor:[0,0,0,0],colorMask:15,scissorRect:O});return this._colorEncoderState=null,{decodePickingColor:k&&$5.bind(null,k),stats:N}}shouldDrawLayer(e){const{pickable:r,operation:n}=e.props;return r&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getModuleParameters(){return{picking:{isActive:1,isAttribute:this.pickZ},lightSources:{}}}getLayerParameters(e,r,n){const i={depthMask:!0,depthTest:!0,depthRange:[0,1],...e.props.parameters},{pickable:s,operation:l}=e.props;return!this._colorEncoderState||l.includes("terrain")?i.blend=!1:s&&l.includes("draw")&&(Object.assign(i,j5),i.blend=!0,i.blendColor=z5(this._colorEncoderState,e,n)),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function z5(t,e,r){const{byLayer:n,byAlpha:i}=t;let s,l=n.get(e);return l?(l.viewports.push(r),s=l.a):(s=n.size+1,s<=255?(l={a:s,layer:e,viewports:[r]},n.set(e,l),i[s]=l):(Cr.warn("Too many pickable layers, only picking the first 255")(),s=0)),[0,0,0,s/255]}function $5(t,e){const r=t.byAlpha[e[3]];return r&&{pickedLayer:r.layer,pickedViewports:r.viewports,pickedObjectIndex:r.layer.decodePickingColor(e)}}const Oa={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},dd=Symbol.for("component"),Bo=Symbol.for("propTypes"),Ig=Symbol.for("deprecatedProps"),Ya=Symbol.for("asyncPropDefaults"),Wo=Symbol.for("asyncPropOriginal"),qs=Symbol.for("asyncPropResolved");function BE(t,e=()=>!0){return Array.isArray(t)?UE(t,e,[]):e(t)?[t]:[]}function UE(t,e,r){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?UE(i,e,r):e(i)&&r.push(i)}return r}function V5({target:t,source:e,start:r=0,count:n=1}){const i=e.length,s=n*i;let l=0;for(let c=r;l<i;l++)t[c++]=e[l];for(;l<s;)l<s-l?(t.copyWithin(r+l,r,r+l),l*=2):(t.copyWithin(r+l,r,r+s-l),l=s);return t}class W5{constructor(e,r,n){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=n,this.setData(r)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,r){if(e===this._data&&!r)return;this._data=e;const n=++this._loadCount;let i=e;typeof e=="string"&&(i=bm(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(s=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=s)}).catch(s=>{this._loadCount===n&&(this.isLoaded=!0,this._error=s||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const s of this._subscribers)s.onChange(this.getData())}}class H5{constructor(e){var r;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(r=e.device)==null?void 0:r.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:r,forceUpdate:n=!1,persistent:i=!0}){let s=this._resources[e];s?s.setData(r,n):(s=new W5(e,r,this._context),this._resources[e]=s),s.persistent=i}remove(e){const r=this._resources[e];r&&(r.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const r=this._consumers[e];if(r){for(const n in r){const i=r[n],s=this._resources[i.resourceId];s&&s.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:r,consumerId:n,requestId:i="default"}){const{_resources:s,protocol:l}=this;e.startsWith(l)&&(e=e.replace(l,""),s[e]||this.add({resourceId:e,data:null,persistent:!1}));const c=s[e];if(this._track(n,i,c,r),c)return c.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,r,n,i){const s=this._consumers,l=s[e]=s[e]||{};let c=l[r];const f=c&&c.resourceId&&this._resources[c.resourceId];f&&(f.unsubscribe(c),this.prune()),n&&(c?(c.onChange=i,c.resourceId=n.id):c={onChange:i,resourceId:n.id},l[r]=c,n.subscribe(c))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const r=this._resources[e];!r.persistent&&!r.inUse()&&(r.delete(),delete this._resources[e])}}}const X5="layerManager.setLayers",Y5="layerManager.activateViewport";class K5{constructor(e,r){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=c=>{Dn(Y5,this,c),c&&(this.context.viewport=c)};const{deck:n,stats:i,viewport:s,timeline:l}=r||{};this.layers=[],this.resourceManager=new H5({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:n,shaderAssembler:t5(),defaultShaderModules:[],renderPass:void 0,stats:i||new eh({id:"deck.gl"}),viewport:s||new ll({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:l||new OE,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const i=n.getNeedsRedraw(e);r=r||i}return r}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(r=>e.find(n=>r.id.indexOf(n)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,r){Dn(X5,this,r,e),this._lastRenderedLayers=e;const n=BE(e,Boolean);for(const i of n)i.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:r}=this.context;r.find(n=>n.name===e.name)||(r.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:r}=this.context,n=r.findIndex(i=>i.name===e.name);n>=0&&(r.splice(n,1),this._defaultShaderModulesChanged=!0)}_handleError(e,r,n){n.raiseError(r,`${e} of ${n}`)}_updateLayers(e,r){const n={};for(const l of e)n[l.id]?Cr.warn(`Multiple old layers with same id ${l.id}`)():n[l.id]=l;if(this._defaultShaderModulesChanged){for(const l of e)l.setNeedsUpdate(),l.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const i=[];this._updateSublayersRecursively(r,n,i),this._finalizeOldLayers(n);let s=!1;for(const l of i)if(l.hasUniformTransition()){s=`Uniform transition in ${l}`;break}this._needsUpdate=s,this.layers=i}_updateSublayersRecursively(e,r,n){for(const i of e){i.context=this.context;const s=r[i.id];s===null&&Cr.warn(`Multiple new layers with same id ${i.id}`)(),r[i.id]=null;let l=null;try{this._debug&&s!==i&&i.validateProps(),s?(this._transferLayerState(s,i),this._updateLayer(i)):this._initializeLayer(i),n.push(i),l=i.isComposite?i.getSubLayers():null}catch(c){this._handleError("matching",c,i)}l&&this._updateSublayersRecursively(l,r,n)}}_finalizeOldLayers(e){for(const r in e){const n=e[r];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=Oa.INITIALIZED}catch(r){this._handleError("initialization",r,e)}}_transferLayerState(e,r){r._transferState(e),r.lifecycle=Oa.MATCHED,r!==e&&(e.lifecycle=Oa.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(r){this._handleError("update",r,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=Oa.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=Oa.FINALIZED}catch(r){this._handleError("finalization",r,e)}}}function Ni(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ni(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const s of n)if(!e.hasOwnProperty(s)||!Ni(t[s],e[s],r-1))return!1;return!0}return!1}class q5{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const r=this.controllers[e];r&&r.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const r=this.controllers[e];r&&r.updateTransition()}}getViewports(e){return e?this._viewports.filter(r=>r.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(r=>{e[r.id]=r}),e}getView(e){return this.views.find(r=>r.id===e)}getViewState(e){const r=typeof e=="string"?this.getView(e):e,n=r&&this.viewState[r.getViewStateId()]||this.viewState;return r?r.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,r){const n=this.getViewports(),i={x:e[0],y:e[1]};for(let s=n.length-1;s>=0;--s){const l=n[s];if(l.containsPixel(i)){const c=e.slice();return c[0]-=l.x,c[1]-=l.y,l.unproject(c,r)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,r){(e!==this.width||r!==this.height)&&(this.width=e,this.height=r,this.setNeedsUpdate("Size changed"))}_setViews(e){e=BE(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!Ni(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Cr.warn("missing `viewState` or `initialViewState`")()}_createController(e,r){const n=r.type;return new n({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:s=>{var l;return(l=this.getView(e.id))==null?void 0:l.makeViewport({viewState:s,width:this.width,height:this.height})}})}_updateController(e,r,n,i){const s=e.controller;if(s&&n){const l={...r,...s,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return(!i||i.constructor!==s.type)&&(i=this._createController(e,l)),i&&i.setProps(l),i}return null}_rebuildViewports(){const{views:e}=this,r=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let i=e.length;i--;){const s=e[i],l=this.getViewState(s),c=s.makeViewport({viewState:l,width:this.width,height:this.height});let f=r[s.id];const h=!!s.controller;h&&!f&&(n=!0),(n||!h)&&f&&(f.finalize(),f=null),this.controllers[s.id]=this._updateController(s,l,c,f),c&&this._viewports.unshift(c)}for(const i in r){const s=r[i];s&&!this.controllers[i]&&s.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,r){return e.length!==r.length?!0:e.some((n,i)=>!e[i].equals(r[i]))}}const Z5=/([0-9]+\.?[0-9]*)(%|px)/;function Vs(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=Z5.exec(t);if(e&&e.length>=3){const r=e[2]==="%",n=parseFloat(e[1]);return{position:r?n/100:n,relative:r}}default:throw new Error(`Could not parse position string ${t}`)}}function Ws(t,e){return t.relative?Math.round(t.position*e):t.position}class Ho{constructor(e){const{id:r,x:n=0,y:i=0,width:s="100%",height:l="100%",padding:c=null}=e;this.id=r||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=Vs(n),this._y=Vs(i),this._width=Vs(s),this._height=Vs(l),this._padding=c&&{left:Vs(c.left||0),right:Vs(c.right||0),top:Vs(c.top||0),bottom:Vs(c.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.ViewportType===e.ViewportType&&Ni(this.props,e.props,2)}makeViewport({width:e,height:r,viewState:n}){n=this.filterViewState(n);const i=this.getDimensions({width:e,height:r});return!i.height||!i.width?null:new this.ViewportType({...n,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const r={...e};for(const n in this.props.viewState)n!=="id"&&(r[n]=this.props.viewState[n]);return r}return e}getDimensions({width:e,height:r}){const n={x:Ws(this._x,e),y:Ws(this._y,r),width:Ws(this._width,e),height:Ws(this._height,r)};return this._padding&&(n.padding={left:Ws(this._padding.left,e),top:Ws(this._padding.top,r),right:Ws(this._padding.right,e),bottom:Ws(this._padding.bottom,r)}),n}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class sh{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var r,n;this.cancel(),this.settings=e,this._inProgress=!0,(n=(r=this.settings).onStart)==null||n.call(r,this)}end(){var e,r;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(r=(e=this.settings).onEnd)==null||r.call(e,this))}cancel(){var e,r;this._inProgress&&((r=(e=this.settings).onInterrupt)==null||r.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,r;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:n,settings:i}=this;this._handle=n.addChannel({delay:n.getTime(),duration:i.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(r=(e=this.settings).onUpdate)==null||r.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const d1=()=>{},Xm={BREAK:1,SNAP_TO_END:2,IGNORE:3},Q5=t=>t,J5=Xm.BREAK;class G5{constructor(e){this._onTransitionUpdate=r=>{const{time:n,settings:{interpolator:i,startProps:s,endProps:l,duration:c,easing:f}}=r,h=f(n/c),y=i.interpolateProps(s,l,h);this.propsInTransition=this.getControllerState({...this.props,...y}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new sh(e.timeline),this.onViewStateChange=e.onViewStateChange||d1,this.onStateChange=e.onStateChange||d1}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let r=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let i=n;if(this.transition.inProgress){const{interruption:s,endProps:l}=this.transition.settings;i={...n,...s===Xm.SNAP_TO_END?l:this.propsInTransition||n}}this._triggerTransition(i,e),r=!0}else this.transition.cancel();return r}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:r,transitionInterpolator:n}=e;return(r>0||r==="auto")&&!!n}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,r){return this.transition.inProgress?this.transition.settings.interruption===Xm.IGNORE||this._isUpdateDueToCurrentTransition(r):this._isTransitionEnabled(r)?r.transitionInterpolator.arePropsEqual(e,r):!0}_triggerTransition(e,r){const n=this.getControllerState(e),i=this.getControllerState(r).shortestPathFrom(n),s=r.transitionInterpolator,l=s.getDuration?s.getDuration(e,r):r.transitionDuration;if(l===0)return;const c=s.initializeProps(e,i);this.propsInTransition={};const f={duration:l,easing:r.transitionEasing||Q5,interpolator:s,interruption:r.transitionInterruption||J5,startProps:c.start,endProps:c.end,onStart:r.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(r.onTransitionInterrupt),onEnd:this._onTransitionEnd(r.onTransitionEnd)};this.transition.start(f),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return r=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(r)}}}function kn(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class eL{constructor(e){const{compare:r,extract:n,required:i}=e;this._propsToCompare=r,this._propsToExtract=n||r,this._requiredProps=i}arePropsEqual(e,r){for(const n of this._propsToCompare)if(!(n in e)||!(n in r)||!Oc(e[n],r[n]))return!1;return!0}initializeProps(e,r){const n={},i={};for(const s of this._propsToExtract)(s in e||s in r)&&(n[s]=e[s],i[s]=r[s]);return this._checkRequiredProps(n),this._checkRequiredProps(i),{start:n,end:i}}getDuration(e,r){return r.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(r=>{const n=e[r];kn(Number.isFinite(n)||Array.isArray(n),`${r} is required for transition`)})}}const tL=["longitude","latitude","zoom","bearing","pitch"],rL=["longitude","latitude","zoom"];class J0 extends eL{constructor(e={}){const r=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(r)?{compare:r,required:r}:r||{compare:tL,required:rL},super(n.transitionProps),this.opts=n}initializeProps(e,r){const n=super.initializeProps(e,r),{makeViewport:i,around:s}=this.opts;if(i&&s){const l=i(e),c=i(r),f=l.unproject(s);n.start.around=s,Object.assign(n.end,{around:c.project(f),aroundPosition:f,width:r.width,height:r.height})}return n}interpolateProps(e,r,n){const i={};for(const s of this._propsToExtract)i[s]=od(e[s]||0,r[s]||0,n);if(r.aroundPosition&&this.opts.makeViewport){const s=this.opts.makeViewport({...r,...i});Object.assign(i,s.panByPosition(r.aroundPosition,od(e.around,r.around,n)))}return i}}const Hs={transitionDuration:0},nL=300,Rf=t=>1-(1-t)*(1-t),ka={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},wo={};class LE{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new G5({...e,getControllerState:r=>new this.ControllerState(r),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const r in this._events)this._events[r]&&((e=this.eventManager)==null||e.off(r,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const r=this._eventStartBlocked;switch(e.type){case"panstart":return r?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return r?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return r?!1:this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:r,y:n}=this.props,{offsetCenter:i}=e;return[i.x-r,i.y-n]}isPointInBounds(e,r){const{width:n,height:i}=this.props;if(r&&r.handled)return!1;const s=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=i;return s&&r&&r.stopPropagation(),s}isFunctionKeyPressed(e){const{srcEvent:r}=e;return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const r=setTimeout(()=>{this._eventStartBlocked===r&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=r}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:r}=e;this.inertia=Number.isFinite(r)?r:r===!0?nL:0;const{scrollZoom:n=!0,dragPan:i=!0,dragRotate:s=!0,doubleClickZoom:l=!0,touchZoom:c=!0,touchRotate:f=!1,keyboard:h=!0}=e,y=!!this.onViewStateChange;this.toggleEvents(ka.WHEEL,y&&n),this.toggleEvents(ka.PAN,y),this.toggleEvents(ka.PINCH,y&&(c||f)),this.toggleEvents(ka.TRIPLE_PAN,y&&f),this.toggleEvents(ka.DOUBLE_TAP,y&&l),this.toggleEvents(ka.KEYBOARD,y&&h),this.scrollZoom=n,this.dragPan=i,this.dragRotate=s,this.doubleClickZoom=l,this.touchZoom=c,this.touchRotate=f,this.keyboard=h}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,r){this.eventManager&&e.forEach(n=>{this._events[n]!==r&&(this._events[n]=r,r?this.eventManager.on(n,this.handleEvent):this.eventManager.off(n,this.handleEvent))})}updateViewport(e,r=null,n={}){const i={...e.getViewportProps(),...r},s=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),s){const l=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:l,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(n=!n);const i=this.controllerState[n?"panStart":"rotateStart"]({pos:r});return this._panMove=n,this.updateViewport(i,Hs,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const r=this.getCenter(e),n=this.controllerState.pan({pos:r});return this.updateViewport(n,Hs,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:r}=this;if(this.dragPan&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],s=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:Rf},{isDragging:!1,isPanning:!0})}else{const n=this.controllerState.panEnd();this.updateViewport(n,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const r=this.getCenter(e),n=this.controllerState.rotate({pos:r});return this.updateViewport(n,Hs,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:r}=this;if(this.dragRotate&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],s=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:Rf},{isDragging:!1,isRotating:!0})}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;e.srcEvent.preventDefault();const{speed:n=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:s}=e;let l=2/(1+Math.exp(-Math.abs(s*n)));s<0&&l!==0&&(l=1/l);const c=this.controllerState.zoom({pos:r,scale:l});return this.updateViewport(c,{...this._getTransitionProps({around:r}),transitionDuration:i?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.rotateStart({pos:r});return this.updateViewport(n,Hs,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const r=this.getCenter(e);r[0]-=e.deltaX;const n=this.controllerState.rotate({pos:r});return this.updateViewport(n,Hs,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this;if(this.touchRotate&&r&&e.velocityY){const n=this.getCenter(e),i=[n[0],n[1]+=e.velocityY*r/2],s=this.controllerState.rotate({pos:i});this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:Rf},{isDragging:!1,isRotating:!0}),this.blockEvents(r)}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.zoomStart({pos:r}).rotateStart({pos:r});return wo._startPinchRotation=e.rotation,wo._lastPinchEvent=e,this.updateViewport(n,Hs,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let r=this.controllerState;if(this.touchZoom){const{scale:n}=e,i=this.getCenter(e);r=r.zoom({pos:i,scale:n})}if(this.touchRotate){const{rotation:n}=e;r=r.rotate({deltaAngleX:wo._startPinchRotation-n})}return this.updateViewport(r,Hs,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),wo._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this,{_lastPinchEvent:n}=wo;if(this.touchZoom&&r&&n&&e.scale!==n.scale){const i=this.getCenter(e);let s=this.controllerState.rotateEnd();const l=Math.log2(e.scale),c=(l-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),f=Math.pow(2,l+c*r/2);s=s.zoom({pos:i,scale:f}).zoomEnd(),this.updateViewport(s,{...this._getTransitionProps({around:i}),transitionDuration:r,transitionEasing:Rf},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(r)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return wo._startPinchRotation=null,wo._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:r,scale:n?.5:2});return this.updateViewport(i,this._getTransitionProps({around:r}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const r=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:i,rotateSpeedX:s,rotateSpeedY:l}=this.keyboard===!0?{}:this.keyboard,{controllerState:c}=this;let f;const h={};switch(e.srcEvent.code){case"Minus":f=r?c.zoomOut(n).zoomOut(n):c.zoomOut(n),h.isZooming=!0;break;case"Equal":f=r?c.zoomIn(n).zoomIn(n):c.zoomIn(n),h.isZooming=!0;break;case"ArrowLeft":r?(f=c.rotateLeft(s),h.isRotating=!0):(f=c.moveLeft(i),h.isPanning=!0);break;case"ArrowRight":r?(f=c.rotateRight(s),h.isRotating=!0):(f=c.moveRight(i),h.isPanning=!0);break;case"ArrowUp":r?(f=c.rotateUp(l),h.isRotating=!0):(f=c.moveUp(i),h.isPanning=!0);break;case"ArrowDown":r?(f=c.rotateDown(l),h.isRotating=!0):(f=c.moveDown(i),h.isPanning=!0);break;default:return!1}return this.updateViewport(f,this._getTransitionProps(),h),!0}_getTransitionProps(e){const{transition:r}=this;return!r||!r.transitionInterpolator?Hs:e?{...r,transitionInterpolator:new J0({...e,...r.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:r}}class jE{constructor(e,r){this._viewportProps=this.applyConstraints(e),this._state=r}getViewportProps(){return this._viewportProps}getState(){return this._state}}const h1=5,iL=1.2;class sL extends jE{constructor(e){const{width:r,height:n,latitude:i,longitude:s,zoom:l,bearing:c=0,pitch:f=0,altitude:h=1.5,position:y=[0,0,0],maxZoom:b=20,minZoom:w=0,maxPitch:x=60,minPitch:A=0,startPanLngLat:E,startZoomLngLat:k,startRotatePos:O,startBearing:N,startPitch:M,startZoom:R,normalize:P=!0}=e;kn(Number.isFinite(s)),kn(Number.isFinite(i)),kn(Number.isFinite(l)),super({width:r,height:n,latitude:i,longitude:s,zoom:l,bearing:c,pitch:f,altitude:h,maxZoom:b,minZoom:w,maxPitch:x,minPitch:A,normalize:P,position:y},{startPanLngLat:E,startZoomLngLat:k,startRotatePos:O,startBearing:N,startPitch:M,startZoom:R}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:r}){const n=this.getState().startPanLngLat||this._unproject(r);if(!n)return this;const s=this.makeViewport(this.getViewportProps()).panByPosition(n,e);return this._getUpdatedState(s)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:r=0,deltaAngleY:n=0}){const{startRotatePos:i,startBearing:s,startPitch:l}=this.getState();if(!i||s===void 0||l===void 0)return this;let c;return e?c=this._getNewRotation(e,i,l,s):c={bearing:s+r,pitch:l+n},this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:r,scale:n}){let{startZoom:i,startZoomLngLat:s}=this.getState();if(s||(i=this.getViewportProps().zoom,s=this._unproject(r)||this._unproject(e)),!s)return this;const{maxZoom:l,minZoom:c}=this.getViewportProps();let f=i+Math.log2(n);f=ri(f,c,l);const h=this.makeViewport({...this.getViewportProps(),zoom:f});return this._getUpdatedState({zoom:f,...h.panByPosition(s,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const r=e.getViewportProps(),n={...this.getViewportProps()},{bearing:i,longitude:s}=n;return Math.abs(i-r.bearing)>180&&(n.bearing=i<0?i+360:i-360),Math.abs(s-r.longitude)>180&&(n.longitude=s<0?s+360:s-360),n}applyConstraints(e){const{maxZoom:r,minZoom:n,zoom:i}=e;e.zoom=ri(i,n,r);const{maxPitch:s,minPitch:l,pitch:c}=e;e.pitch=ri(c,l,s);const{normalize:f=!0}=e;return f&&Object.assign(e,$U(e)),e}_zoomFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.zoom({pos:[r/2,n/2],scale:e})}_panFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.pan({startPos:[r/2,n/2],pos:[r/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const r=this.makeViewport(this.getViewportProps());return e&&r.unproject(e)}_getNewRotation(e,r,n,i){const s=e[0]-r[0],l=e[1]-r[1],c=e[1],f=r[1],{width:h,height:y}=this.getViewportProps(),b=s/h;let w=0;l>0?Math.abs(y-f)>h1&&(w=l/(f-y)*iL):l<0&&f>h1&&(w=1-c/f),w=ri(w,-1,1);const{minPitch:x,maxPitch:A}=this.getViewportProps(),E=i+180*b;let k=n;return w>0?k=n+w*(A-n):w<0&&(k=n-w*(x-n)),{pitch:k,bearing:E}}}class oL extends LE{constructor(){super(...arguments),this.ControllerState=sL,this.transition={transitionDuration:300,transitionInterpolator:new J0({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const r=this.props;super.setProps(e),(!r||r.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class zE extends Ho{constructor(e={}){super(e)}get ViewportType(){return nl}get ControllerType(){return oL}}zE.displayName="MapView";const aL=new IE;function lL(t,e){const r=t.order??1/0,n=e.order??1/0;return r-n}class cL{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const r=this._defaultEffects;if(!r.find(n=>n.id===e.id)){const n=r.findIndex(i=>lL(i,e)>0);n<0?r.push(e):r.splice(n,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(Ni(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}getEffects(){return this._resolvedEffects}_setEffects(e){const r={};for(const i of this.effects)r[i.id]=i;const n=[];for(const i of e){const s=r[i.id];let l=i;s&&s!==i?s.setProps?(s.setProps(i.props),l=s):s.cleanup(this._context):s||i.setup(this._context),n.push(l),delete r[i.id]}for(const i in r)r[i].cleanup(this._context);this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),e.some(i=>i instanceof IE)||this._resolvedEffects.push(aL),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class uL extends Q0{shouldDrawLayer(e){const{operation:r}=e.props;return r.includes("draw")||r.includes("terrain")}}const fL="deckRenderer.renderLayers";class dL{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new uL(e),this.pickLayersPass=new DE(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const r=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};n.effects&&this._preRender(n.effects,n);const i=this.lastPostProcessEffect?this.renderBuffers[0]:n.target;this.lastPostProcessEffect&&(n.clearColor=[0,0,0,0],n.clearCanvas=!0);const s=r.render({...n,target:i});n.effects&&this._postRender(n.effects,n),this.renderCount++,Dn(fL,this,s,e)}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}finalize(){const{renderBuffers:e}=this;for(const r of e)r.delete();e.length=0}_preRender(e,r){this.lastPostProcessEffect=null,r.preRenderStats=r.preRenderStats||{};for(const n of e)r.preRenderStats[n.id]=n.preRender(r),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,r=this.device.canvasContext.getDrawingBufferSize();e.length===0&&[0,1].map(n=>{const i=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${n}`,colorAttachments:[i]}))});for(const n of e)n.resize(r)}_postRender(e,r){const{renderBuffers:n}=this,i={...r,inputBuffer:n[0],swapBuffer:n[1]};for(const s of e)if(s.postRender){i.target=s.id===this.lastPostProcessEffect?r.target:void 0;const l=s.postRender(i);i.inputBuffer=l,i.swapBuffer=l===n[0]?n[1]:n[0]}}}const hL={pickedColor:null,pickedObjectIndex:-1};function pL({pickedColors:t,decodePickingColor:e,deviceX:r,deviceY:n,deviceRadius:i,deviceRect:s}){const{x:l,y:c,width:f,height:h}=s;let y=i*i,b=-1,w=0;for(let x=0;x<h;x++){const A=x+c-n,E=A*A;if(E>y)w+=4*f;else for(let k=0;k<f;k++){if(t[w+3]-1>=0){const N=k+l-r,M=N*N+E;M<=y&&(y=M,b=w)}w+=4}}if(b>=0){const x=t.slice(b,b+4),A=e(x);if(A){const E=Math.floor(b/4/f),k=b/4-E*f;return{...A,pickedColor:x,pickedX:l+k,pickedY:c+E}}Cr.error("Picked non-existent layer. Is picking buffer corrupt?")()}return hL}function gL({pickedColors:t,decodePickingColor:e}){const r=new Map;if(t){for(let n=0;n<t.length;n+=4)if(t[n+3]-1>=0){const s=t.slice(n,n+4),l=s.join(",");if(!r.has(l)){const c=e(s);c?r.set(l,{...c,color:s}):Cr.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(r.values())}function $E({pickInfo:t,viewports:e,pixelRatio:r,x:n,y:i,z:s}){let l=e[0];e.length>1&&(l=_L((t==null?void 0:t.pickedViewports)||e,{x:n,y:i}));let c;if(l){const f=[n-l.x,i-l.y];s!==void 0&&(f[2]=s),c=l.unproject(f)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:n,y:i,pixel:[n,i],coordinate:c,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:r}}function mL(t){const{pickInfo:e,lastPickedInfo:r,mode:n,layers:i}=t,{pickedColor:s,pickedLayer:l,pickedObjectIndex:c}=e,f=l?[l]:[];if(n==="hover"){const b=r.index,w=r.layerId,x=l?l.props.id:null;if(x!==w||c!==b){if(x!==w){const A=i.find(E=>E.props.id===w);A&&f.unshift(A)}r.layerId=x,r.index=c,r.info=null}}const h=$E(t),y=new Map;return y.set(null,h),f.forEach(b=>{let w={...h};b===l&&(w.color=s,w.index=c,w.picked=!0),w=VE({layer:b,info:w,mode:n});const x=w.layer;b===l&&n==="hover"&&(r.info=w),y.set(x.id,w),n==="hover"&&x.updateAutoHighlight(w)}),y}function VE({layer:t,info:e,mode:r}){for(;t&&e;){const n=e.layer||null;e.sourceLayer=n,e.layer=t,e=t.getPickingInfo({info:e,mode:r,sourceLayer:n}),t=t.parent}return e}function _L(t,e){for(let r=t.length-1;r>=0;r--){const n=t[r];if(n.containsPixel(e))return n}return t[0]}class yL{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new DE(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:r,layers:n,viewports:i},s=this.lastPickedInfo.info){const l=s&&s.layer&&s.layer.id,c=s&&s.viewport&&s.viewport.id,f=l?n.find(w=>w.id===l):null,h=c&&i.find(w=>w.id===c)||i[0],y=h&&h.unproject([e-h.x,r-h.y]);return{...s,...{x:e,y:r,viewport:h,coordinate:y,layer:f}}}_resizeBuffer(){var r,n;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const i=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=i}const{canvas:e}=this.device.getCanvasContext();(r=this.pickingFBO)==null||r.resize({width:e.width,height:e.height}),(n=this.depthFBO)==null||n.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const r=e.filter(n=>this.pickLayersPass.shouldDrawLayer(n)&&!n.isComposite);return r.length?r:null}_pickClosestObject({layers:e,views:r,viewports:n,x:i,y:s,radius:l=0,depth:c=1,mode:f="query",unproject3D:h,onViewportActive:y,effects:b}){const w=this.device.canvasContext.cssToDeviceRatio(),x=this._getPickable(e);if(!x||n.length===0)return{result:[],emptyInfo:$E({viewports:n,x:i,y:s,pixelRatio:w})};this._resizeBuffer();const A=this.device.canvasContext.cssToDevicePixels([i,s],!0),E=[A.x+Math.floor(A.width/2),A.y+Math.floor(A.height/2)],k=Math.round(l*w),{width:O,height:N}=this.pickingFBO,M=this._getPickingRect({deviceX:E[0],deviceY:E[1],deviceRadius:k,deviceWidth:O,deviceHeight:N}),R={x:i-l,y:s-l,width:l*2+1,height:l*2+1};let P;const I=[],j=new Set;for(let te=0;te<c;te++){let oe;if(M){const F=this._drawAndSample({layers:x,views:r,viewports:n,onViewportActive:y,deviceRect:M,cullRect:R,effects:b,pass:`picking:${f}`});oe=pL({...F,deviceX:E[0],deviceY:E[1],deviceRadius:k,deviceRect:M})}else oe={pickedColor:null,pickedObjectIndex:-1};let C;if(oe.pickedLayer&&h&&this.depthFBO){const{pickedColors:F}=this._drawAndSample({layers:[oe.pickedLayer],views:r,viewports:n,onViewportActive:y,deviceRect:{x:oe.pickedX,y:oe.pickedY,width:1,height:1},cullRect:R,effects:b,pass:`picking:${f}:z`},!0);F[3]&&(C=F[0])}oe.pickedLayer&&te+1<c&&(j.add(oe.pickedLayer),oe.pickedLayer.disablePickingIndex(oe.pickedObjectIndex)),P=mL({pickInfo:oe,lastPickedInfo:this.lastPickedInfo,mode:f,layers:x,viewports:n,x:i,y:s,z:C,pixelRatio:w});for(const F of P.values())F.layer&&I.push(F);if(!oe.pickedColor)break}for(const te of j)te.restorePickingColors();return{result:I,emptyInfo:P.get(null)}}_pickVisibleObjects({layers:e,views:r,viewports:n,x:i,y:s,width:l=1,height:c=1,mode:f="query",maxObjects:h=null,onViewportActive:y,effects:b}){const w=this._getPickable(e);if(!w||n.length===0)return[];this._resizeBuffer();const x=this.device.canvasContext.cssToDeviceRatio(),A=this.device.canvasContext.cssToDevicePixels([i,s],!0),E=A.x,k=A.y+A.height,O=this.device.canvasContext.cssToDevicePixels([i+l,s+c],!0),N=O.x+O.width,M=O.y,R={x:E,y:M,width:N-E,height:k-M},P=this._drawAndSample({layers:w,views:r,viewports:n,onViewportActive:y,deviceRect:R,cullRect:{x:i,y:s,width:l,height:c},effects:b,pass:`picking:${f}`}),I=gL(P),j=new Map,te=[],oe=Number.isFinite(h);for(let C=0;C<I.length&&!(oe&&te.length>=h);C++){const F=I[C];let K={color:F.pickedColor,layer:null,index:F.pickedObjectIndex,picked:!0,x:i,y:s,pixelRatio:x};K=VE({layer:F.pickedLayer,info:K,mode:f});const V=K.layer.id;j.has(V)||j.set(V,new Set);const Q=j.get(V),J=K.object??K.index;Q.has(J)||(Q.add(J),te.push(K))}return te}_drawAndSample({layers:e,views:r,viewports:n,onViewportActive:i,deviceRect:s,cullRect:l,effects:c,pass:f},h=!1){const y=h?this.depthFBO:this.pickingFBO,b={layers:e,layerFilter:this.layerFilter,views:r,viewports:n,onViewportActive:i,pickingFBO:y,deviceRect:s,cullRect:l,effects:c,pass:f,pickZ:h,preRenderStats:{}};for(const N of c)N.useInPicking&&(b.preRenderStats[N.id]=N.preRender(b));const{decodePickingColor:w}=this.pickLayersPass.render(b),{x,y:A,width:E,height:k}=s,O=new(h?Float32Array:Uint8Array)(E*k*4);return this.device.readPixelsToArrayWebGL(y,{sourceX:x,sourceY:A,sourceWidth:E,sourceHeight:k,target:O}),{pickedColors:O,decodePickingColor:w}}_getPickingRect({deviceX:e,deviceY:r,deviceRadius:n,deviceWidth:i,deviceHeight:s}){const l=Math.max(0,e-n),c=Math.max(0,r-n),f=Math.min(i,e+n+1)-l,h=Math.min(s,r+n+1)-c;return f<=0||h<=0?null:{x:l,y:c,width:f,height:h}}}const vL={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},wL="top-left",p1="__root";class bL{constructor({deck:e,parentElement:r}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,this.parentElement=r}getWidgets(){return this.resolvedWidgets}setProps(e){e.widgets&&!Ni(e.widgets,this.widgets,1)&&this._setWidgets(e.widgets)}finalize(){for(const e of this.getWidgets())this._remove(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(r=>r.id===e.id)||(this._add(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}_setWidgets(e){const r={};for(const n of this.resolvedWidgets)r[n.id]=n;this.resolvedWidgets.length=0;for(const n of this.defaultWidgets)r[n.id]=null,this.resolvedWidgets.push(n);for(let n of e){const i=r[n.id];i?i.viewId!==n.viewId||i.placement!==n.placement?(this._remove(i),this._add(n)):n!==i&&(i.setProps(n.props),n=i):this._add(n),r[n.id]=null,this.resolvedWidgets.push(n)}for(const n in r){const i=r[n];i&&this._remove(i)}this.widgets=e}_add(e){const{viewId:r=null,placement:n=wL}=e,i=e.onAdd({deck:this.deck,viewId:r});i&&this._getContainer(r,n).append(i),e._element=i}_remove(e){e.onRemove(),e._element&&e._element.remove(),e._element=void 0}_getContainer(e,r){var l;const n=e||p1;let i=this.containers[n];i||(i=document.createElement("div"),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",(l=this.parentElement)==null||l.append(i),this.containers[n]=i);let s=i.querySelector(`.${r}`);return s||(s=document.createElement("div"),s.className=r,s.style.position="absolute",s.style.zIndex="2",Object.assign(s.style,vL[r]),i.append(s)),s}_updateContainers(){const e=this.deck.width,r=this.deck.height;for(const n in this.containers){const i=this.lastViewports[n]||null,s=n===p1||i,l=this.containers[n];s?(l.style.display="block",l.style.left=`${i?i.x:0}px`,l.style.top=`${i?i.y:0}px`,l.style.width=`${i?i.width:e}px`,l.style.height=`${i?i.height:r}px`):l.style.display="none"}}onRedraw({viewports:e,layers:r}){var s,l;const n=e.reduce((c,f)=>(c[f.id]=f,c),{}),{lastViewports:i}=this;for(const c of this.getWidgets()){const{viewId:f}=c;if(f){const h=n[f];h&&(c.onViewportChange&&!h.equals(i[f])&&c.onViewportChange(h),(s=c.onRedraw)==null||s.call(c,{viewports:[h],layers:r}))}else{if(c.onViewportChange)for(const h of e)h.equals(i[h.id])||c.onViewportChange(h);(l=c.onRedraw)==null||l.call(c,{viewports:e,layers:r})}}this.lastViewports=n,this._updateContainers()}onHover(e,r){var n,i;for(const s of this.getWidgets()){const{viewId:l}=s;(!l||l===((n=e.viewport)==null?void 0:n.id))&&((i=s.onHover)==null||i.call(s,e,r))}}onEvent(e,r){var i,s;const n=jm[r.type];if(n)for(const l of this.getWidgets()){const{viewId:c}=l;(!c||c===((i=e.viewport)==null?void 0:i.id))&&((s=l[n.handler])==null||s.call(l,e,r))}}}const SL={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class TL{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:e}){const r=document.createElement("div");return r.className="deck-tooltip",Object.assign(r.style,SL),this.deck=e,this.element=r,r}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(e){var r;this.isVisible&&e.id===((r=this.lastViewport)==null?void 0:r.id)&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:r}=this,n=r&&r.props.getTooltip;if(!n)return;const i=n(e);this.lastViewport=e.viewport,this.setTooltip(i,e.x,e.y)}setTooltip(e,r,n){const i=this.element;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform=`translate(${r}px, ${n}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}}var Da;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(Da||(Da={}));const G0={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Gr=(t,e,r)=>e?t.enable(r):t.disable(r),g1=(t,e,r)=>t.hint(r,e),Gn=(t,e,r)=>t.pixelStorei(r,e),m1=(t,e,r)=>{const n=r===36006?36009:36008;return t.bindFramebuffer(n,e)},Jl=(t,e,r)=>{const i={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[r];t.bindBuffer(i,e)};function Ng(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const EL={3042:Gr,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Gr,2885:(t,e)=>t.cullFace(e),2929:Gr,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Gr,35723:g1,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>{var r;return(r=t.bindTransformFeedback)==null?void 0:r.call(t,36386,e)},34229:(t,e)=>t.bindVertexArray(e),36006:m1,36010:m1,34964:Jl,36662:Jl,36663:Jl,35053:Jl,35055:Jl,2886:(t,e)=>t.frontFace(e),33170:g1,2849:(t,e)=>t.lineWidth(e),32823:Gr,32824:"polygonOffset",10752:"polygonOffset",35977:Gr,32926:Gr,32928:Gr,32938:"sampleCoverage",32939:"sampleCoverage",3089:Gr,3088:(t,e)=>t.scissor(...e),2960:Gr,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:Gr,10754:Gr,12288:Gr,12289:Gr,12290:Gr,12291:Gr,12292:Gr,12293:Gr,12294:Gr,12295:Gr,3333:Gn,3317:Gn,37440:Gn,37441:Gn,37443:Gn,3330:Gn,3332:Gn,3331:Gn,3314:Gn,32878:Gn,3316:Gn,3315:Gn,32877:Gn,framebuffer:(t,e)=>{const r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,r)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const r=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...r)},blendFunc:(t,e)=>{const r=(e==null?void 0:e.length)===2?[...e,...e]:e;t.blendFuncSeparate(...r)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(...e),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=Ng(e)?e:[e,e];const[r,n]=e;t.stencilMaskSeparate(1028,r),t.stencilMaskSeparate(1029,n)},stencilFunc:(t,e)=>{e=Ng(e)&&e.length===3?[...e,...e]:e;const[r,n,i,s,l,c]=e;t.stencilFuncSeparate(1028,r,n,i),t.stencilFuncSeparate(1029,s,l,c)},stencilOp:(t,e)=>{e=Ng(e)&&e.length===3?[...e,...e]:e;const[r,n,i,s,l,c]=e;t.stencilOpSeparate(1028,r,n,i),t.stencilOpSeparate(1029,s,l,c)},viewport:(t,e)=>t.viewport(...e)};function zr(t,e,r){return e[t]!==void 0?e[t]:r[t]}const RL={blendEquation:(t,e,r)=>t.blendEquationSeparate(zr(32777,e,r),zr(34877,e,r)),blendFunc:(t,e,r)=>t.blendFuncSeparate(zr(32969,e,r),zr(32968,e,r),zr(32971,e,r),zr(32970,e,r)),polygonOffset:(t,e,r)=>t.polygonOffset(zr(32824,e,r),zr(10752,e,r)),sampleCoverage:(t,e,r)=>t.sampleCoverage(zr(32938,e,r),zr(32939,e,r)),stencilFuncFront:(t,e,r)=>t.stencilFuncSeparate(1028,zr(2962,e,r),zr(2967,e,r),zr(2963,e,r)),stencilFuncBack:(t,e,r)=>t.stencilFuncSeparate(1029,zr(34816,e,r),zr(36003,e,r),zr(36004,e,r)),stencilOpFront:(t,e,r)=>t.stencilOpSeparate(1028,zr(2964,e,r),zr(2965,e,r),zr(2966,e,r)),stencilOpBack:(t,e,r)=>t.stencilOpSeparate(1029,zr(34817,e,r),zr(34818,e,r),zr(34819,e,r))},_1={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,r)=>t({[e]:r}),hint:(t,e,r)=>t({[e]:r}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,r)=>t({36007:r}),bindTransformFeedback:(t,e,r)=>t({36389:r}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,r)=>{switch(e){case 36160:return t({36006:r,36010:r});case 36009:return t({36006:r});case 36008:return t({36010:r});default:return null}},bindBuffer:(t,e,r)=>{const n={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return n?t({[n]:r}):{valueChanged:!0}},blendColor:(t,e,r,n,i)=>t({32773:new Float32Array([e,r,n,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,r)=>t({32777:e,34877:r}),blendFunc:(t,e,r)=>t({32969:e,32968:r,32971:e,32970:r}),blendFuncSeparate:(t,e,r,n,i)=>t({32969:e,32968:r,32971:n,32970:i}),clearColor:(t,e,r,n,i)=>t({3106:new Float32Array([e,r,n,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,r,n,i)=>t({3107:[e,r,n,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,r)=>t({2928:new Float32Array([e,r])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,r)=>t({32824:e,10752:r}),sampleCoverage:(t,e,r)=>t({32938:e,32939:r}),scissor:(t,e,r,n,i)=>t({3088:new Int32Array([e,r,n,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,r)=>t({[e===1028?2968:36005]:r}),stencilFunc:(t,e,r,n)=>t({2962:e,2967:r,2963:n,34816:e,36003:r,36004:n}),stencilFuncSeparate:(t,e,r,n,i)=>t({[e===1028?2962:34816]:r,[e===1028?2967:36003]:n,[e===1028?2963:36004]:i}),stencilOp:(t,e,r,n)=>t({2964:e,2965:r,2966:n,34817:e,34818:r,34819:n}),stencilOpSeparate:(t,e,r,n,i)=>t({[e===1028?2964:34817]:r,[e===1028?2965:34818]:n,[e===1028?2966:34819]:i}),viewport:(t,e,r,n,i)=>t({2978:[e,r,n,i]})},Vi=(t,e)=>t.isEnabled(e),y1={3042:Vi,2884:Vi,2929:Vi,3024:Vi,32823:Vi,32926:Vi,32928:Vi,3089:Vi,2960:Vi,35977:Vi},xL=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function cl(t,e){if(AL(e))return;const r={};for(const i in e){const s=Number(i),l=EL[i];l&&(typeof l=="string"?r[l]=!0:l(t,e[i],s))}const n=t.state&&t.state.cache;if(n)for(const i in r){const s=RL[i];s(t,e,n)}}function WE(t,e=G0){if(typeof e=="number"){const i=e,s=y1[i];return s?s(t,i):t.getParameter(i)}const r=Array.isArray(e)?e:Object.keys(e),n={};for(const i of r){const s=y1[i];n[i]=s?s(t,Number(i)):t.getParameter(Number(i))}return n}function CL(t){cl(t,G0)}function AL(t){for(const e in t)return!1;return!0}function PL(t,e){if(t===e)return!0;const r=Array.isArray(t)||ArrayBuffer.isView(t),n=Array.isArray(e)||ArrayBuffer.isView(e);if(r&&n&&t.length===e.length){for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}class ML{constructor(e,{copyState:r=!1,log:n=()=>{}}={}){H(this,"gl");H(this,"program",null);H(this,"stateStack",[]);H(this,"enable",!0);H(this,"cache");H(this,"log");this.gl=e,this.cache=r?WE(e):Object.assign({},G0),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(e={}){this.stateStack.push({})}pop(){Ar(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];cl(this.gl,e),this.stateStack.pop()}_updateCache(e){let r=!1,n;const i=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const s in e){Ar(s!==void 0);const l=e[s],c=this.cache[s];PL(l,c)||(r=!0,n=c,i&&!(s in i)&&(i[s]=c),this.cache[s]=l)}return{valueChanged:r,oldValue:n}}}function Xo(t){return t.state}function HE(t,e){const{enable:r=!0,copyState:n}=e;if(Ar(n!==void 0),!t.state){t.state=new ML(t,{copyState:n}),IL(t);for(const s in _1){const l=_1[s];kL(t,s,l)}v1(t,"getParameter"),v1(t,"isEnabled")}const i=Xo(t);return i.enable=r,t}function oh(t){let e=Xo(t);e||(HE(t,{copyState:!1}),e=Xo(t)),e.push()}function Bc(t){const e=Xo(t);Ar(e),e.pop()}function v1(t,e){const r=t[e].bind(t);t[e]=function(i){if(i===void 0||xL.has(i))return r(i);const s=Xo(t);return i in s.cache||(s.cache[i]=r(i)),s.enable?s.cache[i]:r(i)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function kL(t,e,r){if(!t[e])return;const n=t[e].bind(t);t[e]=function(...s){const l=Xo(t),{valueChanged:c,oldValue:f}=r(l._updateCache,...s);return c&&n(...s),f},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function IL(t){const e=t.useProgram.bind(t);t.useProgram=function(n){const i=Xo(t);i.program!==n&&(e(n),i.program=n)}}const NL={powerPreference:"high-performance",onContextLost:()=>console.error("WebGL context lost"),onContextRestored:()=>console.info("WebGL context restored")};function OL(t,e){e={...NL,...e};let r=null;const n=s=>r=s.statusMessage||r;t.addEventListener("webglcontextcreationerror",n,!1);let i=null;if(i||(i=t.getContext("webgl2",e)),t.removeEventListener("webglcontextcreationerror",n,!1),!i)throw new Error(`Failed to create WebGL context: ${r||"Unknown error"}`);if(e.onContextLost){const{onContextLost:s}=e;t.addEventListener("webglcontextlost",l=>s(l),!1)}if(e.onContextRestored){const{onContextRestored:s}=e;t.addEventListener("webglcontextrestored",l=>s(l),!1)}return i}function eo(t,e,r){return r[e]===void 0&&(r[e]=t.getExtension(e)||null),r[e]}function FL(t,e){const r=t.getParameter(7936),n=t.getParameter(7937);eo(t,"WEBGL_debug_renderer_info",e);const i=e.WEBGL_debug_renderer_info,s=t.getParameter(i?i.UNMASKED_VENDOR_WEBGL:7936),l=t.getParameter(i?i.UNMASKED_RENDERER_WEBGL:7937),c=s||r,f=l||n,h=t.getParameter(7938),y=XE(c,f),b=DL(c,f),w=BL(c,f);return{type:"webgl",gpu:y,gpuType:w,gpuBackend:b,vendor:c,renderer:f,version:h,shadingLanguage:"glsl",shadingLanguageVersion:300}}function XE(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function DL(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function BL(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(XE(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function YE(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const An="texture-compression-bc",wr="texture-compression-astc",Wi="texture-compression-etc2",UL="texture-compression-etc1-webgl",xf="texture-compression-pvrtc-webgl",Og="texture-compression-atc-webgl",Gl="float32-renderable-webgl",Fg="float16-renderable-webgl",LL="rgb9e5ufloat_renderable-webgl",Dg="snorm8-renderable-webgl",ec="norm16-renderable-webgl",Bg="snorm16-renderable-webgl",Cf="float32-filterable",w1="float16-filterable-webgl",fc="WEBGL_compressed_texture_s3tc",dc="WEBGL_compressed_texture_s3tc_srgb",Ba="EXT_texture_compression_rgtc",Ua="EXT_texture_compression_bptc",jL="WEBGL_compressed_texture_etc",zL="WEBGL_compressed_texture_astc",$L="WEBGL_compressed_texture_etc1",VL="WEBGL_compressed_texture_pvrtc",WL="WEBGL_compressed_texture_atc",b1="EXT_texture_norm16",S1="EXT_render_snorm",HL="EXT_color_buffer_float",e_={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat_renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[S1],"norm16-renderable-webgl":[b1],"snorm16-renderable-webgl":[b1,S1],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[fc,dc,Ba,Ua],"texture-compression-bc5-webgl":[Ba],"texture-compression-bc7-webgl":[Ua],"texture-compression-etc2":[jL],"texture-compression-astc":[zL],"texture-compression-etc1-webgl":[$L],"texture-compression-pvrtc-webgl":[VL],"texture-compression-atc-webgl":[WL]};function XL(t){return t in e_}function YL(t,e,r){return(e_[e]||[]).every(i=>eo(t,i,r))}const ah={"rgb8unorm-unsized":{gl:6407,b:4,c:2,bpp:4,dataFormat:6407,types:[5121,33635]},"rgba8unorm-unsized":{gl:6408,b:4,c:2,bpp:4,dataFormat:6408,types:[5121,32819,32820]},r8unorm:{gl:33321,b:1,c:1,rb:!0},r8snorm:{gl:36756,b:1,c:1,render:Dg},r8uint:{gl:33330,b:1,c:1,rb:!0},r8sint:{gl:33329,b:1,c:1,rb:!0},rg8unorm:{gl:33323,b:2,c:2,rb:!0},rg8snorm:{gl:36757,b:2,c:2,render:Dg},rg8uint:{gl:33336,b:2,c:2,rb:!0},rg8sint:{gl:33335,b:2,c:2,rb:!0},r16uint:{gl:33332,b:2,c:1,rb:!0},r16sint:{gl:33331,b:2,c:1,rb:!0},r16float:{gl:33325,b:2,c:1,render:Fg,filter:"float16-filterable-webgl",rb:!0},"r16unorm-webgl":{gl:33322,b:2,c:1,f:ec,rb:!0},"r16snorm-webgl":{gl:36760,b:2,c:1,f:Bg},"rgba4unorm-webgl":{gl:32854,b:2,c:4,wgpu:!1,rb:!0},"rgb565unorm-webgl":{gl:36194,b:2,c:4,wgpu:!1,rb:!0},"rgb5a1unorm-webgl":{gl:32855,b:2,c:4,wgpu:!1,rb:!0},"rgb8unorm-webgl":{gl:32849,b:3,c:3,wgpu:!1},"rgb8snorm-webgl":{gl:36758,b:3,c:3,wgpu:!1},rgba8unorm:{gl:32856,b:4,c:2,bpp:4},"rgba8unorm-srgb":{gl:35907,b:4,c:4,bpp:4},rgba8snorm:{gl:36759,b:4,c:4,render:Dg},rgba8uint:{gl:36220,b:4,c:4,bpp:4},rgba8sint:{gl:36238,b:4,c:4,bpp:4},bgra8unorm:{b:4,c:4},"bgra8unorm-srgb":{b:4,c:4},rg16uint:{gl:33338,b:4,c:1,bpp:4},rg16sint:{gl:33337,b:4,c:2,bpp:4},rg16float:{gl:33327,bpp:4,b:4,c:2,render:Fg,filter:w1,rb:!0},"rg16unorm-webgl":{gl:33324,b:2,c:2,render:ec},"rg16snorm-webgl":{gl:36761,b:2,c:2,render:Bg},r32uint:{gl:33334,b:4,c:1,bpp:4,rb:!0},r32sint:{gl:33333,b:4,c:1,bpp:4,rb:!0},r32float:{gl:33326,bpp:4,b:4,c:1,render:Gl,filter:Cf},rgb9e5ufloat:{gl:35901,b:4,c:3,p:1,render:LL},rg11b10ufloat:{gl:35898,b:4,c:3,p:1,render:Gl,rb:!0},rgb10a2unorm:{gl:32857,b:4,c:4,p:1,rb:!0},"rgb10a2uint-webgl":{b:4,c:4,gl:36975,p:1,wgpu:!1,bpp:4,rb:!0},"rgb16unorm-webgl":{gl:32852,b:2,c:3,f:ec},"rgb16snorm-webgl":{gl:36762,b:2,c:3,f:ec},rg32uint:{gl:33340,b:8,c:2,rb:!0},rg32sint:{gl:33339,b:8,c:2,rb:!0},rg32float:{gl:33328,b:8,c:2,render:Gl,filter:Cf,rb:!0},rgba16uint:{gl:36214,b:8,c:4,rb:!0},rgba16sint:{gl:36232,b:8,c:4,rb:!0},rgba16float:{gl:34842,b:8,c:4,render:Fg,filter:w1},"rgba16unorm-webgl":{gl:32859,b:2,c:4,render:ec,rb:!0},"rgba16snorm-webgl":{gl:36763,b:2,c:4,render:Bg},"rgb32float-webgl":{gl:34837,render:Gl,filter:Cf,gl2ext:HL,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,b:16,c:4,rb:!0},rgba32sint:{gl:36226,b:16,c:4,rb:!0},rgba32float:{gl:34836,b:16,c:4,render:Gl,filter:Cf,rb:!0},stencil8:{gl:36168,b:1,c:1,attachment:36128,rb:!0},depth16unorm:{gl:33189,b:2,c:1,attachment:36096,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,b:3,c:1,attachment:36096,dataFormat:6402,types:[5125]},depth32float:{gl:36012,b:4,c:1,attachment:36096,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth24unorm-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,dataFormat:34041,types:[34042],rb:!0},"depth32float-stencil8":{gl:36013,b:5,c:2,p:1,attachment:33306,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:fc,f:An},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:dc,f:An},"bc1-rgba-unorm":{gl:33777,x:fc,f:An},"bc1-rgba-unorm-srgb":{gl:35916,x:dc,f:An},"bc2-rgba-unorm":{gl:33778,x:fc,f:An},"bc2-rgba-unorm-srgb":{gl:35918,x:dc,f:An},"bc3-rgba-unorm":{gl:33779,x:fc,f:An},"bc3-rgba-unorm-srgb":{gl:35919,x:dc,f:An},"bc4-r-unorm":{gl:36283,x:Ba,f:An},"bc4-r-snorm":{gl:36284,x:Ba,f:An},"bc5-rg-unorm":{gl:36285,x:Ba,f:An},"bc5-rg-snorm":{gl:36286,x:Ba,f:An},"bc6h-rgb-ufloat":{gl:36495,x:Ua,f:An},"bc6h-rgb-float":{gl:36494,x:Ua,f:An},"bc7-rgba-unorm":{gl:36492,x:Ua,f:An},"bc7-rgba-unorm-srgb":{gl:36493,x:Ua,f:An},"etc2-rgb8unorm":{gl:37492,f:Wi},"etc2-rgb8unorm-srgb":{gl:37494,f:Wi},"etc2-rgb8a1unorm":{gl:37496,f:Wi},"etc2-rgb8a1unorm-srgb":{gl:37497,f:Wi},"etc2-rgba8unorm":{gl:37493,f:Wi},"etc2-rgba8unorm-srgb":{gl:37495,f:Wi},"eac-r11unorm":{gl:37488,f:Wi},"eac-r11snorm":{gl:37489,f:Wi},"eac-rg11unorm":{gl:37490,f:Wi},"eac-rg11snorm":{gl:37491,f:Wi},"astc-4x4-unorm":{gl:37808,f:wr},"astc-4x4-unorm-srgb":{gl:37840,f:wr},"astc-5x4-unorm":{gl:37809,f:wr},"astc-5x4-unorm-srgb":{gl:37841,f:wr},"astc-5x5-unorm":{gl:37810,f:wr},"astc-5x5-unorm-srgb":{gl:37842,f:wr},"astc-6x5-unorm":{gl:37811,f:wr},"astc-6x5-unorm-srgb":{gl:37843,f:wr},"astc-6x6-unorm":{gl:37812,f:wr},"astc-6x6-unorm-srgb":{gl:37844,f:wr},"astc-8x5-unorm":{gl:37813,f:wr},"astc-8x5-unorm-srgb":{gl:37845,f:wr},"astc-8x6-unorm":{gl:37814,f:wr},"astc-8x6-unorm-srgb":{gl:37846,f:wr},"astc-8x8-unorm":{gl:37815,f:wr},"astc-8x8-unorm-srgb":{gl:37847,f:wr},"astc-10x5-unorm":{gl:37819,f:wr},"astc-10x5-unorm-srgb":{gl:37851,f:wr},"astc-10x6-unorm":{gl:37817,f:wr},"astc-10x6-unorm-srgb":{gl:37849,f:wr},"astc-10x8-unorm":{gl:37818,f:wr},"astc-10x8-unorm-srgb":{gl:37850,f:wr},"astc-10x10-unorm":{gl:37819,f:wr},"astc-10x10-unorm-srgb":{gl:37851,f:wr},"astc-12x10-unorm":{gl:37820,f:wr},"astc-12x10-unorm-srgb":{gl:37852,f:wr},"astc-12x12-unorm":{gl:37821,f:wr},"astc-12x12-unorm-srgb":{gl:37853,f:wr},"pvrtc-rgb4unorm-webgl":{gl:35840,f:xf},"pvrtc-rgba4unorm-webgl":{gl:35842,f:xf},"pvrtc-rbg2unorm-webgl":{gl:35841,f:xf},"pvrtc-rgba2unorm-webgl":{gl:35843,f:xf},"etc1-rbg-unorm-webgl":{gl:36196,f:UL},"atc-rgb-unorm-webgl":{gl:35986,f:Og},"atc-rgba-unorm-webgl":{gl:35986,f:Og},"atc-rgbai-unorm-webgl":{gl:34798,f:Og}},KL={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},qL={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function t_(t,e,r){const n=ah[e];if(!n||n.gl===void 0)return!1;const i=n.x||n.gl2ext;return i?!!eo(t,i,r):!0}function KE(t){const e=ah[t],r=e==null?void 0:e.gl;if(r===void 0)throw new Error(`Unsupported texture format ${t}`);return r}function ZL(t,e,r){if(!t_(t,e,r)||e.startsWith("depth")||e.startsWith("stencil"))return!1;try{if(QT(e).signed)return!1}catch{return!1}return e.endsWith("32float")?!!eo(t,"OES_texture_float_linear, extensions",r):e.endsWith("16float")?!!eo(t,"OES_texture_half_float_linear, extensions",r):!0}function QL(t,e,r){return!(!t_(t,e,r)||typeof e=="number")}function hd(t){var i;const e=ah[t],r=KE(t),n=QT(t);return{format:r,dataFormat:(e==null?void 0:e.dataFormat)||GL(n.format,n.integer,n.normalized,r),type:n.dataType?YE(n.dataType):((i=e==null?void 0:e.types)==null?void 0:i[0])||5121,compressed:n.compressed}}function JL(t){const e=ah[t];if(!(e!=null&&e.attachment))throw new Error(`${t} is not a depth stencil format`);return e.attachment}function T1(t){const e=hd(t),r=KL[e.dataFormat]||4,n=qL[e.type]||1;return r*n}function GL(t,e,r,n){if(n===6408||n===6407)return n;switch(t){case"r":return e&&!r?36244:6403;case"rg":return e&&!r?33320:33319;case"rgb":return e&&!r?36248:6407;case"rgba":return e&&!r?36249:6408;default:return 6408}}const E1={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class e8 extends PB{constructor(r,n,i){super([],i);H(this,"gl");H(this,"extensions");H(this,"testedFeatures",new Set);this.gl=r,this.extensions=n,eo(r,"EXT_color_buffer_float",n)}*[Symbol.iterator](){const r=this.getFeatures();for(const n of r)this.has(n)&&(yield n);return[]}has(r){return this.disabledFeatures[r]?!1:(this.testedFeatures.has(r)||(this.testedFeatures.add(r),XL(r)&&YL(this.gl,r,this.extensions)&&this.features.add(r),this.getWebGLFeature(r)&&this.features.add(r)),this.features.has(r))}initializeFeatures(){const r=this.getFeatures().filter(n=>n!=="polygon-mode-webgl");for(const n of r)this.has(n)}getFeatures(){return[...Object.keys(E1),...Object.keys(e_)]}getWebGLFeature(r){const n=E1[r];return typeof n=="string"?!!eo(this.gl,n,this.extensions):!!n}}class t8 extends AB{constructor(r){super();H(this,"gl");H(this,"limits",{});this.gl=r}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(r){return this.limits[r]===void 0&&(this.limits[r]=this.gl.getParameter(r)),this.limits[r]}}function Zs(t,e,r){if(r8(e))return r(t);const{nocatch:n=!0}=e;oh(t),cl(t,e);let i;if(n)i=r(t),Bc(t);else try{i=r(t)}finally{Bc(t)}return i}function r8(t){for(const e in t)return!1;return!0}function n8(t,e,r,n){if(Jf(e))return n(t);const i=t;oh(i.gl);try{return i8(t,e),cl(i.gl,r),n(t)}finally{Bc(i.gl)}}function i8(t,e){const r=t,{gl:n}=r;if(e.cullMode)switch(e.cullMode){case"none":n.disable(2884);break;case"front":n.enable(2884),n.cullFace(1028);break;case"back":n.enable(2884),n.cullFace(1029);break}if(e.frontFace&&n.frontFace(Uo("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&n.enable(34383),e.depthBias!==void 0&&(n.enable(32823),n.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const s=r.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,l=Uo("provokingVertex",e.provokingVertex,{first:36429,last:36430});s==null||s.provokingVertexWEBGL(l)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const s=r.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,l=Uo("polygonMode",e.polygonMode,{fill:6914,line:6913});s==null||s.polygonModeWEBGL(1028,l),s==null||s.polygonModeWEBGL(1029,l)}e.polygonOffsetLine&&n.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&n.enable(12288),e.clipDistance1&&n.enable(12289),e.clipDistance2&&n.enable(12290),e.clipDistance3&&n.enable(12291),e.clipDistance4&&n.enable(12292),e.clipDistance5&&n.enable(12293),e.clipDistance6&&n.enable(12294),e.clipDistance7&&n.enable(12295)),e.depthWriteEnabled!==void 0&&n.depthMask(o8("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?n.enable(2929):n.disable(2929),n.depthFunc(Ym("depthCompare",e.depthCompare))),e.stencilWriteMask){const i=e.stencilWriteMask;n.stencilMaskSeparate(1028,i),n.stencilMaskSeparate(1029,i)}if(e.stencilReadMask&&Ze.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const i=e.stencilReadMask||4294967295,s=Ym("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?n.enable(2960):n.disable(2960),n.stencilFuncSeparate(1028,s,0,i),n.stencilFuncSeparate(1029,s,0,i)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const i=Ug("stencilPassOperation",e.stencilPassOperation),s=Ug("stencilFailOperation",e.stencilFailOperation),l=Ug("stencilDepthFailOperation",e.stencilDepthFailOperation);n.stencilOpSeparate(1028,s,l,i),n.stencilOpSeparate(1029,s,l,i)}if(e.blendColorOperation||e.blendAlphaOperation){n.enable(3042);const i=R1("blendColorOperation",e.blendColorOperation||"add"),s=R1("blendAlphaOperation",e.blendAlphaOperation||"add");n.blendEquationSeparate(i,s);const l=Af("blendColorSrcFactor",e.blendColorSrcFactor||"one"),c=Af("blendColorDstFactor",e.blendColorDstFactor||"zero"),f=Af("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),h=Af("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");n.blendFuncSeparate(l,c,f,h)}}function Ym(t,e){return Uo(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function Ug(t,e){return Uo(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function R1(t,e){return Uo(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function Af(t,e){return Uo(t,e,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function s8(t,e){return`Illegal parameter ${e} for ${t}`}function Uo(t,e,r){if(!(e in r))throw new Error(s8(t,e));return r[e]}function o8(t,e){return e}function qE(t){const e={};return t.addressModeU&&(e[10242]=Lg(t.addressModeU)),t.addressModeV&&(e[10243]=Lg(t.addressModeV)),t.addressModeW&&(e[32882]=Lg(t.addressModeW)),t.magFilter&&(e[10240]=ZE(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=a8(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=Ym("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function Lg(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function ZE(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function a8(t,e){if(!e)return ZE(t);switch(t){case"nearest":return e==="nearest"?9984:9986;case"linear":return e==="nearest"?9985:9987}}class Qs extends Lr{constructor(r,n={}){super(r,n);H(this,"device");H(this,"gl");H(this,"handle");H(this,"glTarget");H(this,"glUsage");H(this,"glIndexType",5123);H(this,"byteLength");H(this,"bytesUsed");this.device=r,this.gl=this.device.gl;const i=typeof n=="object"?n.handle:void 0;this.handle=i||this.gl.createBuffer(),r.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=l8(this.props.usage),this.glUsage=c8(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,n.data?this._initWithData(n.data,n.byteOffset,n.byteLength):this._initWithByteLength(n.byteLength||0)}_initWithData(r,n=0,i=r.byteLength+n){const s=this.glTarget;this.gl.bindBuffer(s,this.handle),this.gl.bufferData(s,i,this.glUsage),this.gl.bufferSubData(s,n,r),this.gl.bindBuffer(s,null),this.bytesUsed=i,this.byteLength=i,this._setDebugData(r,n,i),this.trackAllocatedMemory(i)}_initWithByteLength(r){Ar(r>=0);let n=r;r===0&&(n=new Float32Array(0));const i=this.glTarget;return this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,n,this.glUsage),this.gl.bindBuffer(i,null),this.bytesUsed=r,this.byteLength=r,this._setDebugData(null,0,r),this.trackAllocatedMemory(r),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(r,n=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,n,r),this.gl.bindBuffer(36663,null),this._setDebugData(r,n,r.byteLength)}async readAsync(r=0,n){return this.readSyncWebGL(r,n)}readSyncWebGL(r=0,n){n=n??this.byteLength-r;const i=new Uint8Array(n),s=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,r,i,s,n),this.gl.bindBuffer(36662,null),this._setDebugData(i,r,n),i}}function l8(t){return t&Lr.INDEX?34963:t&Lr.VERTEX?34962:t&Lr.UNIFORM?35345:34962}function c8(t){return t&Lr.INDEX||t&Lr.VERTEX?35044:t&Lr.UNIFORM?35048:35044}class Km extends td{constructor(r,n){super(r,n);H(this,"device");H(this,"handle");H(this,"parameters");this.device=r,this.parameters=qE(n),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(r){for(const[n,i]of Object.entries(r)){const s=Number(n);switch(s){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,s,i);break;default:this.device.gl.samplerParameteri(this.handle,s,i);break}}}}class La extends Gf{constructor(r,n){super(r,{..._i.defaultProps,...n});H(this,"device");H(this,"gl");H(this,"handle");H(this,"texture");this.device=r,this.gl=this.device.gl,this.handle=null,this.texture=n.texture}}const u8={parameters:{},pixelStore:{},pixels:null,border:0,dataFormat:void 0,textureUnit:void 0,target:void 0},Tc=class Tc extends _i{constructor(r,n){var i;super(r,{...u8,format:"rgba8unorm",...n});H(this,"MAX_ATTRIBUTES");H(this,"device");H(this,"gl");H(this,"handle");H(this,"sampler");H(this,"view");H(this,"glFormat");H(this,"type");H(this,"dataFormat");H(this,"mipmaps");H(this,"target");H(this,"textureUnit");H(this,"loaded",!1);H(this,"_video");this.device=r,this.gl=this.device.gl,this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glFormat=6408,this.target=f8(this.props),this.loaded=!1,typeof((i=this.props)==null?void 0:i.data)=="string"&&Object.assign(this.props,{data:m4(this.props.data)}),this.initialize(this.props),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}toString(){return`Texture(${this.id},${this.width}x${this.height})`}createView(r){return new La(this.device,{...r,texture:this})}initialize(r={}){if(this.props.dimension==="cube")return this.initializeCube(r);let n=r.data;if(n instanceof Promise)return n.then(O=>this.initialize(Object.assign({},r,{pixels:O,data:O}))),this;const i=typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement;if(i&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",()=>this.initialize(r)),this;const{parameters:s={}}=r,{pixels:l=null,pixelStore:c={},textureUnit:f=void 0,mipmaps:h=!0}=r;n||(n=l);let{width:y,height:b,dataFormat:w,type:x,compressed:A=!1}=r;const{depth:E=0}=r,k=KE(r.format);return{width:y,height:b,compressed:A,dataFormat:w,type:x}=this._deduceParameters({format:r.format,type:x,dataFormat:w,compressed:A,data:n,width:y,height:b}),this.width=y,this.height=b,this.glFormat=k,this.type=x,this.dataFormat=w,this.textureUnit=f,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),this.mipmaps=h,this.setImageData({data:n,width:y,height:b,depth:E,format:r.format,type:x,dataFormat:w,parameters:c,compressed:A}),this.setSampler(r.sampler),this._setSamplerParameters(s),this.view=this.createView({...this.props,mipLevelCount:1,arrayLayerCount:1}),h&&this.device.isTextureFormatFilterable(r.format)&&this.generateMipmap(),i&&(this._video={video:n,parameters:s,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}initializeCube(r){const{mipmaps:n=!0,parameters:i={}}=r;return this.setCubeMapImageData(r).then(()=>{this.loaded=!0,n&&this.generateMipmap(r),this.setSampler(r.sampler),this._setSamplerParameters(i)}),this}setSampler(r={}){let n;r instanceof Km?(this.sampler=r,n=r.props):(this.sampler=new Km(this.device,r),n=r);const i=qE(n);return this._setSamplerParameters(i),this}resize(r){const{height:n,width:i,mipmaps:s=!1}=r;return i!==this.width||n!==this.height?this.initialize({width:i,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,mipmaps:s}):this}update(){if(this._video){const{video:r,parameters:n,lastTime:i}=this._video;if(i===r.currentTime||r.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:r,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=r.currentTime}}generateMipmap(r={}){return this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Zs(this.gl,r,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this}setImageData(r){if(this.props.dimension==="3d"||this.props.dimension==="2d-array")return this.setImageData3D(r);this.trackDeallocatedMemory("Texture");const{target:n=this.target,pixels:i=null,level:s=0,glFormat:l=this.glFormat,offset:c=0,parameters:f={}}=r;let{data:h=null,type:y=this.type,width:b=this.width,height:w=this.height,dataFormat:x=this.dataFormat,compressed:A=!1}=r;h||(h=i),{type:y,dataFormat:x,compressed:A,width:b,height:w}=this._deduceParameters({format:this.props.format,type:y,dataFormat:x,compressed:A,data:h,width:b,height:w});const{gl:E}=this;E.bindTexture(this.target,this.handle);let k=null;if({data:h,dataType:k}=this._getDataType({data:h,compressed:A}),Zs(this.gl,f,()=>{switch(k){case"null":E.texImage2D(n,s,l,b,w,0,x,y,h);break;case"typed-array":E.texImage2D(n,s,l,b,w,0,x,y,h,c);break;case"buffer":this.device.gl.bindBuffer(35052,h.handle||h),this.device.gl.texImage2D(n,s,l,b,w,0,x,y,c),this.device.gl.bindBuffer(35052,null);break;case"browser-object":E.texImage2D(n,s,l,b,w,0,x,y,h);break;case"compressed":for(const[O,N]of h.entries())E.compressedTexImage2D(n,O,N.format,N.width,N.height,0,N.data);break;default:Ar(!1,"Unknown image data type")}}),h&&h.byteLength)this.trackAllocatedMemory(h.byteLength,"Texture");else{const O=T1(this.props.format);this.trackAllocatedMemory(this.width*this.height*O,"Texture")}return this.loaded=!0,this}setSubImageData({target:r=this.target,pixels:n=null,data:i=null,x:s=0,y:l=0,width:c=this.width,height:f=this.height,level:h=0,glFormat:y=this.glFormat,type:b=this.type,dataFormat:w=this.dataFormat,compressed:x=!1,offset:A=0,parameters:E={}}){if({type:b,dataFormat:w,compressed:x,width:c,height:f}=this._deduceParameters({format:this.props.format,type:b,dataFormat:w,compressed:x,data:i,width:c,height:f}),Ar(this.depth===1,"texSubImage not supported for 3D textures"),i||(i=n),i&&i.data){const k=i;i=k.data,c=k.shape[0],f=k.shape[1]}i instanceof Qs&&(i=i.handle),this.gl.bindTexture(this.target,this.handle),Zs(this.gl,E,()=>{x?this.gl.compressedTexSubImage2D(r,h,s,l,c,f,y,i):i===null?this.gl.texSubImage2D(r,h,s,l,c,f,w,b,null):ArrayBuffer.isView(i)?this.gl.texSubImage2D(r,h,s,l,c,f,w,b,i,A):typeof WebGLBuffer<"u"&&i instanceof WebGLBuffer?(this.device.gl.bindBuffer(35052,i),this.device.gl.texSubImage2D(r,h,s,l,c,f,w,b,A),this.device.gl.bindBuffer(35052,null)):this.device.gl.texSubImage2D(r,h,s,l,c,f,w,b,i)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(r={}){return Ze.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(r=this.textureUnit){const{gl:n}=this;return r!==void 0&&(this.textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.target,this.handle),r}unbind(r=this.textureUnit){const{gl:n}=this;return r!==void 0&&(this.textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.target,null),r}_getDataType({data:r,compressed:n=!1}){return n?{data:r,dataType:"compressed"}:r===null?{data:r,dataType:"null"}:ArrayBuffer.isView(r)?{data:r,dataType:"typed-array"}:r instanceof Qs?{data:r.handle,dataType:"buffer"}:typeof WebGLBuffer<"u"&&r instanceof WebGLBuffer?{data:r,dataType:"buffer"}:{data:r,dataType:"browser-object"}}_deduceParameters(r){const{format:n,data:i}=r;let{width:s,height:l,dataFormat:c,type:f,compressed:h}=r;const y=hd(n);return c=c||y.dataFormat,f=f||y.type,h=h||y.compressed,{width:s,height:l}=this._deduceImageSize(i,s,l),{dataFormat:c,type:f,compressed:h,width:s,height:l,format:n,data:i}}_deduceImageSize(r,n,i){let s;return typeof ImageData<"u"&&r instanceof ImageData?s={width:r.width,height:r.height}:typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement?s={width:r.naturalWidth,height:r.naturalHeight}:typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement?s={width:r.width,height:r.height}:typeof ImageBitmap<"u"&&r instanceof ImageBitmap?s={width:r.width,height:r.height}:typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?s={width:r.videoWidth,height:r.videoHeight}:r?s={width:n,height:i}:s={width:n>=0?n:1,height:i>=0?i:1},Ar(s,"Could not deduced texture size"),Ar(n===void 0||s.width===n,"Deduced texture width does not match supplied width"),Ar(i===void 0||s.height===i,"Deduced texture height does not match supplied height"),s}async setCubeMapImageData(r){const{gl:n}=this,{width:i,height:s,pixels:l,data:c,format:f=6408,type:h=5121}=r,y=l||c,b=await Promise.all(Tc.FACES.map(w=>{const x=y[w];return Promise.all(Array.isArray(x)?x:[x])}));this.bind(),Tc.FACES.forEach((w,x)=>{b[x].length>1&&this.props.mipmaps!==!1&&Ze.warn(`${this.id} has mipmap and multiple LODs.`)(),b[x].forEach((A,E)=>{i&&s?n.texImage2D(w,E,f,i,s,0,f,h,A):n.texImage2D(w,E,f,f,h,A)})}),this.unbind()}setImageDataForFace(r){const{face:n,width:i,height:s,pixels:l,data:c,format:f=6408,type:h=5121}=r,{gl:y}=this,b=l||c;return this.bind(),b instanceof Promise?b.then(w=>this.setImageDataForFace(Object.assign({},r,{face:n,data:w,pixels:w}))):this.width||this.height?y.texImage2D(n,0,f,i,s,0,f,h,b):y.texImage2D(n,0,f,f,h,b),this}setImageData3D(r){const{level:n=0,dataFormat:i,format:s,type:l,width:c,height:f,depth:h=1,offset:y=0,data:b,parameters:w={}}=r;this.trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle);const x=hd(s);if(Zs(this.gl,w,()=>{ArrayBuffer.isView(b)&&this.gl.texImage3D(this.target,n,x.format,c,f,h,0,x.dataFormat,x.type,b),b instanceof Qs&&(this.gl.bindBuffer(35052,b.handle),this.gl.texImage3D(this.target,n,i,c,f,h,0,s,l,y))}),b&&b.byteLength)this.trackAllocatedMemory(b.byteLength,"Texture");else{const A=T1(this.props.format);this.trackAllocatedMemory(this.width*this.height*this.depth*A,"Texture")}return this.loaded=!0,this}_setSamplerParameters(r){if(!Jf(r)){d8(r),this.gl.bindTexture(this.target,this.handle);for(const[n,i]of Object.entries(r)){const s=Number(n),l=i;switch(s){case 33082:case 33083:this.gl.texParameterf(this.target,s,l);break;default:this.gl.texParameteri(this.target,s,l);break}}this.gl.bindTexture(this.target,null)}}};H(Tc,"FACES",[34069,34070,34071,34072,34073,34074]);let Gi=Tc;function f8(t){switch(t.dimension){case"2d":return 3553;case"cube":return 34067;case"2d-array":return 35866;case"3d":return 32879;case"1d":case"cube-array":default:throw new Error(t.dimension)}}function d8(t){Ze.log(1,"texture sampler parameters",t)()}class vc extends rd{constructor(r,n){super(r,n);H(this,"device");H(this,"gl");H(this,"handle");const i=n.handle===null;if(this.device=r,this.gl=r.gl,this.handle=this.props.handle||i?this.props.handle:this.gl.createFramebuffer(),!i){r.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures();const s=this.gl.bindFramebuffer(36160,this.handle);for(let l=0;l<this.colorAttachments.length;++l){const c=this.colorAttachments[l],f=36064+l;c&&this._attachOne(f,c)}if(this.depthStencilAttachment&&this._attachOne(JL(this.depthStencilAttachment.props.format),this.depthStencilAttachment),n.check!==!1){const l=this.gl.checkFramebufferStatus(36160);if(l!==36053)throw new Error(`Framebuffer ${p8(l)}`)}this.gl.bindFramebuffer(36160,s)}}get texture(){return this.colorAttachments[0]}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}createDepthStencilTexture(r){return new Gi(this.device,{id:`${this.id}-depth-stencil`,format:r,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(r,n){if(this.handle===null)return this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;r===void 0&&(r=this.gl.drawingBufferWidth),n===void 0&&(n=this.gl.drawingBufferHeight);for(const i of this.colorAttachments)i.texture.resize({width:r,height:n});return this.depthStencilAttachment&&this.depthStencilAttachment.texture.resize({width:r,height:n}),this}_attachOne(r,n){if(Array.isArray(n)){const[i,s=0,l=0]=n;return this._attachTexture(r,i,s,l),i}if(n instanceof Gi)return this._attachTexture(r,n,0,0),n;if(n instanceof La){const i=n;return this._attachTexture(r,i.texture,i.props.baseMipLevel,i.props.baseArrayLayer),n.texture}throw new Error("attach")}_attachTexture(r,n,i,s){const{gl:l}=this.device;switch(l.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:l.framebufferTextureLayer(36160,r,n.target,s,i);break;case 34067:const c=h8(i);l.framebufferTexture2D(36160,r,c,n.handle,s);break;case 3553:l.framebufferTexture2D(36160,r,3553,n.handle,s);break;default:Ar(!1,"Illegal texture type")}l.bindTexture(n.target,null)}}function h8(t){return t<34069?t+34069:t}function p8(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class g8 extends H0{constructor(r,n){super(n);H(this,"device");H(this,"presentationSize");H(this,"_framebuffer",null);this.device=r,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new vc(this.device,{handle:null}),this._framebuffer}update(){const r=this.getPixelSize();(r[0]!==this.presentationSize[0]||r[1]!==this.presentationSize[1])&&(this.presentationSize=r,this.resize())}resize(r){if(this.device.gl&&this.canvas){const n=this.getDevicePixelRatio(r==null?void 0:r.useDevicePixels);this.setDevicePixelRatio(n,r);return}}commit(){}}const m8={spector:Ze.get("spector")||Ze.get("spectorjs")},_8="https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",y8=1;let br=null,x1=!1;async function v8(t){if(!globalThis.SPECTOR)try{await sE(_8)}catch(e){Ze.warn(String(e))}}function w8(t){if(t={...m8,...t},!(t!=null&&t.spector)||(!br&&globalThis.SPECTOR&&(Ze.probe(y8,"SPECTOR found and initialized")(),br=new globalThis.SPECTOR.Spector,globalThis.luma&&(globalThis.luma.spector=br)),!br))return null;if(x1||(x1=!0,br.spyCanvases(),br==null||br.onCaptureStarted.add(e=>Ze.info("Spector capture started:",e)()),br==null||br.onCapture.add(e=>{Ze.info("Spector capture complete:",e)(),br==null||br.getResultUI(),br==null||br.resultView.display(),br==null||br.resultView.addCapture(e)})),t!=null&&t.canvas){if(typeof t.spector=="string"&&t.spector!==t.canvas.id)return br;br==null||br.startCapture(t==null?void 0:t.canvas,500),new Promise(e=>setTimeout(e,2e3)).then(e=>{Ze.info("Spector capture stopped after 2 seconds")(),br==null||br.stopCapture()})}return br}const b8="https://unpkg.com/webgl-debug@2.0.1/index.js";function QE(t){return t.luma=t.luma||{},t.luma}async function S8(){no()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await sE(b8))}function T8(t,e={}){return t?e.debug?R8(t,e):E8(t):null}function E8(t){const e=QE(t);return e.realContext?e.realContext:t}function R8(t,e){if(!globalThis.WebGLDebugUtils)return Ze.warn("webgl-debug not loaded")(),t;const r=QE(t);if(r.debugContext)return r.debugContext;globalThis.WebGLDebugUtils.init({...Da,...t});const n=globalThis.WebGLDebugUtils.makeDebugContext(t,x8.bind(null,e),C8.bind(null,e));for(const l in Da)!(l in n)&&typeof Da[l]=="number"&&(n[l]=Da[l]);class i{}Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.setPrototypeOf(i,n);const s=Object.create(i);return r.realContext=t,r.debugContext=s,s.debug=!0,s}function jg(t,e){e=Array.from(e).map(n=>n===void 0?"undefined":n);let r=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return r=`${r.slice(0,100)}${r.length>100?"...":""}`,`gl.${t}(${r})`}function x8(t,e,r,n){n=Array.from(n).map(c=>c===void 0?"undefined":c);const i=globalThis.WebGLDebugUtils.glEnumToString(e),s=globalThis.WebGLDebugUtils.glFunctionArgsToString(r,n),l=`${i} in gl.${r}(${s})`;Ze.error(l)();debugger;if(t.throwOnError)throw new Error(l)}function C8(t,e,r){let n="";if(Ze.level>=1&&(n=jg(e,r),Ze.log(1,n)()),t.break&&t.break.length>0&&(n=n||jg(e,r),t.break.every(s=>n.indexOf(s)!==-1)))debugger;for(const i of r)if(i===void 0){if(n=n||jg(e,r),t.throwOnError)throw new Error(`Undefined argument: ${n}`);Ze.error(`Undefined argument: ${n}`)();debugger}}function A8(t){const e=t.split(/\r?\n/),r=[];for(const n of e){if(n.length<=1)continue;const i=n.split(":");if(i.length===2){const[b,w]=i;r.push({message:w.trim(),type:C1(b),lineNum:0,linePos:0});continue}const[s,l,c,...f]=i;let h=parseInt(c,10);isNaN(h)&&(h=0);let y=parseInt(l,10);isNaN(y)&&(y=0),r.push({message:f.join(":").trim(),type:C1(s),lineNum:h,linePos:y})}return r}function C1(t){const e=["warning","error","info"],r=t.toLowerCase();return e.includes(r)?r:"info"}class P8 extends ed{constructor(r,n){super(r,n);H(this,"device");H(this,"handle");switch(this.device=r,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const r=this.device.gl.getShaderInfoLog(this.handle);return A8(r)}getTranslatedSource(){const n=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return n==null?void 0:n.getTranslatedShaderSource(this.handle)}async _compile(r){r=(s=>s.startsWith("#version ")?s:`#version 100
${s}`)(r);const{gl:i}=this.device;if(i.shaderSource(this.handle,r),i.compileShader(this.handle),Ze.level===0){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}Ze.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),Ze.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const r=async s=>await new Promise(l=>setTimeout(l,s));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getShaderParameter(this.handle,37297))return;await r(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}const M8=256,k8=1024,I8=16384,zg=6144,N8=[1,2,4,8];class O8 extends Am{constructor(r,n){super(r,n);H(this,"device");H(this,"glParameters");this.device=r,oh(this.device.gl),this.setParameters(this.props.parameters),this.clear()}end(){Bc(this.device.gl)}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}setParameters(r={}){const n={...this.glParameters};this.props.framebuffer&&(n.framebuffer=this.props.framebuffer),this.props.depthReadOnly&&(n.depthMask=!this.props.depthReadOnly),n.stencilMask=this.props.stencilReadOnly?0:1,n[35977]=this.props.discard,r.viewport&&(r.viewport.length>=6?(n.viewport=r.viewport.slice(0,4),n.depthRange=[r.viewport[4],r.viewport[5]]):n.viewport=r.viewport),r.scissorRect&&(n.scissorTest=!0,n.scissor=r.scissorRect),r.blendConstant&&(n.blendColor=r.blendConstant),r.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),r[2967]=r.stencilReference),r.colorMask&&(n.colorMask=N8.map(i=>!!(i&r.colorMask))),this.glParameters=n,cl(this.device.gl,n)}beginOcclusionQuery(r){const n=this.props.occlusionQuerySet;n==null||n.beginOcclusionQuery()}endOcclusionQuery(){const r=this.props.occlusionQuerySet;r==null||r.endOcclusionQuery()}clear(){const r={...this.glParameters};let n=0;this.props.clearColor!==!1&&(n|=I8,r.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(n|=M8,r.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(n|=k8,r.clearStencil=this.props.clearStencil),n!==0&&Zs(this.device.gl,r,()=>{this.device.gl.clear(n)})}clearColorBuffer(r=0,n=[0,0,0,0]){Zs(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(n.constructor){case Int32Array:this.device.gl.clearBufferiv(zg,r,n);break;case Uint32Array:this.device.gl.clearBufferuiv(zg,r,n);break;case Float32Array:default:this.device.gl.clearBufferfv(zg,r,n);break}})}}const F8="Failed to deduce GL constant from typed array";function D8(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(F8)}}function qm(t,e){const{clamped:r=!0}=e||{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}const B8={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},U8={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class wc{constructor(...e){H(this,"offset");H(this,"stride");H(this,"type");H(this,"size");H(this,"divisor");H(this,"normalized");H(this,"integer");H(this,"buffer");H(this,"index");e.forEach(r=>this._assign(r)),Object.freeze(this)}static getBytesPerElement(e){return qm(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return Ar(e.size),qm(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(...e){return new wc(B8,...e)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return wc.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return wc.getBytesPerVertex(this)}_assign(e={}){return e=p4("Accessor",e,U8),e.type!==void 0&&(this.type=e.type,(e.type===5124||e.type===5125)&&(this.integer=!0)),e.size!==void 0&&(this.size=e.size),e.offset!==void 0&&(this.offset=e.offset),e.stride!==void 0&&(this.stride=e.stride),e.normalize!==void 0&&(this.normalized=e.normalize),e.normalized!==void 0&&(this.normalized=e.normalized),e.integer!==void 0&&(this.integer=e.integer),e.divisor!==void 0&&(this.divisor=e.divisor),e.buffer!==void 0&&(this.buffer=e.buffer),e.index!==void 0&&(typeof e.index=="boolean"?this.index=e.index?1:0:this.index=e.index),e.instanced!==void 0&&(this.divisor=e.instanced?1:0),e.isInstanced!==void 0&&(this.divisor=e.isInstanced?1:0),this.offset===void 0&&delete this.offset,this.stride===void 0&&delete this.stride,this.type===void 0&&delete this.type,this.size===void 0&&delete this.size,this.divisor===void 0&&delete this.divisor,this.normalized===void 0&&delete this.normalized,this.integer===void 0&&delete this.integer,this.buffer===void 0&&delete this.buffer,this.index===void 0&&delete this.index,this}}function L8(t){return j8.includes(t)}const j8=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],JE={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function GE(t){const e=JE[t];if(!e)throw new Error("uniform");const[r,n,,i]=e;return{format:i,components:n,glType:r}}function z8(t){const e=JE[t];if(!e)throw new Error("attribute");const[,r,,n,i]=e;return{attributeType:n,vertexFormat:i,components:r}}function $8(t,e){const r={attributes:[],bindings:[]};r.attributes=V8(t,e);const n=X8(t,e);for(const c of n){const f=c.uniforms.map(h=>({name:h.name,format:h.format,byteOffset:h.byteOffset,byteStride:h.byteStride,arrayLength:h.arrayLength}));r.bindings.push({type:"uniform",name:c.name,location:c.location,visibility:(c.vertex?1:0)&(c.fragment?2:0),minBindingSize:c.byteLength,uniforms:f})}const i=H8(t,e);let s=0;for(const c of i)if(L8(c.type)){const{viewDimension:f,sampleType:h}=K8(c.type);r.bindings.push({type:"texture",name:c.name,location:s,viewDimension:f,sampleType:h}),c.textureUnit=s,s+=1}i.length&&(r.uniforms=i);const l=W8(t,e);return l!=null&&l.length&&(r.varyings=l),r}function V8(t,e){const r=[],n=t.getProgramParameter(e,35721);for(let i=0;i<n;i++){const s=t.getActiveAttrib(e,i);if(!s)throw new Error("activeInfo");const{name:l,type:c}=s,f=t.getAttribLocation(e,l);if(f>=0){const{attributeType:h}=z8(c),y=/instance/i.test(l)?"instance":"vertex";r.push({name:l,location:f,stepMode:y,type:h})}}return r.sort((i,s)=>i.location-s.location),r}function W8(t,e){const r=[],n=t.getProgramParameter(e,35971);for(let i=0;i<n;i++){const s=t.getTransformFeedbackVarying(e,i);if(!s)throw new Error("activeInfo");const{name:l,type:c,size:f}=s,{glType:h,components:y}=GE(c),b=new wc({type:h,size:f*y}),w={location:i,name:l,accessor:b};r.push(w)}return r.sort((i,s)=>i.location-s.location),r}function H8(t,e){const r=[],n=t.getProgramParameter(e,35718);for(let i=0;i<n;i++){const s=t.getActiveUniform(e,i);if(!s)throw new Error("activeInfo");const{name:l,size:c,type:f}=s,{name:h,isArray:y}=q8(l);let b=t.getUniformLocation(e,h);const w={location:b,name:h,size:c,type:f,isArray:y};if(r.push(w),w.size>1)for(let x=0;x<w.size;x++){const A=`${h}[${x}]`;b=t.getUniformLocation(e,A);const E={...w,name:A,location:b};r.push(E)}}return r}function X8(t,e){const r=(s,l)=>t.getActiveUniformBlockParameter(e,s,l),n=[],i=t.getProgramParameter(e,35382);for(let s=0;s<i;s++){const l={name:t.getActiveUniformBlockName(e,s)||"",location:r(s,35391),byteLength:r(s,35392),vertex:r(s,35396),fragment:r(s,35398),uniformCount:r(s,35394),uniforms:[]},c=r(s,35395)||[],f=t.getActiveUniforms(e,c,35383),h=t.getActiveUniforms(e,c,35384),y=t.getActiveUniforms(e,c,35387),b=t.getActiveUniforms(e,c,35388);for(let w=0;w<l.uniformCount;++w){const x=t.getActiveUniform(e,c[w]);if(!x)throw new Error("activeInfo");l.uniforms.push({name:x.name,format:GE(f[w]).format,type:f[w],arrayLength:h[w],byteOffset:y[w],byteStride:b[w]})}n.push(l)}return n.sort((s,l)=>s.location-l.location),n}const Y8={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function K8(t){const e=Y8[t];if(!e)throw new Error("sampler");const[r,n]=e;return{viewDimension:r,sampleType:n}}function q8(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const r=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!r||r.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:r[1],length:r[2]?1:0,isArray:!!r[2]}}function Z8(t,e,r,n){const i=t;let s=n;s===!0&&(s=1),s===!1&&(s=0);const l=typeof s=="number"?[s]:s;switch(r){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof n!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,n);case 5126:return t.uniform1fv(e,l);case 35664:return t.uniform2fv(e,l);case 35665:return t.uniform3fv(e,l);case 35666:return t.uniform4fv(e,l);case 5124:return t.uniform1iv(e,l);case 35667:return t.uniform2iv(e,l);case 35668:return t.uniform3iv(e,l);case 35669:return t.uniform4iv(e,l);case 35670:return t.uniform1iv(e,l);case 35671:return t.uniform2iv(e,l);case 35672:return t.uniform3iv(e,l);case 35673:return t.uniform4iv(e,l);case 5125:return i.uniform1uiv(e,l,1);case 36294:return i.uniform2uiv(e,l,2);case 36295:return i.uniform3uiv(e,l,3);case 36296:return i.uniform4uiv(e,l,4);case 35674:return t.uniformMatrix2fv(e,!1,l);case 35675:return t.uniformMatrix3fv(e,!1,l);case 35676:return t.uniformMatrix4fv(e,!1,l);case 35685:return i.uniformMatrix2x3fv(e,!1,l);case 35686:return i.uniformMatrix2x4fv(e,!1,l);case 35687:return i.uniformMatrix3x2fv(e,!1,l);case 35688:return i.uniformMatrix3x4fv(e,!1,l);case 35689:return i.uniformMatrix4x2fv(e,!1,l);case 35690:return i.uniformMatrix4x3fv(e,!1,l)}throw new Error("Illegal uniform")}function Q8(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"line-loop-webgl":return 2;case"triangle-list":return 4;case"triangle-strip":return 5;case"triangle-fan-webgl":return 6;default:throw new Error(t)}}function J8(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"line-loop-webgl":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;case"triangle-fan-webgl":return 4;default:throw new Error(t)}}const A1=4;class G8 extends Qa{constructor(r,n){super(r,n);H(this,"device");H(this,"handle");H(this,"vs");H(this,"fs");H(this,"introspectedLayout");H(this,"uniforms",{});H(this,"bindings",{});H(this,"varyings",null);H(this,"_uniformCount",0);H(this,"_uniformSetters",{});this.device=r,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=n.vs,this.fs=n.fs;const{varyings:i,bufferMode:s=35981}=n;switch(i&&i.length>0&&(this.varyings=i,this.device.gl.transformFeedbackVaryings(this.handle,i,s)),this._linkShaders(),Ze.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=$8(this.device.gl,this.handle),Ze.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=t4(this.introspectedLayout,n.shaderLayout),this.props.topology){case"triangle-fan-webgl":case"line-loop-webgl":Ze.warn(`Primitive topology ${this.props.topology} is deprecated and will be removed in v9.1`);break}}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(r,n){for(const[i,s]of Object.entries(r)){const l=this.shaderLayout.bindings.find(c=>c.name===i)||this.shaderLayout.bindings.find(c=>c.name===`${i}Uniforms`);if(!l){const c=this.shaderLayout.bindings.map(f=>`"${f.name}"`).join(", ");n!=null&&n.disableWarnings||Ze.warn(`Unknown binding "${i}" in render pipeline "${this.id}", expected one of ${c}`)();continue}switch(s||Ze.warn(`Unsetting binding "${i}" in render pipeline "${this.id}"`)(),l.type){case"uniform":if(!(s instanceof Qs)&&!(s.buffer instanceof Qs))throw new Error("buffer value");break;case"texture":if(!(s instanceof La||s instanceof Gi||s instanceof vc))throw new Error("texture value");break;case"sampler":Ze.warn(`Ignoring sampler ${i}`)();break;default:throw new Error(l.type)}this.bindings[i]=s}}draw(r){var k;const{renderPass:n,parameters:i=this.props.parameters,topology:s=this.props.topology,vertexArray:l,vertexCount:c,instanceCount:f,isInstanced:h=!1,firstVertex:y=0,transformFeedback:b}=r,w=Q8(s),x=!!l.indexBuffer,A=(k=l.indexBuffer)==null?void 0:k.glIndexType;if(this.linkStatus!=="success")return Ze.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable()||c===0)return Ze.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(c===0)return Ze.info(2,`RenderPipeline:${this.id}.draw() aborted - no vertices to draw`)(),!0;this.device.gl.useProgram(this.handle),l.bindBeforeRender(n),b&&b.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const E=n;return n8(this.device,i,E.glParameters,()=>{x&&h?this.device.gl.drawElementsInstanced(w,c||0,A,y,f||0):x?this.device.gl.drawElements(w,c||0,A,y):h?this.device.gl.drawArraysInstanced(w,y,c||0,f||0):this.device.gl.drawArrays(w,y,c||0),b&&b.end()}),l.unbindAfterRender(n),!0}setUniformsWebGL(r){const{bindings:n}=X0(r);Object.keys(n).forEach(i=>{Ze.warn(`Unsupported value "${JSON.stringify(n[i])}" used in setUniforms() for key ${i}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,r)}async _linkShaders(){const{gl:r}=this.device;if(r.attachShader(this.handle,this.vs.handle),r.attachShader(this.handle,this.fs.handle),Ze.time(A1,`linkProgram for ${this.id}`)(),r.linkProgram(this.handle),Ze.timeEnd(A1,`linkProgram for ${this.id}`)(),Ze.level,!this.device.features.has("compilation-status-async-webgl")){const i=this._getLinkStatus();this._reportLinkStatus(i);return}Ze.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),Ze.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const n=this._getLinkStatus();this._reportLinkStatus(n)}_reportLinkStatus(r){var n;switch(r){case"success":return;default:throw this.vs.compilationStatus==="error"?(this.vs.debugShader(),new Error(`Error during compilation of shader ${this.vs.id}`)):((n=this.fs)==null?void 0:n.compilationStatus)==="error"?(this.fs.debugShader(),new Error(`Error during compilation of shader ${this.fs.id}`)):new Error(`Error during ${r}: ${this.device.gl.getProgramInfoLog(this.handle)}`)}}_getLinkStatus(){const{gl:r}=this.device;return r.getProgramParameter(this.handle,35714)?(r.validateProgram(this.handle),r.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")):(this.linkStatus="error","linking")}async _waitForLinkComplete(){const r=async s=>await new Promise(l=>setTimeout(l,s));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getProgramParameter(this.handle,37297))return;await r(10)}}_areTexturesRenderable(){let r=!0;for(const[,n]of Object.entries(this.bindings))n instanceof Gi&&(n.update(),r=r&&n.loaded);return r}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:r}=this.device;r.useProgram(this.handle);let n=0,i=0;for(const s of this.shaderLayout.bindings){const l=this.bindings[s.name]||this.bindings[s.name.replace(/Uniforms$/,"")];if(!l)throw new Error(`No value for binding ${s.name} in ${this.id}`);switch(s.type){case"uniform":const{name:c}=s,f=r.getUniformBlockIndex(this.handle,c);if(f===4294967295)throw new Error(`Invalid uniform block name ${c}`);r.uniformBlockBinding(this.handle,i,f),l instanceof Qs?r.bindBufferBase(35345,i,l.handle):r.bindBufferRange(35345,i,l.buffer.handle,l.offset||0,l.size||l.buffer.byteLength-l.offset),i+=1;break;case"texture":if(!(l instanceof La||l instanceof Gi||l instanceof vc))throw new Error("texture");let h;if(l instanceof La)h=l.texture;else if(l instanceof Gi)h=l;else if(l instanceof vc&&l.colorAttachments[0]instanceof La)Ze.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),h=l.colorAttachments[0].texture;else throw new Error("No texture");r.activeTexture(33984+n),r.bindTexture(h.target,h.handle),n+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${s.type}' not supported in WebGL`)}}}_applyUniforms(){for(const r of this.shaderLayout.uniforms||[]){const{name:n,location:i,type:s,textureUnit:l}=r,c=this.uniforms[n]??l;c!==void 0&&Z8(this.device.gl,i,s,c)}}}class ej extends Mm{constructor(r){super(r,{});H(this,"device");H(this,"commands",[]);this.device=r}submitCommands(r=this.commands){for(const n of r)switch(n.name){case"copy-buffer-to-buffer":tj(this.device,n.options);break;case"copy-buffer-to-texture":rj(this.device,n.options);break;case"copy-texture-to-buffer":nj(this.device,n.options);break;case"copy-texture-to-texture":ij(this.device,n.options);break}}}function tj(t,e){const r=e.source,n=e.destination;t.gl.bindBuffer(36662,r.handle),t.gl.bindBuffer(36663,n.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function rj(t,e){throw new Error("Not implemented")}function nj(t,e){const{source:r,mipLevel:n=0,aspect:i="all",width:s=e.source.width,height:l=e.source.height,depthOrArrayLayers:c=0,origin:f=[0,0],destination:h,byteOffset:y=0,bytesPerRow:b,rowsPerImage:w}=e;if(i!=="all")throw new Error("not supported");if(n!==0||c!==0||b||w)throw new Error("not implemented");const{framebuffer:x,destroyFramebuffer:A}=eR(r);let E;try{const k=h,O=s||x.width,N=l||x.height,M=hd(x.texture.props.format),R=M.dataFormat,P=M.type;t.gl.bindBuffer(35051,k.handle),E=t.gl.bindFramebuffer(36160,x.handle),t.gl.readPixels(f[0],f[1],O,N,R,P,y)}finally{t.gl.bindBuffer(35051,null),E!==void 0&&t.gl.bindFramebuffer(36160,E),A&&x.destroy()}}function ij(t,e){const{source:r,destinationMipLevel:n=0,origin:i=[0,0],destinationOrigin:s=[0,0],destination:l}=e;let{width:c=e.destination.width,height:f=e.destination.height}=e;const{framebuffer:h,destroyFramebuffer:y}=eR(r),[b,w]=i,[x,A,E]=s,k=t.gl.bindFramebuffer(36160,h.handle);let O=null,N;if(l instanceof Gi)O=l,c=Number.isFinite(c)?c:O.width,f=Number.isFinite(f)?f:O.height,O.bind(0),N=O.target;else throw new Error("invalid destination");switch(N){case 3553:case 34067:t.gl.copyTexSubImage2D(N,n,x,A,b,w,c,f);break;case 35866:case 32879:t.gl.copyTexSubImage3D(N,n,x,A,E,b,w,c,f);break}O&&O.unbind(),t.gl.bindFramebuffer(36160,k),y&&h.destroy()}function eR(t){if(t instanceof _i){const{width:e,height:r,id:n}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${n}`,width:e,height:r,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}class sj extends Pm{constructor(r,n){super(r,n);H(this,"device");H(this,"commandBuffer");this.device=r,this.commandBuffer=new ej(r)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(r){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:r})}copyBufferToTexture(r){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:r})}copyTextureToBuffer(r){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:r})}copyTextureToTexture(r){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:r})}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}resolveQuerySet(r,n,i){}}class r_ extends km{constructor(r,n){super(r,n);H(this,"device");H(this,"handle");H(this,"buffer",null);H(this,"bufferValue",null);this.device=r,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(r){return wO()==="Chrome"}destroy(){var r;super.destroy(),this.buffer&&((r=this.buffer)==null||r.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(r){const n=r;if(n&&n.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,n?n.handle:null),this.indexBuffer=n,this.device.gl.bindVertexArray(null)}setBuffer(r,n){const i=n;if(i.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:s,type:l,stride:c,offset:f,normalized:h,integer:y,divisor:b}=this._getAccessor(r);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,i.handle),y?this.device.gl.vertexAttribIPointer(r,s,l,c,f):this.device.gl.vertexAttribPointer(r,s,l,h,c,f),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(r),this.device.gl.vertexAttribDivisor(r,b||0),this.attributes[r]=i,this.device.gl.bindVertexArray(null)}setConstantWebGL(r,n){this._enable(r,!1),this.attributes[r]=n}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let r=0;r<this.maxVertexAttributes;++r){const n=this.attributes[r];ArrayBuffer.isView(n)&&this.device.setConstantAttributeWebGL(r,n)}}_getAccessor(r){const n=this.attributeInfos[r];if(!n)throw new Error(`Unknown attribute location ${r}`);const i=YE(n.bufferDataType);return{size:n.bufferComponents,type:i,stride:n.byteStride,offset:n.byteOffset,normalized:n.normalized,integer:n.integer,divisor:n.stepMode==="instance"?1:0}}_enable(r,n=!0){const s=r_.isConstantAttributeZeroSupported(this.device)||r!==0;(n||s)&&(r=Number(r),this.device.gl.bindVertexArray(this.handle),n?this.device.gl.enableVertexAttribArray(r):this.device.gl.disableVertexAttribArray(r),this.device.gl.bindVertexArray(null))}getConstantBuffer(r,n){const i=oj(n),s=i.byteLength*r,l=i.length*r;if(this.buffer&&s!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${s} !== ${this.buffer.byteLength}.`);let c=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:s}),c=c||!aj(i,this.bufferValue),c){const f=s4(n.constructor,l);o4({target:f,source:i,start:0,count:l}),this.buffer.write(f),this.bufferValue=n}return this.buffer}}function oj(t){return Array.isArray(t)?new Float32Array(t):t}function aj(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}class lj extends Im{constructor(r,n){super(r,n);H(this,"device");H(this,"gl");H(this,"handle");H(this,"layout");H(this,"buffers",{});H(this,"unusedBuffers",{});H(this,"bindOnUse",!0);H(this,"_bound",!1);this.device=r,this.gl=r.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,n.buffers&&this.setBuffers(n.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(r="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(J8(r))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(r){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const n in r)this.setBuffer(n,r[n])})}setBuffer(r,n){const i=this._getVaryingIndex(r),{buffer:s,byteLength:l,byteOffset:c}=this._getBufferRange(n);if(i<0){this.unusedBuffers[r]=s,Ze.warn(`${this.id} unusedBuffers varying buffer ${r}`)();return}this.buffers[i]={buffer:s,byteLength:l,byteOffset:c},this.bindOnUse||this._bindBuffer(i,s,c,l)}getBuffer(r){if(P1(r))return this.buffers[r]||null;const n=this._getVaryingIndex(r);return n>=0?this.buffers[n]:null}bind(r=this.handle){if(typeof r!="function")return this.gl.bindTransformFeedback(36386,r),this;let n;return this._bound?n=r():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,n=r(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),n}unbind(){this.bind(null)}_getBufferRange(r){if(r instanceof Qs)return{buffer:r,byteOffset:0,byteLength:r.byteLength};const{buffer:n,byteOffset:i=0,byteLength:s=r.buffer.byteLength}=r;return{buffer:n,byteOffset:i,byteLength:s}}_getVaryingIndex(r){if(P1(r))return Number(r);for(const n of this.layout.varyings)if(r===n.name)return n.location;return-1}_bindBuffers(){for(const r in this.buffers){const{buffer:n,byteLength:i,byteOffset:s}=this._getBufferRange(this.buffers[r]);this._bindBuffer(Number(r),n,s,i)}}_unbindBuffers(){for(const r in this.buffers)this.gl.bindBufferBase(35982,Number(r),null)}_bindBuffer(r,n,i=0,s){const l=n&&n.handle;!l||s===void 0?this.gl.bindBufferBase(35982,r,l):this.gl.bindBufferRange(35982,r,l,i,s)}}function P1(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class cj extends Nm{constructor(r,n){super(r,n);H(this,"device");H(this,"handle");H(this,"target",null);H(this,"_queryPending",!1);H(this,"_pollingPromise",null);if(this.device=r,n.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(r){return this._begin(r!=null&&r.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(r){this._queryPending||(this.target=r,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const r=this.device.gl.getQueryParameter(this.handle,34919);return r&&(this._queryPending=!1),r}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(r=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((i,s)=>{const l=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):n++>r?(s("Timed out"),this._pollingPromise=null):requestAnimationFrame(l)};requestAnimationFrame(l)}),this._pollingPromise}}function tR(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return Ar(!1),0}}function uj(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return Ar(!1),0}}function fj(t,e){var k,O;const{sourceX:r=0,sourceY:n=0,sourceFormat:i=6408,sourceAttachment:s=36064}=e||{};let{target:l=null,sourceWidth:c,sourceHeight:f,sourceType:h}=e||{};const{framebuffer:y,deleteFramebuffer:b}=rR(t);Ar(y);const{gl:w,handle:x}=y;c=c||y.width,f=f||y.height;const A=s-36064;h=h||((O=(k=y.colorAttachments[A])==null?void 0:k.texture)==null?void 0:O.type)||5121,l=pj(l,h,i,c,f),h=h||D8(l);const E=w.bindFramebuffer(36160,x);return w.readPixels(r,n,c,f,i,h,l),w.bindFramebuffer(36160,E||null),b&&y.destroy(),l}function dj(t,e){const{target:r,sourceX:n=0,sourceY:i=0,sourceFormat:s=6408,targetByteOffset:l=0}=e||{};let{sourceWidth:c,sourceHeight:f,sourceType:h}=e||{};const{framebuffer:y,deleteFramebuffer:b}=rR(t);Ar(y),c=c||y.width,f=f||y.height;const w=y;h=h||5121;let x=r;if(!x){const E=tR(s),k=uj(h),O=l+c*f*E*k;x=w.device.createBuffer({byteLength:O})}const A=t.device.createCommandEncoder();return A.copyTextureToBuffer({source:t,width:c,height:f,origin:[n,i],destination:x,byteOffset:l}),A.destroy(),b&&y.destroy(),x}function rR(t){return t instanceof rd?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:hj(t),deleteFramebuffer:!0}}function hj(t,e){const{device:r,width:n,height:i,id:s}=t;return r.createFramebuffer({...e,id:`framebuffer-for-${s}`,width:n,height:i,colorAttachments:[t]})}function pj(t,e,r,n,i){if(t)return t;e=e||5121;const s=qm(e,{clamped:!1}),l=tR(r);return new s(n*i*l)}const gj=256,mj=1024,_j=16384,yj="clear: bad arguments";function vj(t,e){const{framebuffer:r=null,color:n=null,depth:i=null,stencil:s=null}=e||{},l={};r&&(l.framebuffer=r);let c=0;n&&(c|=_j,n!==!0&&(l.clearColor=n)),i&&(c|=gj,i!==!0&&(l.clearDepth=i)),s&&(c|=mj,i!==!0&&(l.clearStencil=i)),Ar(c!==0,yj);const f=t.gl;Zs(f,l,()=>{f.clear(c)})}const tc=1,Ao=class Ao extends Za{constructor(r){var h,y;super({...r,id:r.id||qo("webgl-device")});H(this,"type","webgl");H(this,"handle");H(this,"features");H(this,"limits");H(this,"info");H(this,"canvasContext");H(this,"lost");H(this,"_resolveContextLost");H(this,"renderPass",null);H(this,"gl");H(this,"debug",!1);H(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});H(this,"_extensions",{});H(this,"_polyfilled",!1);H(this,"spectorJS");H(this,"_constants");const n=(h=r.gl)==null?void 0:h.device;if(n)throw new Error(`WebGL context already attached to device ${n.id}`);const i=((y=r.gl)==null?void 0:y.canvas)||r.canvas,s=!r.gl;this.canvasContext=new g8(this,{...r,autoResize:s,canvas:i}),this.lost=new Promise(b=>{this._resolveContextLost=b});let l=r.gl||null;if(l||(l=OL(this.canvasContext.canvas,{...r,onContextLost:b=>{var w;return(w=this._resolveContextLost)==null?void 0:w.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})}})),!l)throw new Error("WebGL context creation failed");this.handle=l,this.gl=l,this.gl.device=this,this.gl._version=2,r.spector&&(this.spectorJS=w8({...this.props,canvas:this.handle.canvas})),this.info=FL(this.gl,this._extensions),this.limits=new t8(this.gl),this.features=new e8(this.gl,this._extensions,this.props.disabledFeatures),this.props.initalizeFeatures&&this.features.initializeFeatures(),s&&this.canvasContext.resize();const{enable:c=!0,copyState:f=!1}=r;HE(this.gl,{enable:c,copyState:f,log:(...b)=>Ze.log(1,...b)()}),r.debug&&(this.gl=T8(this.gl,{...r,throwOnError:!0}),this.debug=!0,Ze.level=Math.max(Ze.level,1),Ze.warn("WebGL debug mode activated. Performance reduced.")())}static isSupported(){return typeof WebGL2RenderingContext<"u"}static attach(r){if(r instanceof Ao)return r;if((r==null?void 0:r.device)instanceof Za)return r.device;if(!wj(r))throw new Error("Invalid WebGL2RenderingContext");return new Ao({gl:r})}static async create(r={}){var c;Ze.groupCollapsed(tc,"WebGLDevice created")();const n=[];r.debug&&n.push(S8()),r.spector&&n.push(v8()),typeof r.canvas=="string"&&n.push(H0.pageLoaded);const i=await Promise.allSettled(n);for(const f of i)f.status==="rejected"&&Ze.error(`Failed to initialize debug libraries ${f.reason}`)();if(Ze.probe(tc+1,"DOM is loaded")(),(c=r.gl)!=null&&c.device)return Ze.warn("reattaching existing device")(),Ao.attach(r.gl);const s=new Ao(r),l=`Created ${s.type}${s.debug?" debug":""} context: ${s.info.vendor}, ${s.info.renderer} for canvas: ${s.canvasContext.id}`;return Ze.probe(tc,l)(),Ze.table(tc,s.info)(),Ze.groupEnd(tc)(),s}destroy(){}get isLost(){return this.gl.isContextLost()}getSize(){return[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight]}isTextureFormatSupported(r){return t_(this.gl,r,this._extensions)}isTextureFormatFilterable(r){return ZL(this.gl,r,this._extensions)}isTextureFormatRenderable(r){return QL(this.gl,r,this._extensions)}createCanvasContext(r){throw new Error("WebGL only supports a single canvas")}createBuffer(r){const n=this._getBufferProps(r);return new Qs(this,n)}_createTexture(r){return new Gi(this,r)}createExternalTexture(r){throw new Error("createExternalTexture() not implemented")}createSampler(r){return new Km(this,r)}createShader(r){return new P8(this,r)}createFramebuffer(r){return new vc(this,r)}createVertexArray(r){return new r_(this,r)}createTransformFeedback(r){return new lj(this,r)}createQuerySet(r){return new cj(this,r)}createRenderPipeline(r){return new G8(this,r)}beginRenderPass(r){return new O8(this,r)}createComputePipeline(r){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(r){throw new Error("ComputePass not supported in WebGL")}createCommandEncoder(r){return new sj(this,r)}submit(){var r;(r=this.renderPass)==null||r.end(),this.renderPass=null}readPixelsToArrayWebGL(r,n){return fj(r,n)}readPixelsToBufferWebGL(r,n){return dj(r,n)}setParametersWebGL(r){cl(this.gl,r)}getParametersWebGL(r){return WE(this.gl,r)}withParametersWebGL(r,n){return Zs(this.gl,r,n)}clearWebGL(r){vj(this,r)}resetWebGL(){Ze.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),CL(this.gl)}loseDevice(){var s;let r=!1;const i=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return i&&(r=!0,i.loseContext()),(s=this._resolveContextLost)==null||s.call(this,{reason:"destroyed",message:"Application triggered context loss"}),r}pushState(){oh(this.gl)}popState(){Bc(this.gl)}setSpectorMetadata(r,n){r.__SPECTOR_Metadata=n}getGLKey(r,n){n=n||this.gl2||this.gl;const i=Number(r);for(const s in n)if(n[s]===i)return`GL.${s}`;return String(r)}setConstantAttributeWebGL(r,n){const i=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(i).fill(null);const s=this._constants[r];switch(s&&Ej(s,n)&&Ze.info(1,`setConstantAttributeWebGL(${r}) could have been skipped, value unchanged`)(),this._constants[r]=n,n.constructor){case Float32Array:bj(this,r,n);break;case Int32Array:Sj(this,r,n);break;case Uint32Array:Tj(this,r,n);break;default:Ar(!1)}}getExtension(r){return eo(this.gl,r,this._extensions),this._extensions}};H(Ao,"type","webgl");let bc=Ao;function wj(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}function bj(t,e,r){switch(r.length){case 1:t.gl.vertexAttrib1fv(e,r);break;case 2:t.gl.vertexAttrib2fv(e,r);break;case 3:t.gl.vertexAttrib3fv(e,r);break;case 4:t.gl.vertexAttrib4fv(e,r);break;default:Ar(!1)}}function Sj(t,e,r){t.gl.vertexAttribI4iv(e,r)}function Tj(t,e,r){t.gl.vertexAttribI4uiv(e,r)}function Ej(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}var $g={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var M1;function Rj(){return M1||(M1=1,function(t){(function(e,r,n,i){var s=["","webkit","Moz","MS","ms","o"],l=r.createElement("div"),c="function",f=Math.round,h=Math.abs,y=Date.now;function b($,Y,le){return setTimeout(M($,le),Y)}function w($,Y,le){return Array.isArray($)?(x($,le[Y],le),!0):!1}function x($,Y,le){var Re;if($)if($.forEach)$.forEach(Y,le);else if($.length!==i)for(Re=0;Re<$.length;)Y.call(le,$[Re],Re,$),Re++;else for(Re in $)$.hasOwnProperty(Re)&&Y.call(le,$[Re],Re,$)}function A($,Y,le){var Re="DEPRECATED METHOD: "+Y+`
`+le+` AT 
`;return function(){var ze=new Error("get-stack-trace"),ht=ze&&ze.stack?ze.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Qt=e.console&&(e.console.warn||e.console.log);return Qt&&Qt.call(e.console,Re,ht),$.apply(this,arguments)}}var E;typeof Object.assign!="function"?E=function(Y){if(Y===i||Y===null)throw new TypeError("Cannot convert undefined or null to object");for(var le=Object(Y),Re=1;Re<arguments.length;Re++){var ze=arguments[Re];if(ze!==i&&ze!==null)for(var ht in ze)ze.hasOwnProperty(ht)&&(le[ht]=ze[ht])}return le}:E=Object.assign;var k=A(function(Y,le,Re){for(var ze=Object.keys(le),ht=0;ht<ze.length;)(!Re||Re&&Y[ze[ht]]===i)&&(Y[ze[ht]]=le[ze[ht]]),ht++;return Y},"extend","Use `assign`."),O=A(function(Y,le){return k(Y,le,!0)},"merge","Use `assign`.");function N($,Y,le){var Re=Y.prototype,ze;ze=$.prototype=Object.create(Re),ze.constructor=$,ze._super=Re,le&&E(ze,le)}function M($,Y){return function(){return $.apply(Y,arguments)}}function R($,Y){return typeof $==c?$.apply(Y&&Y[0]||i,Y):$}function P($,Y){return $===i?Y:$}function I($,Y,le){x(C(Y),function(Re){$.addEventListener(Re,le,!1)})}function j($,Y,le){x(C(Y),function(Re){$.removeEventListener(Re,le,!1)})}function te($,Y){for(;$;){if($==Y)return!0;$=$.parentNode}return!1}function oe($,Y){return $.indexOf(Y)>-1}function C($){return $.trim().split(/\s+/g)}function F($,Y,le){if($.indexOf&&!le)return $.indexOf(Y);for(var Re=0;Re<$.length;){if(le&&$[Re][le]==Y||!le&&$[Re]===Y)return Re;Re++}return-1}function K($){return Array.prototype.slice.call($,0)}function V($,Y,le){for(var Re=[],ze=[],ht=0;ht<$.length;){var Qt=$[ht][Y];F(ze,Qt)<0&&Re.push($[ht]),ze[ht]=Qt,ht++}return Re=Re.sort(function(Yr,Qr){return Yr[Y]>Qr[Y]}),Re}function Q($,Y){for(var le,Re,ze=Y[0].toUpperCase()+Y.slice(1),ht=0;ht<s.length;){if(le=s[ht],Re=le?le+ze:Y,Re in $)return Re;ht++}return i}var J=1;function ie(){return J++}function ve($){var Y=$.ownerDocument||$;return Y.defaultView||Y.parentWindow||e}var se=/mobile|tablet|ip(ad|hone|od)|android/i,re="ontouchstart"in e,ye=Q(e,"PointerEvent")!==i,G=re&&se.test(navigator.userAgent),ue="touch",Se="pen",Me="mouse",de="kinect",De=25,$e=1,Be=2,Oe=4,Ue=8,ot=1,qe=2,ut=4,et=8,Mt=16,Ut=qe|ut,bt=et|Mt,xt=Ut|bt,Dt=["x","y"],Lt=["clientX","clientY"];function gt($,Y){var le=this;this.manager=$,this.callback=Y,this.element=$.element,this.target=$.options.inputTarget,this.domHandler=function(Re){R($.options.enable,[$])&&le.handler(Re)},this.init()}gt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(ve(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(ve(this.element),this.evWin,this.domHandler)}};function rt($){var Y,le=$.options.inputClass;return le?Y=le:ye?Y=pr:G?Y=m:re?Y=q:Y=Pt,new Y($,ur)}function ur($,Y,le){var Re=le.pointers.length,ze=le.changedPointers.length,ht=Y&$e&&Re-ze===0,Qt=Y&(Oe|Ue)&&Re-ze===0;le.isFirst=!!ht,le.isFinal=!!Qt,ht&&($.session={}),le.eventType=Y,qt($,le),$.emit("hammer.input",le),$.recognize(le),$.session.prevInput=le}function qt($,Y){var le=$.session,Re=Y.pointers,ze=Re.length;le.firstInput||(le.firstInput=dt(Y)),ze>1&&!le.firstMultiple?le.firstMultiple=dt(Y):ze===1&&(le.firstMultiple=!1);var ht=le.firstInput,Qt=le.firstMultiple,Xr=Qt?Qt.center:ht.center,Yr=Y.center=Tt(Re);Y.timeStamp=y(),Y.deltaTime=Y.timeStamp-ht.timeStamp,Y.angle=tr(Xr,Yr),Y.distance=yt(Xr,Yr),Fe(le,Y),Y.offsetDirection=ct(Y.deltaX,Y.deltaY);var Qr=Ot(Y.deltaTime,Y.deltaX,Y.deltaY);Y.overallVelocityX=Qr.x,Y.overallVelocityY=Qr.y,Y.overallVelocity=h(Qr.x)>h(Qr.y)?Qr.x:Qr.y,Y.scale=Qt?Zt(Qt.pointers,Re):1,Y.rotation=Qt?Gt(Qt.pointers,Re):0,Y.maxPointers=le.prevInput?Y.pointers.length>le.prevInput.maxPointers?Y.pointers.length:le.prevInput.maxPointers:Y.pointers.length,Qe(le,Y);var on=$.element;te(Y.srcEvent.target,on)&&(on=Y.srcEvent.target),Y.target=on}function Fe($,Y){var le=Y.center,Re=$.offsetDelta||{},ze=$.prevDelta||{},ht=$.prevInput||{};(Y.eventType===$e||ht.eventType===Oe)&&(ze=$.prevDelta={x:ht.deltaX||0,y:ht.deltaY||0},Re=$.offsetDelta={x:le.x,y:le.y}),Y.deltaX=ze.x+(le.x-Re.x),Y.deltaY=ze.y+(le.y-Re.y)}function Qe($,Y){var le=$.lastInterval||Y,Re=Y.timeStamp-le.timeStamp,ze,ht,Qt,Xr;if(Y.eventType!=Ue&&(Re>De||le.velocity===i)){var Yr=Y.deltaX-le.deltaX,Qr=Y.deltaY-le.deltaY,on=Ot(Re,Yr,Qr);ht=on.x,Qt=on.y,ze=h(on.x)>h(on.y)?on.x:on.y,Xr=ct(Yr,Qr),$.lastInterval=Y}else ze=le.velocity,ht=le.velocityX,Qt=le.velocityY,Xr=le.direction;Y.velocity=ze,Y.velocityX=ht,Y.velocityY=Qt,Y.direction=Xr}function dt($){for(var Y=[],le=0;le<$.pointers.length;)Y[le]={clientX:f($.pointers[le].clientX),clientY:f($.pointers[le].clientY)},le++;return{timeStamp:y(),pointers:Y,center:Tt(Y),deltaX:$.deltaX,deltaY:$.deltaY}}function Tt($){var Y=$.length;if(Y===1)return{x:f($[0].clientX),y:f($[0].clientY)};for(var le=0,Re=0,ze=0;ze<Y;)le+=$[ze].clientX,Re+=$[ze].clientY,ze++;return{x:f(le/Y),y:f(Re/Y)}}function Ot($,Y,le){return{x:Y/$||0,y:le/$||0}}function ct($,Y){return $===Y?ot:h($)>=h(Y)?$<0?qe:ut:Y<0?et:Mt}function yt($,Y,le){le||(le=Dt);var Re=Y[le[0]]-$[le[0]],ze=Y[le[1]]-$[le[1]];return Math.sqrt(Re*Re+ze*ze)}function tr($,Y,le){le||(le=Dt);var Re=Y[le[0]]-$[le[0]],ze=Y[le[1]]-$[le[1]];return Math.atan2(ze,Re)*180/Math.PI}function Gt($,Y){return tr(Y[1],Y[0],Lt)+tr($[1],$[0],Lt)}function Zt($,Y){return yt(Y[0],Y[1],Lt)/yt($[0],$[1],Lt)}var Ne={mousedown:$e,mousemove:Be,mouseup:Oe},Ke="mousedown",Et="mousemove mouseup";function Pt(){this.evEl=Ke,this.evWin=Et,this.pressed=!1,gt.apply(this,arguments)}N(Pt,gt,{handler:function(Y){var le=Ne[Y.type];le&$e&&Y.button===0&&(this.pressed=!0),le&Be&&Y.which!==1&&(le=Oe),this.pressed&&(le&Oe&&(this.pressed=!1),this.callback(this.manager,le,{pointers:[Y],changedPointers:[Y],pointerType:Me,srcEvent:Y}))}});var Yt={pointerdown:$e,pointermove:Be,pointerup:Oe,pointercancel:Ue,pointerout:Ue},Pr={2:ue,3:Se,4:Me,5:de},Nr="pointerdown",Ht="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Nr="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel");function pr(){this.evEl=Nr,this.evWin=Ht,gt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}N(pr,gt,{handler:function(Y){var le=this.store,Re=!1,ze=Y.type.toLowerCase().replace("ms",""),ht=Yt[ze],Qt=Pr[Y.pointerType]||Y.pointerType,Xr=Qt==ue,Yr=F(le,Y.pointerId,"pointerId");ht&$e&&(Y.button===0||Xr)?Yr<0&&(le.push(Y),Yr=le.length-1):ht&(Oe|Ue)&&(Re=!0),!(Yr<0)&&(le[Yr]=Y,this.callback(this.manager,ht,{pointers:le,changedPointers:[Y],pointerType:Qt,srcEvent:Y}),Re&&le.splice(Yr,1))}});var nn={touchstart:$e,touchmove:Be,touchend:Oe,touchcancel:Ue},_r="touchstart",Wr="touchstart touchmove touchend touchcancel";function D(){this.evTarget=_r,this.evWin=Wr,this.started=!1,gt.apply(this,arguments)}N(D,gt,{handler:function(Y){var le=nn[Y.type];if(le===$e&&(this.started=!0),!!this.started){var Re=_.call(this,Y,le);le&(Oe|Ue)&&Re[0].length-Re[1].length===0&&(this.started=!1),this.callback(this.manager,le,{pointers:Re[0],changedPointers:Re[1],pointerType:ue,srcEvent:Y})}}});function _($,Y){var le=K($.touches),Re=K($.changedTouches);return Y&(Oe|Ue)&&(le=V(le.concat(Re),"identifier")),[le,Re]}var g={touchstart:$e,touchmove:Be,touchend:Oe,touchcancel:Ue},d="touchstart touchmove touchend touchcancel";function m(){this.evTarget=d,this.targetIds={},gt.apply(this,arguments)}N(m,gt,{handler:function(Y){var le=g[Y.type],Re=S.call(this,Y,le);Re&&this.callback(this.manager,le,{pointers:Re[0],changedPointers:Re[1],pointerType:ue,srcEvent:Y})}});function S($,Y){var le=K($.touches),Re=this.targetIds;if(Y&($e|Be)&&le.length===1)return Re[le[0].identifier]=!0,[le,le];var ze,ht,Qt=K($.changedTouches),Xr=[],Yr=this.target;if(ht=le.filter(function(Qr){return te(Qr.target,Yr)}),Y===$e)for(ze=0;ze<ht.length;)Re[ht[ze].identifier]=!0,ze++;for(ze=0;ze<Qt.length;)Re[Qt[ze].identifier]&&Xr.push(Qt[ze]),Y&(Oe|Ue)&&delete Re[Qt[ze].identifier],ze++;if(Xr.length)return[V(ht.concat(Xr),"identifier"),Xr]}var W=2500,X=25;function q(){gt.apply(this,arguments);var $=M(this.handler,this);this.touch=new m(this.manager,$),this.mouse=new Pt(this.manager,$),this.primaryTouch=null,this.lastTouches=[]}N(q,gt,{handler:function(Y,le,Re){var ze=Re.pointerType==ue,ht=Re.pointerType==Me;if(!(ht&&Re.sourceCapabilities&&Re.sourceCapabilities.firesTouchEvents)){if(ze)Z.call(this,le,Re);else if(ht&&ae.call(this,Re))return;this.callback(Y,le,Re)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Z($,Y){$&$e?(this.primaryTouch=Y.changedPointers[0].identifier,ge.call(this,Y)):$&(Oe|Ue)&&ge.call(this,Y)}function ge($){var Y=$.changedPointers[0];if(Y.identifier===this.primaryTouch){var le={x:Y.clientX,y:Y.clientY};this.lastTouches.push(le);var Re=this.lastTouches,ze=function(){var ht=Re.indexOf(le);ht>-1&&Re.splice(ht,1)};setTimeout(ze,W)}}function ae($){for(var Y=$.srcEvent.clientX,le=$.srcEvent.clientY,Re=0;Re<this.lastTouches.length;Re++){var ze=this.lastTouches[Re],ht=Math.abs(Y-ze.x),Qt=Math.abs(le-ze.y);if(ht<=X&&Qt<=X)return!0}return!1}var Ae=Q(l.style,"touchAction"),Xe=Ae!==i,Te="compute",ke="auto",nt="manipulation",ce="none",Ve="pan-x",st="pan-y",Ct=vt();function At($,Y){this.manager=$,this.set(Y)}At.prototype={set:function($){$==Te&&($=this.compute()),Xe&&this.manager.element.style&&Ct[$]&&(this.manager.element.style[Ae]=$),this.actions=$.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var $=[];return x(this.manager.recognizers,function(Y){R(Y.options.enable,[Y])&&($=$.concat(Y.getTouchAction()))}),ar($.join(" "))},preventDefaults:function($){var Y=$.srcEvent,le=$.offsetDirection;if(this.manager.session.prevented){Y.preventDefault();return}var Re=this.actions,ze=oe(Re,ce)&&!Ct[ce],ht=oe(Re,st)&&!Ct[st],Qt=oe(Re,Ve)&&!Ct[Ve];if(ze){var Xr=$.pointers.length===1,Yr=$.distance<2,Qr=$.deltaTime<250;if(Xr&&Yr&&Qr)return}if(!(Qt&&ht)&&(ze||ht&&le&Ut||Qt&&le&bt))return this.preventSrc(Y)},preventSrc:function($){this.manager.session.prevented=!0,$.preventDefault()}};function ar($){if(oe($,ce))return ce;var Y=oe($,Ve),le=oe($,st);return Y&&le?ce:Y||le?Y?Ve:st:oe($,nt)?nt:ke}function vt(){if(!Xe)return!1;var $={},Y=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(le){$[le]=Y?e.CSS.supports("touch-action",le):!0}),$}var it=1,Wt=2,U=4,pe=8,Pe=pe,xe=16,Ge=32;function je($){this.options=E({},this.defaults,$||{}),this.id=ie(),this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=it,this.simultaneous={},this.requireFail=[]}je.prototype={defaults:{},set:function($){return E(this.options,$),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function($){if(w($,"recognizeWith",this))return this;var Y=this.simultaneous;return $=kt($,this),Y[$.id]||(Y[$.id]=$,$.recognizeWith(this)),this},dropRecognizeWith:function($){return w($,"dropRecognizeWith",this)?this:($=kt($,this),delete this.simultaneous[$.id],this)},requireFailure:function($){if(w($,"requireFailure",this))return this;var Y=this.requireFail;return $=kt($,this),F(Y,$)===-1&&(Y.push($),$.requireFailure(this)),this},dropRequireFailure:function($){if(w($,"dropRequireFailure",this))return this;$=kt($,this);var Y=F(this.requireFail,$);return Y>-1&&this.requireFail.splice(Y,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function($){return!!this.simultaneous[$.id]},emit:function($){var Y=this,le=this.state;function Re(ze){Y.manager.emit(ze,$)}le<pe&&Re(Y.options.event+lt(le)),Re(Y.options.event),$.additionalEvent&&Re($.additionalEvent),le>=pe&&Re(Y.options.event+lt(le))},tryEmit:function($){if(this.canEmit())return this.emit($);this.state=Ge},canEmit:function(){for(var $=0;$<this.requireFail.length;){if(!(this.requireFail[$].state&(Ge|it)))return!1;$++}return!0},recognize:function($){var Y=E({},$);if(!R(this.options.enable,[this,Y])){this.reset(),this.state=Ge;return}this.state&(Pe|xe|Ge)&&(this.state=it),this.state=this.process(Y),this.state&(Wt|U|pe|xe)&&this.tryEmit(Y)},process:function($){},getTouchAction:function(){},reset:function(){}};function lt($){return $&xe?"cancel":$&pe?"end":$&U?"move":$&Wt?"start":""}function mt($){return $==Mt?"down":$==et?"up":$==qe?"left":$==ut?"right":""}function kt($,Y){var le=Y.manager;return le?le.get($):$}function nr(){je.apply(this,arguments)}N(nr,je,{defaults:{pointers:1},attrTest:function($){var Y=this.options.pointers;return Y===0||$.pointers.length===Y},process:function($){var Y=this.state,le=$.eventType,Re=Y&(Wt|U),ze=this.attrTest($);return Re&&(le&Ue||!ze)?Y|xe:Re||ze?le&Oe?Y|pe:Y&Wt?Y|U:Wt:Ge}});function yr(){nr.apply(this,arguments),this.pX=null,this.pY=null}N(yr,nr,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var $=this.options.direction,Y=[];return $&Ut&&Y.push(st),$&bt&&Y.push(Ve),Y},directionTest:function($){var Y=this.options,le=!0,Re=$.distance,ze=$.direction,ht=$.deltaX,Qt=$.deltaY;return ze&Y.direction||(Y.direction&Ut?(ze=ht===0?ot:ht<0?qe:ut,le=ht!=this.pX,Re=Math.abs($.deltaX)):(ze=Qt===0?ot:Qt<0?et:Mt,le=Qt!=this.pY,Re=Math.abs($.deltaY))),$.direction=ze,le&&Re>Y.threshold&&ze&Y.direction},attrTest:function($){return nr.prototype.attrTest.call(this,$)&&(this.state&Wt||!(this.state&Wt)&&this.directionTest($))},emit:function($){this.pX=$.deltaX,this.pY=$.deltaY;var Y=mt($.direction);Y&&($.additionalEvent=this.options.event+Y),this._super.emit.call(this,$)}});function sn(){nr.apply(this,arguments)}N(sn,nr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.scale-1)>this.options.threshold||this.state&Wt)},emit:function($){if($.scale!==1){var Y=$.scale<1?"in":"out";$.additionalEvent=this.options.event+Y}this._super.emit.call(this,$)}});function Hr(){je.apply(this,arguments),this._timer=null,this._input=null}N(Hr,je,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ke]},process:function($){var Y=this.options,le=$.pointers.length===Y.pointers,Re=$.distance<Y.threshold,ze=$.deltaTime>Y.time;if(this._input=$,!Re||!le||$.eventType&(Oe|Ue)&&!ze)this.reset();else if($.eventType&$e)this.reset(),this._timer=b(function(){this.state=Pe,this.tryEmit()},Y.time,this);else if($.eventType&Oe)return Pe;return Ge},reset:function(){clearTimeout(this._timer)},emit:function($){this.state===Pe&&($&&$.eventType&Oe?this.manager.emit(this.options.event+"up",$):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}});function jt(){nr.apply(this,arguments)}N(jt,nr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.rotation)>this.options.threshold||this.state&Wt)}});function ft(){nr.apply(this,arguments)}N(ft,nr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ut|bt,pointers:1},getTouchAction:function(){return yr.prototype.getTouchAction.call(this)},attrTest:function($){var Y=this.options.direction,le;return Y&(Ut|bt)?le=$.overallVelocity:Y&Ut?le=$.overallVelocityX:Y&bt&&(le=$.overallVelocityY),this._super.attrTest.call(this,$)&&Y&$.offsetDirection&&$.distance>this.options.threshold&&$.maxPointers==this.options.pointers&&h(le)>this.options.velocity&&$.eventType&Oe},emit:function($){var Y=mt($.offsetDirection);Y&&this.manager.emit(this.options.event+Y,$),this.manager.emit(this.options.event,$)}});function Kt(){je.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}N(Kt,je,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function($){var Y=this.options,le=$.pointers.length===Y.pointers,Re=$.distance<Y.threshold,ze=$.deltaTime<Y.time;if(this.reset(),$.eventType&$e&&this.count===0)return this.failTimeout();if(Re&&ze&&le){if($.eventType!=Oe)return this.failTimeout();var ht=this.pTime?$.timeStamp-this.pTime<Y.interval:!0,Qt=!this.pCenter||yt(this.pCenter,$.center)<Y.posThreshold;this.pTime=$.timeStamp,this.pCenter=$.center,!Qt||!ht?this.count=1:this.count+=1,this._input=$;var Xr=this.count%Y.taps;if(Xr===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=Pe,this.tryEmit()},Y.interval,this),Wt):Pe}return Ge},failTimeout:function(){return this._timer=b(function(){this.state=Ge},this.options.interval,this),Ge},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Pe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function fr($,Y){return Y=Y||{},Y.recognizers=P(Y.recognizers,fr.defaults.preset),new Ln($,Y)}fr.VERSION="2.0.7",fr.defaults={domEvents:!1,touchAction:Te,enable:!0,inputTarget:null,inputClass:null,preset:[[jt,{enable:!1}],[sn,{enable:!1},["rotate"]],[ft,{direction:Ut}],[yr,{direction:Ut},["swipe"]],[Kt],[Kt,{event:"doubletap",taps:2},["tap"]],[Hr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var gr=1,Un=2;function Ln($,Y){this.options=E({},fr.defaults,Y||{}),this.options.inputTarget=this.options.inputTarget||$,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=rt(this),this.touchAction=new At(this,this.options.touchAction),Si(this,!0),x(this.options.recognizers,function(le){var Re=this.add(new le[0](le[1]));le[2]&&Re.recognizeWith(le[2]),le[3]&&Re.requireFailure(le[3])},this)}Ln.prototype={set:function($){return E(this.options,$),$.touchAction&&this.touchAction.update(),$.inputTarget&&(this.input.destroy(),this.input.target=$.inputTarget,this.input.init()),this},stop:function($){this.session.stopped=$?Un:gr},recognize:function($){var Y=this.session;if(!Y.stopped){this.touchAction.preventDefaults($);var le,Re=this.recognizers,ze=Y.curRecognizer;(!ze||ze&&ze.state&Pe)&&(ze=Y.curRecognizer=null);for(var ht=0;ht<Re.length;)le=Re[ht],Y.stopped!==Un&&(!ze||le==ze||le.canRecognizeWith(ze))?le.recognize($):le.reset(),!ze&&le.state&(Wt|U|pe)&&(ze=Y.curRecognizer=le),ht++}},get:function($){if($ instanceof je)return $;for(var Y=this.recognizers,le=0;le<Y.length;le++)if(Y[le].options.event==$)return Y[le];return null},add:function($){if(w($,"add",this))return this;var Y=this.get($.options.event);return Y&&this.remove(Y),this.recognizers.push($),$.manager=this,this.touchAction.update(),$},remove:function($){if(w($,"remove",this))return this;if($=this.get($),$){var Y=this.recognizers,le=F(Y,$);le!==-1&&(Y.splice(le,1),this.touchAction.update())}return this},on:function($,Y){if($!==i&&Y!==i){var le=this.handlers;return x(C($),function(Re){le[Re]=le[Re]||[],le[Re].push(Y)}),this}},off:function($,Y){if($!==i){var le=this.handlers;return x(C($),function(Re){Y?le[Re]&&le[Re].splice(F(le[Re],Y),1):delete le[Re]}),this}},emit:function($,Y){this.options.domEvents&&ii($,Y);var le=this.handlers[$]&&this.handlers[$].slice();if(!(!le||!le.length)){Y.type=$,Y.preventDefault=function(){Y.srcEvent.preventDefault()};for(var Re=0;Re<le.length;)le[Re](Y),Re++}},destroy:function(){this.element&&Si(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Si($,Y){var le=$.element;if(le.style){var Re;x($.options.cssProps,function(ze,ht){Re=Q(le.style,ht),Y?($.oldCssProps[Re]=le.style[Re],le.style[Re]=ze):le.style[Re]=$.oldCssProps[Re]||""}),Y||($.oldCssProps={})}}function ii($,Y){var le=r.createEvent("Event");le.initEvent($,!0,!0),le.gesture=Y,Y.target.dispatchEvent(le)}E(fr,{INPUT_START:$e,INPUT_MOVE:Be,INPUT_END:Oe,INPUT_CANCEL:Ue,STATE_POSSIBLE:it,STATE_BEGAN:Wt,STATE_CHANGED:U,STATE_ENDED:pe,STATE_RECOGNIZED:Pe,STATE_CANCELLED:xe,STATE_FAILED:Ge,DIRECTION_NONE:ot,DIRECTION_LEFT:qe,DIRECTION_RIGHT:ut,DIRECTION_UP:et,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:Ut,DIRECTION_VERTICAL:bt,DIRECTION_ALL:xt,Manager:Ln,Input:gt,TouchAction:At,TouchInput:m,MouseInput:Pt,PointerEventInput:pr,TouchMouseInput:q,SingleTouchInput:D,Recognizer:je,AttrRecognizer:nr,Tap:Kt,Pan:yr,Swipe:ft,Pinch:sn,Rotate:jt,Press:Hr,on:I,off:j,each:x,merge:O,extend:k,assign:E,inherit:N,bindFn:M,prefixed:Q});var Ts=typeof e<"u"?e:typeof self<"u"?self:{};Ts.Hammer=fr,t.exports?t.exports=fr:e[n]=fr})(window,document,"Hammer")}($g)),$g.exports}var Jc=Rj();const xj=kd(Jc),Hi=hS({__proto__:null,default:xj},[Jc]),nR=1,iR=2,Zm=4,Cj={mousedown:nR,mousemove:iR,mouseup:Zm};function Aj(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}function Pj(t){const e=t.prototype.handler;t.prototype.handler=function(n){const i=this.store;n.button>0&&n.type==="pointerdown"&&(Aj(i,s=>s.pointerId===n.pointerId)||i.push(n)),e.call(this,n)}}function Mj(t){t.prototype.handler=function(r){let n=Cj[r.type];n&nR&&r.button>=0&&(this.pressed=!0),n&iR&&r.buttons===0&&(n=Zm),this.pressed&&(n&Zm&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[r],changedPointers:[r],pointerType:"mouse",srcEvent:r}))}}Pj(Jc.PointerEventInput);Mj(Jc.MouseInput);const kj=Jc.Manager;class lh{constructor(e,r,n){this.element=e,this.callback=r,this.options={enable:!0,...n}}}const Ij=Hi?[[Hi.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Hi.Rotate,{enable:!1}],[Hi.Pinch,{enable:!1}],[Hi.Swipe,{enable:!1}],[Hi.Pan,{threshold:0,enable:!1}],[Hi.Press,{enable:!1}],[Hi.Tap,{event:"doubletap",taps:2,enable:!1}],[Hi.Tap,{event:"anytap",enable:!1}],[Hi.Tap,{enable:!1}]]:null,k1={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Nj={doubletap:["tap"]},Oj={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},n_={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},Fj={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},I1={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Dj=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ja=typeof window<"u"?window:global;let Qm=!1;try{const t={get passive(){return Qm=!0,!0}};ja.addEventListener("test",null,t),ja.removeEventListener("test",null)}catch{Qm=!1}const Bj=Dj.indexOf("firefox")!==-1,{WHEEL_EVENTS:Uj}=n_,N1="wheel",O1=4.000244140625,Lj=40,jj=.25;class zj extends lh{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{if(!this.options.enable)return;let s=i.deltaY;ja.WheelEvent&&(Bj&&i.deltaMode===ja.WheelEvent.DOM_DELTA_PIXEL&&(s/=ja.devicePixelRatio),i.deltaMode===ja.WheelEvent.DOM_DELTA_LINE&&(s*=Lj)),s!==0&&s%O1===0&&(s=Math.floor(s/O1)),i.shiftKey&&s&&(s=s*jj),this.callback({type:N1,center:{x:i.clientX,y:i.clientY},delta:-s,srcEvent:i,pointerType:"mouse",target:i.target})},this.events=(this.options.events||[]).concat(Uj),this.events.forEach(i=>e.addEventListener(i,this.handleEvent,Qm?{passive:!1}:!1))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===N1&&(this.options.enable=r)}}const{MOUSE_EVENTS:$j}=n_,F1="pointermove",D1="pointerover",B1="pointerout",U1="pointerenter",L1="pointerleave";class Vj extends lh{constructor(e,r,n){super(e,r,n),this.handleEvent=s=>{this.handleOverEvent(s),this.handleOutEvent(s),this.handleEnterEvent(s),this.handleLeaveEvent(s),this.handleMoveEvent(s)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,this.events=(this.options.events||[]).concat($j),this.events.forEach(s=>e.addEventListener(s,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===F1&&(this.enableMoveEvent=r),e===D1&&(this.enableOverEvent=r),e===B1&&(this.enableOutEvent=r),e===U1&&(this.enableEnterEvent=r),e===L1&&(this.enableLeaveEvent=r)}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit(D1,e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit(B1,e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit(U1,e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit(L1,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit(F1,e);break;case"mouseup":this.pressed=!1;break}}_emit(e,r){this.callback({type:e,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})}}const{KEY_EVENTS:Wj}=n_,j1="keydown",z1="keyup";class Hj extends lh{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{const s=i.target||i.srcElement;s.tagName==="INPUT"&&s.type==="text"||s.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:j1,srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:z1,srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Wj),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===j1&&(this.enableDownEvent=r),e===z1&&(this.enableUpEvent=r)}}const $1="contextmenu";class Xj extends lh{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{this.options.enable&&this.callback({type:$1,center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,r){e===$1&&(this.options.enable=r)}}const V1=1,Jm=2,W1=4,Yj={pointerdown:V1,pointermove:Jm,pointerup:W1,mousedown:V1,mousemove:Jm,mouseup:W1},Kj=0,qj=1,Zj=2,Qj=1,Jj=2,Gj=4;function ez(t){const e=Yj[t.srcEvent.type];if(!e)return null;const{buttons:r,button:n}=t.srcEvent;let i=!1,s=!1,l=!1;return e===Jm?(i=!!(r&Qj),s=!!(r&Gj),l=!!(r&Jj)):(i=n===Kj,s=n===qj,l=n===Zj),{leftButton:i,middleButton:s,rightButton:l}}function tz(t,e){const r=t.center;if(!r)return null;const n=e.getBoundingClientRect(),i=n.width/e.offsetWidth||1,s=n.height/e.offsetHeight||1,l={x:(r.x-n.left-e.clientLeft)/i,y:(r.y-n.top-e.clientTop)/s};return{center:r,offsetCenter:l}}const Vg={srcElement:"root",priority:0};class rz{constructor(e){this.handleEvent=r=>{if(this.isEmpty())return;const n=this._normalizeEvent(r);let i=r.srcEvent.target;for(;i&&i!==n.rootElement;){if(this._emit(n,i),n.handled)return;i=i.parentNode}this._emit(n,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,r,n,i=!1,s=!1){const{handlers:l,handlersByElement:c}=this;let f=Vg;typeof n=="string"||n&&n.addEventListener?f={...Vg,srcElement:n}:n&&(f={...Vg,...n});let h=c.get(f.srcElement);h||(h=[],c.set(f.srcElement,h));const y={type:e,handler:r,srcElement:f.srcElement,priority:f.priority};i&&(y.once=!0),s&&(y.passive=!0),l.push(y),this._active=this._active||!y.passive;let b=h.length-1;for(;b>=0&&!(h[b].priority>=y.priority);)b--;h.splice(b+1,0,y)}remove(e,r){const{handlers:n,handlersByElement:i}=this;for(let s=n.length-1;s>=0;s--){const l=n[s];if(l.type===e&&l.handler===r){n.splice(s,1);const c=i.get(l.srcElement);c.splice(c.indexOf(l),1),c.length===0&&i.delete(l.srcElement)}}this._active=n.some(s=>!s.passive)}_emit(e,r){const n=this.handlersByElement.get(r);if(n){let i=!1;const s=()=>{e.handled=!0},l=()=>{e.handled=!0,i=!0},c=[];for(let f=0;f<n.length;f++){const{type:h,handler:y,once:b}=n[f];if(y({...e,type:h,stopPropagation:s,stopImmediatePropagation:l}),b&&c.push(n[f]),i)break}for(let f=0;f<c.length;f++){const{type:h,handler:y}=c[f];this.remove(h,y)}}}_normalizeEvent(e){const r=this.eventManager.getElement();return{...e,...ez(e),...tz(e,r),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:r}}}const nz={events:null,recognizers:null,recognizerOptions:{},Manager:kj,touchAction:"none",tabIndex:0};class iz{constructor(e=null,r){this._onBasicInput=i=>{const{srcEvent:s}=i,l=Oj[s.type];l&&this.manager.emit(l,i)},this._onOtherEvent=i=>{this.manager.emit(i.type,i)},this.options={...nz,...r},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:r}=this,n=r.Manager;this.manager=new n(e,{touchAction:r.touchAction,recognizers:r.recognizers||Ij}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(k1).forEach(i=>{const s=this.manager.get(i);s&&k1[i].forEach(l=>{s.recognizeWith(l)})});for(const i in r.recognizerOptions){const s=this.manager.get(i);if(s){const l=r.recognizerOptions[i];delete l.enable,s.set(l)}}this.wheelInput=new zj(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Vj(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Hj(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new Xj(e,this._onOtherEvent,{enable:!1});for(const[i,s]of this.events)s.isEmpty()||(this._toggleRecognizer(s.recognizerName,!0),this.manager.on(i,s.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,r,n){this._addEventHandler(e,r,n,!1)}once(e,r,n){this._addEventHandler(e,r,n,!0)}watch(e,r,n){this._addEventHandler(e,r,n,!1,!0)}off(e,r){this._removeEventHandler(e,r)}_toggleRecognizer(e,r){const{manager:n}=this;if(!n)return;const i=n.get(e);if(i&&i.options.enable!==r){i.set({enable:r});const s=Nj[e];s&&!this.options.recognizers&&s.forEach(l=>{const c=n.get(l);r?(c.requireFailure(e),i.dropRequireFailure(l)):c.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,r),this.moveInput.enableEventType(e,r),this.keyInput.enableEventType(e,r),this.contextmenuInput.enableEventType(e,r)}_addEventHandler(e,r,n,i,s){if(typeof e!="string"){n=r;for(const y in e)this._addEventHandler(y,e[y],n,i,s);return}const{manager:l,events:c}=this,f=I1[e]||e;let h=c.get(f);h||(h=new rz(this),c.set(f,h),h.recognizerName=Fj[f]||f,l&&l.on(f,h.handleEvent)),h.add(e,r,n,i,s),h.isEmpty()||this._toggleRecognizer(h.recognizerName,!0)}_removeEventHandler(e,r){if(typeof e!="string"){for(const l in e)this._removeEventHandler(l,e[l]);return}const{events:n}=this,i=I1[e]||e,s=n.get(i);if(s&&(s.remove(e,r),s.isEmpty())){const{recognizerName:l}=s;let c=!1;for(const f of n.values())if(f.recognizerName===l&&!f.isEmpty()){c=!0;break}c||this._toggleRecognizer(l,!1)}}}function Xs(){}const sz=({isDragging:t})=>t?"grabbing":"grab",sR={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{type:"webgl"},gl:null,glOptions:{},canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:Xs,onWebGLInitialized:Xs,onResize:Xs,onViewStateChange:Xs,onInteractionStateChange:Xs,onBeforeRender:Xs,onAfterRender:Xs,onLoad:Xs,onError:t=>Cr.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:sz,getTooltip:null,debug:!1,drawPickingColors:!1};class i_{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new eh({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=n=>{const{_pickRequest:i}=this;if(n.type==="pointerleave")i.x=-1,i.y=-1,i.radius=0;else{if(n.leftButton||n.rightButton)return;{const s=n.offsetCenter;if(!s)return;i.x=s.x,i.y=s.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=n},this._onEvent=n=>{const i=jm[n.type],s=n.offsetCenter;if(!i||!s||!this.layerManager)return;const l=this.layerManager.getLayers(),c=this.deckPicker.getLastPickedObject({x:s.x,y:s.y,layers:l,viewports:this.getViewports(s)},this._lastPointerDownInfo),{layer:f}=c,h=f&&(f[i.handler]||f.props[i.handler]),y=this.props[i.handler];let b=!1;h&&(b=h.call(f,c,n)),b||(y==null||y(c,n),this.widgetManager.onEvent(c,n))},this._onPointerDown=n=>{const i=n.offsetCenter,s=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=s.result[0]||s.emptyInfo},this.props={...sR,...e},e=this.props,e.viewState&&e.initialViewState&&Cr.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device?this.device=e.device:e.gl&&(e.gl instanceof WebGLRenderingContext&&Cr.error("WebGL1 context not supported.")(),this.device=bc.attach(e.gl));let r=this.device;r||(Wa.registerDevices([bc]),r=Wa.createDevice({...e.deviceProps,canvas:this._createCanvas(e)})),this.animationLoop=this._createAnimationLoop(r,e),this.setProps(e),e._typedArrayManagerProps&&Fc.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,r,n,i,s,l,c,f,h,y;(e=this.animationLoop)==null||e.stop(),(r=this.animationLoop)==null||r.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(n=this.layerManager)==null||n.finalize(),this.layerManager=null,(i=this.viewManager)==null||i.finalize(),this.viewManager=null,(s=this.effectManager)==null||s.finalize(),this.effectManager=null,(l=this.deckRenderer)==null||l.finalize(),this.deckRenderer=null,(c=this.deckPicker)==null||c.finalize(),this.deckPicker=null,(f=this.eventManager)==null||f.destroy(),this.eventManager=null,(h=this.widgetManager)==null||h.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((y=this.canvas.parentElement)==null||y.removeChild(this.canvas),this.canvas=null)}setProps(e){var n;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Cr.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Cr.removed("onLayerClick","onClick")(),e.initialViewState&&!Ni(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const r=Object.create(this.props);Object.assign(r,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),(n=this.animationLoop)==null||n.setProps(r),this.layerManager&&(this.viewManager.setProps(r),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(r),this.effectManager.setProps(r),this.deckRenderer.setProps(r),this.deckPicker.setProps(r),this.widgetManager.setProps(r)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),s=this.effectManager.needsRedraw(e),l=this.deckRenderer.needsRedraw(e);return r=r||n||i||s||l,r}redraw(e){if(!this.layerManager)return;let r=this.needsRedraw({clearRedrawFlags:!0});r=e||r,r&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(r):this._drawLayers(r))}get isInitialized(){return this.viewManager!==null}getViews(){return kn(this.viewManager),this.viewManager.views}getViewports(e){return kn(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const r=this._pick("pickObject","pickObject Time",e).result;return r.length?r[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,r=!1){for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:r})}_removeResources(e){for(const r of e)this.layerManager.resourceManager.remove(r)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var r;(r=this.layerManager)==null||r.removeDefaultShaderModule(e)}_pick(e,r,n){kn(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(r).timeStart();const s=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return i.get(r).timeEnd(),s}_createCanvas(e){let r=e.canvas;return typeof r=="string"&&(r=document.getElementById(r),kn(r)),r||(r=document.createElement("canvas"),r.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(r)),Object.assign(r.style,e.style),r}_setCanvasSize(e){var i;if(!this.canvas)return;const{width:r,height:n}=e;if(r||r===0){const s=Number.isFinite(r)?`${r}px`:r;this.canvas.style.width=s}if(n||n===0){const s=Number.isFinite(n)?`${n}px`:n;this.canvas.style.position=((i=e.style)==null?void 0:i.position)||"absolute",this.canvas.style.height=s}}_updateCanvasSize(){var i,s;const{canvas:e}=this;if(!e)return;const r=e.clientWidth??e.width,n=e.clientHeight??e.height;(r!==this.width||n!==this.height)&&(this.width=r,this.height=n,(i=this.viewManager)==null||i.setProps({width:r,height:n}),(s=this.layerManager)==null||s.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:n}))}_createAnimationLoop(e,r){const{gl:n,onError:i,useDevicePixels:s}=r;return new k5({device:e,useDevicePixels:s,autoResizeDrawingBuffer:!n,autoResizeViewport:!1,onInitialize:l=>this._setDevice(l.device),onRender:this._onRenderFrame.bind(this),onError:i})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,r=Array.isArray(e)?e:e?[e]:[new zE({id:"default-view"})];return r.length&&this.props.controller&&(r[0].props.controller=this.props.controller),r}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var r,n,i;const{_pickRequest:e}=this;if(e.event){const{result:s,emptyInfo:l}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=s.length>0;let c=l,f=!1;for(const h of s)c=h,f=((r=h.layer)==null?void 0:r.onHover(h,e.event))||f;f||((i=(n=this.props).onHover)==null||i.call(n,c,e.event),this.widgetManager.onHover(c,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var i,s;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(i=this.device.canvasContext)==null?void 0:i.canvas),this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device instanceof bc&&this.props.onWebGLInitialized(this.device.gl);const r=new OE;r.play(),this.animationLoop.attachTimeline(r),this.eventManager=new iz(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const l in jm)this.eventManager.on(l,this._onEvent);this.viewManager=new q5({timeline:r,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new K5(this.device,{deck:this,stats:this.stats,viewport:n,timeline:r}),this.effectManager=new cL({deck:this,device:this.device}),this.deckRenderer=new dL(this.device),this.deckPicker=new yL(this.device),this.widgetManager=new bL({deck:this,parentElement:(s=this.canvas)==null?void 0:s.parentElement}),this.widgetManager.addDefault(new TL),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,r){var l;const{device:n,gl:i}=this.layerManager.context;this.props.onBeforeRender({device:n,gl:i});const s={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...r};(l=this.deckRenderer)==null||l.renderLayers(s),s.pass==="screen"&&this.widgetManager.onRedraw({viewports:s.viewports,layers:s.layers}),this.props.onAfterRender({device:n,gl:i})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Cr.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const r=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:r},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const r=this.animationLoop.stats;e.get("GPU Time").addTime(r.get("GPU Time").lastTiming),e.get("CPU Time").addTime(r.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:r}=this;e.fps=r.get("frameRate").getHz(),e.setPropsTime=r.get("setProps Time").time,e.updateAttributesTime=r.get("Update Attributes").time,e.framesRedrawn=r.get("Redraw Count").count,e.pickTime=r.get("pickObject Time").time+r.get("pickMultipleObjects Time").time+r.get("pickObjects Time").time,e.pickCount=r.get("Pick Count").count,e.gpuTime=r.get("GPU Time").time,e.cpuTime=r.get("CPU Time").time,e.gpuTimePerFrame=r.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=r.get("CPU Time").getAverageTime();const n=Wa.stats.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}i_.defaultProps=sR;i_.VERSION=zD;function oz(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return iE(t)}}const az=nE;function Pf(t,e){return{attribute:t,format:e.size>1?`${e.type}x${e.size}`:e.type,byteOffset:e.offset||0}}function Io(t){return t.stride||t.size*t.bytesPerElement}function lz(t,e){return t.type===e.type&&t.size===e.size&&Io(t)===Io(e)&&(t.offset||0)===(e.offset||0)}function Gm(t,e){e.offset&&Cr.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const r=Io(t),n=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,i=e.elementOffset||0,s=n*r+i*t.bytesPerElement+(t.offset||0);return{...e,offset:s,stride:r}}function cz(t,e){const r=Gm(t,e);return{high:r,low:{...r,offset:r.offset+t.size*4}}}class uz{constructor(e,r,n){this._buffer=null,this.device=e,this.id=r.id||"",this.size=r.size||1;const i=r.logicalType||r.type,s=i==="float64";let{defaultValue:l}=r;l=Number.isFinite(l)?[l]:l||new Array(this.size).fill(0);let c;s?c="float32":!i&&r.isIndexed?c="uint32":c=i||"float32";let f=oz(i||c);this.doublePrecision=s,s&&r.fp64===!1&&(f=Float32Array),this.value=null,this.settings={...r,defaultType:f,defaultValue:l,logicalType:i,type:c,normalized:c.includes("norm"),size:this.size,bytesPerElement:f.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*Io(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Fc.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,r=null){const n={};if(this.state.constant){const i=this.value;if(r){const s=Gm(this.getAccessor(),r),l=s.offset/i.BYTES_PER_ELEMENT,c=s.size||this.size;n[e]=i.subarray(l,l+c)}else n[e]=i}else n[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?n[`${e}64Low`]=n[e]:n[`${e}64Low`]=new Float32Array(this.size)),n}_getBufferLayout(e=this.id,r=null){const n=this.getAccessor(),i=[],s={name:this.id,byteStride:Io(n),attributes:i};if(this.doublePrecision){const l=cz(n,r||{});i.push(Pf(e,{...n,...l.high}),Pf(`${e}64Low`,{...n,...l.low}))}else if(r){const l=Gm(n,r);i.push(Pf(e,{...n,...l}))}else i.push(Pf(e,n));return s}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const r=Array.from(this.value);e=[r,r]}else{const{value:r,numInstances:n,size:i}=this,s=n*i;if(r&&s&&r.length>=s){const l=new Array(i).fill(1/0),c=new Array(i).fill(-1/0);for(let f=0;f<s;)for(let h=0;h<i;h++){const y=r[f++];y<l[h]&&(l[h]=y),y>c[h]&&(c[h]=y)}e=[l,c]}}return this.state.bounds=e,e}setData(e){const{state:r}=this;let n;ArrayBuffer.isView(e)?n={value:e}:e instanceof Lr?n={buffer:e}:n=e;const i={...this.settings,...n};if(ArrayBuffer.isView(n.value)){if(!n.type)if(this.doublePrecision&&n.value instanceof Float64Array)i.type="float32";else{const l=az(n.value);i.type=i.normalized?l.replace("int","norm"):l}i.bytesPerElement=n.value.BYTES_PER_ELEMENT,i.stride=Io(i)}if(r.bounds=null,n.constant){let s=n.value;if(s=this._normalizeValue(s,[],0),this.settings.normalized&&(s=this.normalizeConstant(s)),!(!r.constant||!this._areValuesEqual(s,this.value)))return!1;r.externalBuffer=null,r.constant=!0,this.value=ArrayBuffer.isView(s)?s:new Float32Array(s)}else if(n.buffer){const s=n.buffer;r.externalBuffer=s,r.constant=!1,this.value=n.value||null}else if(n.value){this._checkExternalBuffer(n);let s=n.value;r.externalBuffer=null,r.constant=!1,this.value=s;let{buffer:l}=this;const c=Io(i),f=(i.vertexOffset||0)*c;if(this.doublePrecision&&s instanceof Float64Array&&(s=Pg(s,i)),this.settings.isIndexed){const y=this.settings.defaultType;s.constructor!==y&&(s=new y(s))}const h=s.byteLength+f+c*2;(!l||l.byteLength<h)&&(l=this._createBuffer(h)),l.write(s,f)}return this.setAccessor(i),!0}updateSubBuffer(e={}){this.state.bounds=null;const r=this.value,{startOffset:n=0,endOffset:i}=e;this.buffer.write(this.doublePrecision&&r instanceof Float64Array?Pg(r,{size:this.size,startIndex:n,endIndex:i}):r.subarray(n,i),n*r.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,r=!1){const{state:n}=this,i=n.allocatedValue,s=Fc.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:r});this.value=s;const{byteOffset:l}=this;let{buffer:c}=this;return(!c||c.byteLength<s.byteLength+l)&&(c=this._createBuffer(s.byteLength+l),r&&i&&c.write(i instanceof Float64Array?Pg(i,this):i,l)),n.allocatedValue=s,n.constant=!1,n.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:r}=e;if(!ArrayBuffer.isView(r))throw new Error(`Attribute ${this.id} value is not TypedArray`);const n=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=r.BYTES_PER_ELEMENT<4),i)throw new Error(`Attribute ${this.id} does not support ${r.constructor.name}`);!(r instanceof n)&&this.settings.normalized&&!("normalized"in e)&&Cr.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(r=>(r+128)/255*2-1);case"snorm16":return new Float32Array(e).map(r=>(r+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(r=>r/255);case"unorm16":return new Float32Array(e).map(r=>r/65535);default:return e}}_normalizeValue(e,r,n){const{defaultValue:i,size:s}=this.settings;if(Number.isFinite(e))return r[n]=e,r;if(!e){let l=s;for(;--l>=0;)r[n+l]=i[l];return r}switch(s){case 4:r[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:r[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:r[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:r[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let l=s;for(;--l>=0;)r[n+l]=Number.isFinite(e[l])?e[l]:i[l]}return r}_areValuesEqual(e,r){if(!e||!r)return!1;const{size:n}=this;for(let i=0;i<n;i++)if(e[i]!==r[i])return!1;return!0}_createBuffer(e){var i;this._buffer&&this._buffer.destroy();const{isIndexed:r,type:n}=this.settings;return this._buffer=this.device.createBuffer({...(i=this._buffer)==null?void 0:i.props,id:this.id,usage:r?Lr.INDEX:Lr.VERTEX,indexType:r?n:void 0,byteLength:e}),this._buffer}}const H1=[],X1=[];function fz(t,e=0,r=1/0){let n=H1;const i={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?n=t:t.length>0&&(X1.length=t.length,n=X1):n=H1,(e>0||Number.isFinite(r))&&(n=(Array.isArray(n)?n:Array.from(n)).slice(e,r),i.index=e-1),{iterable:n,objectInfo:i}}function oR(t){return t&&t[Symbol.asyncIterator]}function dz(t,e){const{size:r,stride:n,offset:i,startIndices:s,nested:l}=e,c=t.BYTES_PER_ELEMENT,f=n?n/c:r,h=i?i/c:0,y=Math.floor((t.length-h)/f);return(b,{index:w,target:x})=>{if(!s){const O=w*f+h;for(let N=0;N<r;N++)x[N]=t[O+N];return x}const A=s[w],E=s[w+1]||y;let k;if(l){k=new Array(E-A);for(let O=A;O<E;O++){const N=O*f+h;x=new Array(r);for(let M=0;M<r;M++)x[M]=t[N+M];k[O-A]=x}}else if(f===r)k=t.subarray(A*r+h,E*r+h);else{k=new t.constructor((E-A)*r);let O=0;for(let N=A;N<E;N++){const M=N*f+h;for(let R=0;R<r;R++)k[O++]=t[M+R]}}return k}}const hz=[],Df=[[0,1/0]];function pz(t,e){if(t===Df||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const r=[],n=t.length;let i=0;for(let s=0;s<n;s++){const l=t[s];l[1]<e[0]?(r.push(l),i=s+1):l[0]>e[1]?r.push(l):e=[Math.min(l[0],e[0]),Math.max(l[1],e[1])]}return r.splice(i,0,e),r}const gz={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function aR(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const r=t.type||"interpolation";return{...gz[r],...e,...t,type:r}}class lR extends uz{constructor(e,r){super(e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:Df}),this.constant=!1,this.settings.update=r.update||(r.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const r=this.state.needsRedraw;return this.state.needsRedraw=r&&!e,r}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var r;(r=this.state).layoutChanged||(r.layoutChanged=!lz(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:r}=this.settings,n=this.settings.transition,i=Array.isArray(r)?e[r.find(s=>e[s])]:e[r];return aR(i,n)}setNeedsUpdate(e=this.id,r){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),r){const{startRow:n=0,endRow:i=1/0}=r;this.state.updateRanges=pz(this.state.updateRanges,[n,i])}else this.state.updateRanges=Df}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=hz}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:r,settings:n}=this;return n.noAlloc?!1:n.update?(super.allocate(e,r.updateRanges!==Df),!0):!1}updateBuffer({numInstances:e,data:r,props:n,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:s},settings:{update:l,noAlloc:c}}=this;let f=!0;if(l){for(const[h,y]of s)l.call(i,this,{data:r,startRow:h,endRow:y,props:n,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[h,y]of s){const b=Number.isFinite(h)?this.getVertexOffset(h):0,w=Number.isFinite(y)?this.getVertexOffset(y):c||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:b,endOffset:w})}this._checkAttributeArray()}else f=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),f}setConstantValue(e){return e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:r}=this;return e?(this.clearNeedsUpdate(),r.lastExternalBuffer===e||(r.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(r.lastExternalBuffer=null,!1)}setBinaryValue(e,r=null){const{state:n,settings:i}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;if(n.binaryValue=e,this.setNeedsRedraw(),i.transform||r!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const l=e;kn(ArrayBuffer.isView(l.value),`invalid ${i.accessor}`);const c=!!l.size&&l.size!==this.size;return n.binaryAccessor=dz(l.value,{size:l.size||this.size,stride:l.stride,offset:l.offset,startIndices:r,nested:c}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:r}=this;return(r?e<r.length?r[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,r=super.getValue();if(!e)return r;for(const n in e)Object.assign(r,super.getValue(n,e[n]));return r}getBufferLayout(e){this.state.layoutChanged=!1;const r=this.settings.shaderAttributes,n=super._getBufferLayout(),{stepMode:i}=this.settings;if(i==="dynamic"?n.stepMode=e?e.isInstanced?"instance":"vertex":"instance":n.stepMode=i??"vertex",!r)return n;for(const s in r){const l=super._getBufferLayout(s,r[s]);n.attributes.push(...l.attributes)}return n}_autoUpdater(e,{data:r,startRow:n,endRow:i,props:s,numInstances:l}){if(e.constant)return;const{settings:c,state:f,value:h,size:y,startIndices:b}=e,{accessor:w,transform:x}=c,A=f.binaryAccessor||(typeof w=="function"?w:s[w]);kn(typeof A=="function",`accessor "${w}" is not a function`);let E=e.getVertexOffset(n);const{iterable:k,objectInfo:O}=fz(r,n,i);for(const N of k){O.index++;let M=A(N,O);if(x&&(M=x.call(this,M)),b){const R=(O.index<b.length-1?b[O.index+1]:l)-b[O.index];if(M&&Array.isArray(M[0])){let P=E;for(const I of M)e._normalizeValue(I,h,P),P+=y}else M&&M.length>y?h.set(M,E):(e._normalizeValue(M,O.target,0),V5({target:h,source:O.target,start:E,count:R}));E+=R*y}else e._normalizeValue(M,h,E),E+=y}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,r=Math.min(4,this.size);if(e&&e.length>=r){let n=!0;switch(r){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function Wg(t){const{source:e,target:r,start:n=0,size:i,getData:s}=t,l=t.end||r.length,c=e.length,f=l-n;if(c>f){r.set(e.subarray(0,f),n);return}if(r.set(e,n),!s)return;let h=c;for(;h<f;){const y=s(h,e);for(let b=0;b<i;b++)r[n+h]=y[b]||0,h++}}function mz({source:t,target:e,size:r,getData:n,sourceStartIndices:i,targetStartIndices:s}){if(!i||!s)return Wg({source:t,target:e,size:r,getData:n}),e;let l=0,c=0;const f=n&&((y,b)=>n(y+c,b)),h=Math.min(i.length,s.length);for(let y=1;y<h;y++){const b=i[y]*r,w=s[y]*r;Wg({source:t.subarray(l,b),target:e,start:c,end:w,size:r,getData:f}),l=b,c=w}return c<e.length&&Wg({source:[],target:e,start:c,size:r,getData:f}),e}function _z(t){const{device:e,settings:r,value:n}=t,i=new lR(e,r);return i.setData({value:n instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:r.normalized}),i}function cR(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function uR(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function fR(t){t.push(t.shift())}function yz(t,e){const{doublePrecision:r,settings:n,value:i,size:s}=t,l=r&&i instanceof Float64Array?2:1;let c=0;const{shaderAttributes:f}=t.settings;if(f)for(const h of Object.values(f))c=Math.max(c,h.vertexOffset??0);return(n.noAlloc?i.length:(e+c)*s)*l}function dR({device:t,source:e,target:r}){return(!r||r.byteLength<e.byteLength)&&(r==null||r.destroy(),r=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),r}function hR({device:t,buffer:e,attribute:r,fromLength:n,toLength:i,fromStartIndices:s,getData:l=c=>c}){const c=r.doublePrecision&&r.value instanceof Float64Array?2:1,f=r.size*c,h=r.byteOffset,y=r.settings.bytesPerElement<4?h/r.settings.bytesPerElement*4:h,b=r.startIndices,w=s&&b,x=r.isConstant;if(!w&&e&&n>=i)return e;const A=r.value instanceof Float64Array?Float32Array:r.value.constructor,E=x?r.value:new A(r.getBuffer().readSyncWebGL(h,i*A.BYTES_PER_ELEMENT).buffer);if(r.settings.normalized&&!x){const M=l;l=(R,P)=>r.normalizeConstant(M(R,P))}const k=x?(M,R)=>l(E,R):(M,R)=>l(E.subarray(M+h,M+h+f),R),O=e?new Float32Array(e.readSyncWebGL(y,n*4).buffer):new Float32Array(0),N=new Float32Array(i);return mz({source:O,target:N,sourceStartIndices:s,targetStartIndices:b,size:f,getData:k}),(!e||e.byteLength<N.byteLength+y)&&(e==null||e.destroy(),e=t.createBuffer({byteLength:N.byteLength+y,usage:35050})),e.write(N,y),e}class pR{constructor({device:e,attribute:r,timeline:n}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new sh(n),this.attribute=r,this.attributeInTransition=_z(r),this.currentStartIndices=r.startIndices}get inProgress(){return this.transition.inProgress}start(e,r,n=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=yz(this.attribute,r),this.transition.start({...e,duration:n})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class vz extends pR{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="interpolation",this.transform=Sz(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;if(super.start(e,r,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:s,attribute:l}=this;fR(s),s[0]=hR({device:this.device,buffer:s[0],attribute:l,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter}),s[1]=dR({device:this.device,source:s[0],target:s[1]}),this.setBuffer(s[1]);const{transform:c}=this,f=c.model;let h=Math.floor(this.currentLength/l.size);gR(l)&&(h/=2),f.setVertexCount(h),l.isConstant?(f.setAttributes({aFrom:s[0]}),f.setConstantAttributes({aTo:l.value})):f.setAttributes({aFrom:s[0],aTo:l.getBuffer()}),c.transformFeedback.setBuffers({vCurrent:s[1]})}onUpdate(){const{duration:e,easing:r}=this.settings,{time:n}=this.transition;let i=n/e;r&&(i=r(i));const{model:s}=this.transform;s.setUniforms({time:i}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const wz=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, time);
  gl_Position = vec4(0.0);
}
`,bz=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function gR(t){return t.doublePrecision&&t.value instanceof Float64Array}function Sz(t,e){const r=e.size,n=cR(r),i=uR(r),s=e.getBufferLayout();return gR(e)?new Dc(t,{vs:bz,bufferLayout:[{name:"aFrom",byteStride:8*r,attributes:[{attribute:"aFrom",format:i,byteOffset:0},{attribute:"aFrom64Low",format:i,byteOffset:4*r}]},{name:"aTo",byteStride:8*r,attributes:[{attribute:"aTo",format:i,byteOffset:0},{attribute:"aTo64Low",format:i,byteOffset:4*r}]}],modules:[g6],defines:{ATTRIBUTE_TYPE:n,ATTRIBUTE_SIZE:r},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new Dc(t,{vs:wz,bufferLayout:[{name:"aFrom",format:i},{name:"aTo",format:s.attributes[0].format}],defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"],disableWarnings:!0})}class Tz extends pR{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="spring",this.texture=Cz(e),this.framebuffer=Az(e,this.texture),this.transform=xz(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;super.start(e,r);const{buffers:s,attribute:l}=this;for(let f=0;f<2;f++)s[f]=hR({device:this.device,buffer:s[f],attribute:l,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter});s[2]=dR({device:this.device,source:s[0],target:s[2]}),this.setBuffer(s[1]);const{model:c}=this.transform;c.setVertexCount(Math.floor(this.currentLength/l.size)),l.isConstant?c.setConstantAttributes({aTo:l.value}):c.setAttributes({aTo:l.getBuffer()})}onUpdate(){const{buffers:e,transform:r,framebuffer:n,transition:i}=this,s=this.settings;r.model.setAttributes({aPrev:e[0],aCur:e[1]}),r.transformFeedback.setBuffers({vNext:e[2]}),r.model.setUniforms({stiffness:s.stiffness,damping:s.damping}),r.run({framebuffer:n,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),fR(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(n)[0]>0||i.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const Ez=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

uniform float stiffness;
uniform float damping;
in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE spring = delta * stiffness;
  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;
  return spring + damper + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,Rz=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function xz(t,e){const r=cR(e.size),n=uR(e.size);return new Dc(t,{vs:Ez,fs:Rz,bufferLayout:[{name:"aPrev",format:n},{name:"aCur",format:n},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],defines:{ATTRIBUTE_TYPE:r},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function Cz(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function Az(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const Pz={interpolation:vz,spring:Tz};class Mz{constructor(e,{id:r,timeline:n}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=r,this.device=e,this.timeline=n,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:r,numInstances:n}){this.numInstances=n||1;for(const i in e){const s=e[i],l=s.getTransitionSetting(r);l&&this._updateAttribute(i,s,l)}for(const i in this.transitions){const s=e[i];(!s||!s.getTransitionSetting(r))&&this._removeTransition(i)}}hasAttribute(e){const r=this.transitions[e];return r&&r.inProgress}getAttributes(){const e={};for(const r in this.transitions){const n=this.transitions[r];n.inProgress&&(e[r]=n.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const r in this.transitions)this.transitions[r].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,r,n){const i=this.transitions[e];let s=!i||i.type!==n.type;if(s){i&&this._removeTransition(e);const l=Pz[n.type];l?this.transitions[e]=new l({attribute:r,timeline:this.timeline,device:this.device}):(Cr.error(`unsupported transition type '${n.type}'`)(),s=!1)}(s||r.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const Y1="attributeManager.invalidate",kz="attributeManager.updateStart",Iz="attributeManager.updateEnd",Nz="attribute.updateStart",Oz="attribute.allocate",Fz="attribute.updateEnd";class Dz{constructor(e,{id:r="attribute-manager",stats:n,timeline:i}={}){this.mergeBoundsMemoized=Qc(w5),this.id=r,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new Mz(e,{id:`${r}-transitions`,timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const r=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,r&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const r of e)this.attributes[r]!==void 0&&(this.attributes[r].delete(),delete this.attributes[r])}invalidate(e,r){const n=this._invalidateTrigger(e,r);Dn(Y1,this,e,n)}invalidateAll(e){for(const r in this.attributes)this.attributes[r].setNeedsUpdate(r,e);Dn(Y1,this,"all")}update({data:e,numInstances:r,startIndices:n=null,transitions:i,props:s={},buffers:l={},context:c={}}){let f=!1;Dn(kz,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const h in this.attributes){const y=this.attributes[h],b=y.settings.accessor;y.startIndices=n,y.numInstances=r,s[h]&&Cr.removed(`props.${h}`,`data.attributes.${h}`)(),y.setExternalBuffer(l[h])||y.setBinaryValue(typeof b=="string"?l[b]:void 0,e.startIndices)||typeof b=="string"&&!l[b]&&y.setConstantValue(s[b])||y.needsUpdate()&&(f=!0,this._updateAttribute({attribute:y,numInstances:r,data:e,props:s,context:c})),this.needsRedraw=this.needsRedraw||y.needsRedraw()}f&&Dn(Iz,this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,r=e.run();return this.needsRedraw=this.needsRedraw||r,r}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const r=e.map(n=>{var i;return(i=this.attributes[n])==null?void 0:i.getBounds()});return this.mergeBoundsMemoized(r)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:r,attributeTransitionManager:n}=this,i={...n.getAttributes()};for(const s in r){const l=r[s];l.needsRedraw(e)&&!n.hasAttribute(s)&&(i[s]=l)}return i}getBufferLayouts(e){return Object.values(this.getAttributes()).map(r=>r.getBufferLayout(e))}_add(e,r){for(const n in e){const i=e[n],s={...i,id:n,size:i.isIndexed&&1||i.size||1,...r};this.attributes[n]=new lR(this.device,s)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const r in this.attributes)this.attributes[r].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(r)});this.updateTriggers=e}_invalidateTrigger(e,r){const{attributes:n,updateTriggers:i}=this,s=i[e];return s&&s.forEach(l=>{const c=n[l];c&&c.setNeedsUpdate(c.id,r)}),s}_updateAttribute(e){const{attribute:r,numInstances:n}=e;if(Dn(Nz,r),r.constant){r.setConstantValue(r.value);return}r.allocate(n)&&Dn(Oz,r,n),r.updateBuffer(e)&&(this.needsRedraw=!0,Dn(Fz,r,n))}}class Bz extends sh{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:r,toValue:n,duration:i,easing:s}}=this,l=s(e/i);this._value=od(r,n,l)}}const K1=1e-5;function q1(t,e,r,n,i){const s=e-t,c=(r-e)*i,f=-s*n;return c+f+s+e}function Uz(t,e,r,n,i){if(Array.isArray(r)){const s=[];for(let l=0;l<r.length;l++)s[l]=q1(t[l],e[l],r[l],n,i);return s}return q1(t,e,r,n,i)}function Z1(t,e){if(Array.isArray(t)){let r=0;for(let n=0;n<t.length;n++){const i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}return Math.abs(t-e)}class Lz extends sh{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:r,damping:n,stiffness:i}=this.settings,{_prevValue:s=e,_currValue:l=e}=this;let c=Uz(s,l,r,n,i);const f=Z1(c,r),h=Z1(c,l);f<K1&&h<K1&&(c=r,this.end()),this._prevValue=l,this._currValue=c}}const jz={interpolation:Bz,spring:Lz};class zz{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,r,n,i){const{transitions:s}=this;if(s.has(e)){const f=s.get(e),{value:h=f.settings.fromValue}=f;r=h,this.remove(e)}if(i=aR(i),!i)return;const l=jz[i.type];if(!l){Cr.error(`unsupported transition type '${i.type}'`)();return}const c=new l(this.timeline);c.start({...i,fromValue:r,toValue:n}),s.set(e,c)}remove(e){const{transitions:r}=this;r.has(e)&&(r.get(e).cancel(),r.delete(e))}update(){const e={};for(const[r,n]of this.transitions)n.update(),e[r]=n.value,n.inProgress||this.remove(r);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function $z(t){const e=t[Bo];for(const r in e){const n=e[r],{validate:i}=n;if(i&&!i(t[r],n))throw new Error(`Invalid prop ${r}: ${t[r]}`)}}function Vz(t,e){const r=mR({newProps:t,oldProps:e,propTypes:t[Bo],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=Hz(t,e);let i=!1;return n||(i=Xz(t,e)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:Yz(t,e),transitionsChanged:Wz(t,e)}}function Wz(t,e){if(!t.transitions)return!1;const r={},n=t[Bo];let i=!1;for(const s in t.transitions){const l=n[s],c=l&&l.type;(c==="number"||c==="color"||c==="array")&&e0(t[s],e[s],l)&&(r[s]=!0,i=!0)}return i?r:!1}function mR({newProps:t,oldProps:e,ignoreProps:r={},propTypes:n={},triggerName:i="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${i} changed shallowly`;if(typeof e!="object"||e===null)return`${i} changed shallowly`;for(const s of Object.keys(t))if(!(s in r)){if(!(s in e))return`${i}.${s} added`;const l=e0(t[s],e[s],n[s]);if(l)return`${i}.${s} ${l}`}for(const s of Object.keys(e))if(!(s in r)){if(!(s in t))return`${i}.${s} dropped`;if(!Object.hasOwnProperty.call(t,s)){const l=e0(t[s],e[s],n[s]);if(l)return`${i}.${s} ${l}`}}return!1}function e0(t,e,r){let n=r&&r.equal;return n&&!n(t,e,r)||!n&&(n=t&&e&&t.equals,n&&!n.call(t,e))?"changed deeply":!n&&e!==t?"changed shallowly":null}function Hz(t,e){if(e===null)return"oldProps is null, initial diff";let r=!1;const{dataComparator:n,_dataDiff:i}=t;return n?n(t.data,e.data)||(r="Data comparator detected a change"):t.data!==e.data&&(r="A new data container was supplied"),r&&i&&(r=i(t.data,e.data)||r),r}function Xz(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&Q1(t,e,"all"))return{all:!0};const r={};let n=!1;for(const i in t.updateTriggers)i!=="all"&&Q1(t,e,i)&&(r[i]=!0,n=!0);return n?r:!1}function Yz(t,e){if(e===null)return!0;const r=e.extensions,{extensions:n}=t;if(n===r)return!1;if(!r||!n||n.length!==r.length)return!0;for(let i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function Q1(t,e,r){let n=t.updateTriggers[r];n=n??{};let i=e.updateTriggers[r];return i=i??{},mR({oldProps:i,newProps:n,triggerName:r})}const Kz="count(): argument not an object",qz="count(): argument not a container";function Zz(t){if(!Jz(t))throw new Error(Kz);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(Qz(t))return Object.keys(t).length;throw new Error(qz)}function Qz(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function Jz(t){return t!==null&&typeof t=="object"}function J1(t,e){if(!e)return t;const r={...t,...e};if("defines"in e&&(r.defines={...t.defines,...e.defines}),"modules"in e&&(r.modules=(t.modules||[]).concat(e.modules),e.modules.some(n=>n.name==="project64"))){const n=r.modules.findIndex(i=>i.name==="project32");n>=0&&r.modules.splice(n,1)}if("inject"in e)if(!t.inject)r.inject=e.inject;else{const n={...t.inject};for(const i in e.inject)n[i]=(n[i]||"")+e.inject[i];r.inject=n}return r}const Gz={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},t0={};function e$(t,e,r,n){if(r instanceof _i)return r;r.constructor&&r.constructor.name!=="Object"&&(r={data:r});let i=null;r.compressed&&(i={minFilter:"linear",mipmapFilter:r.data.length>1?"nearest":"linear"});const s=e.createTexture({...r,sampler:{...Gz,...i,...n}});return t0[s.id]=t,s}function t$(t,e){!e||!(e instanceof _i)||t0[e.id]===t&&(e.delete(),delete t0[e.id])}const r$={boolean:{validate(t,e){return!0},equal(t,e,r){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||r0(t)&&(t.length===3||t.length===4)},equal(t,e,r){return Ni(t,e,1)}},accessor:{validate(t,e){const r=pd(t);return r==="function"||r===pd(e.value)},equal(t,e,r){return typeof e=="function"?!0:Ni(t,e,1)}},array:{validate(t,e){return e.optional&&!t||r0(t)},equal(t,e,r){const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?Ni(t,e,i):t===e}},object:{equal(t,e,r){if(r.ignore)return!0;const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?Ni(t,e,i):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,r){return!r.compare&&r.ignore!==!1||t===e}},data:{transform:(t,e,r)=>{if(!t)return t;const{dataTransform:n}=r.props;return n?n(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,r)=>{const n=r.context;return!n||!n.device?null:e$(r.id,n.device,t,{...e.parameters,...r.props.textureParameters})},release:(t,e,r)=>{t$(r.id,t)}}};function n$(t){const e={},r={},n={};for(const[i,s]of Object.entries(t)){const l=s==null?void 0:s.deprecatedFor;if(l)n[i]=Array.isArray(l)?l:[l];else{const c=i$(i,s);e[i]=c,r[i]=c.value}}return{propTypes:e,defaultProps:r,deprecatedProps:n}}function i$(t,e){switch(pd(e)){case"object":return rc(t,e);case"array":return rc(t,{type:"array",value:e,compare:!1});case"boolean":return rc(t,{type:"boolean",value:e});case"number":return rc(t,{type:"number",value:e});case"function":return rc(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function rc(t,e){return"type"in e?{name:t,...r$[e.type],...e}:"value"in e?{name:t,type:pd(e.value),...e}:{name:t,type:"object",value:e}}function r0(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function pd(t){return r0(t)?"array":t===null?"null":typeof t}function s$(t,e){let r;for(let s=e.length-1;s>=0;s--){const l=e[s];"extensions"in l&&(r=l.extensions)}const n=n0(t.constructor,r),i=Object.create(n);i[dd]=t,i[Wo]={},i[qs]={};for(let s=0;s<e.length;++s){const l=e[s];for(const c in l)i[c]=l[c]}return Object.freeze(i),i}const o$="_mergedDefaultProps";function n0(t,e){if(!(t instanceof ch.constructor))return{};let r=o$;if(e)for(const i of e){const s=i.constructor;s&&(r+=`:${s.extensionName||s.name}`)}const n=_R(t,r);return n||(t[r]=a$(t,e||[]))}function a$(t,e){if(!t.prototype)return null;const n=Object.getPrototypeOf(t),i=n0(n),s=_R(t,"defaultProps")||{},l=n$(s),c=Object.assign(Object.create(null),i,l.defaultProps),f=Object.assign(Object.create(null),i==null?void 0:i[Bo],l.propTypes),h=Object.assign(Object.create(null),i==null?void 0:i[Ig],l.deprecatedProps);for(const y of e){const b=n0(y.constructor);b&&(Object.assign(c,b),Object.assign(f,b[Bo]),Object.assign(h,b[Ig]))}return l$(c,t),u$(c,f),c$(c,h),c[Bo]=f,c[Ig]=h,e.length===0&&!s_(t,"_propTypes")&&(t._propTypes=f),c}function l$(t,e){const r=d$(e);Object.defineProperties(t,{id:{writable:!0,value:r}})}function c$(t,e){for(const r in e)Object.defineProperty(t,r,{enumerable:!1,set(n){const i=`${this.id}: ${r}`;for(const s of e[r])s_(this,s)||(this[s]=n);Cr.deprecated(i,e[r].join("/"))()}})}function u$(t,e){const r={},n={};for(const i in e){const s=e[i],{name:l,value:c}=s;s.async&&(r[l]=c,n[l]=f$(l))}t[Ya]=r,t[Wo]={},Object.defineProperties(t,n)}function f$(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||oR(e)?this[Wo][t]=e:this[qs][t]=e},get(){if(this[qs]){if(t in this[qs])return this[qs][t]||this[Ya][t];if(t in this[Wo]){const e=this[dd]&&this[dd].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Ya][t]}}return this[Ya][t]}}}function s_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _R(t,e){return s_(t,e)&&t[e]}function d$(t){const e=t.componentName;return e||Cr.warn(`${t.name}.componentName not specified`)(),e||t.name}let h$=0;class ch{constructor(...e){this.props=s$(this,e),this.id=this.props.id,this.count=h$++}clone(e){const{props:r}=this,n={};for(const i in r[Ya])i in r[qs]?n[i]=r[qs][i]:i in r[Wo]&&(n[i]=r[Wo][i]);return new this.constructor({...r,...n,...e})}}ch.componentName="Component";ch.defaultProps={};const p$=Object.freeze({});class g${constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const r=this.asyncProps[e];r&&r.type&&r.type.release&&r.type.release(r.resolvedValue,r.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||p$}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const r=this.asyncProps[e];return r&&r.resolvedValue}isAsyncPropLoading(e){if(e){const r=this.asyncProps[e];return!!(r&&r.pendingLoadCount>0&&r.pendingLoadCount!==r.resolvedLoadCount)}for(const r in this.asyncProps)if(this.isAsyncPropLoading(r))return!0;return!1}reloadAsyncProp(e,r){this._watchPromise(e,Promise.resolve(r))}setAsyncProps(e){this.component=e[dd]||this.component;const r=e[qs]||{},n=e[Wo]||e,i=e[Ya]||{};for(const s in r){const l=r[s];this._createAsyncPropData(s,i[s]),this._updateAsyncProp(s,l),r[s]=this.getAsyncProp(s)}for(const s in n){const l=n[s];this._createAsyncPropData(s,i[s]),this._updateAsyncProp(s,l)}}_fetch(e,r){return null}_onResolve(e,r){}_onError(e,r){}_updateAsyncProp(e,r){if(this._didAsyncInputValueChange(e,r)){if(typeof r=="string"&&(r=this._fetch(e,r)),r instanceof Promise){this._watchPromise(e,r);return}if(oR(r)){this._resolveAsyncIterable(e,r);return}this._setPropValue(e,r)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,r){const n=this.asyncProps[e];return r===n.resolvedValue||r===n.lastValue?!1:(n.lastValue=r,!0)}_setPropValue(e,r){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(r=this._postProcessValue(n,r),n.resolvedValue=r,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,r,n){const i=this.asyncProps[e];i&&n>=i.resolvedLoadCount&&r!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=r,i.resolvedLoadCount=n,this.onAsyncPropUpdated(e,r))}_watchPromise(e,r){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const i=n.pendingLoadCount;r.then(s=>{this.component&&(s=this._postProcessValue(n,s),this._setAsyncPropValue(e,s,i),this._onResolve(e,s))}).catch(s=>{this._onError(e,s)})}}async _resolveAsyncIterable(e,r){if(e!=="data"){this._setPropValue(e,r);return}const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const i=n.pendingLoadCount;let s=[],l=0;for await(const c of r){if(!this.component)return;const{dataTransform:f}=this.component.props;f?s=f(c,s):s=s.concat(c),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:l,endRow:s.length}]}),l=s.length,this._setAsyncPropValue(e,s,i)}this._onResolve(e,s)}_postProcessValue(e,r){const n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(r,n,this.component):r}_createAsyncPropData(e,r){if(!this.asyncProps[e]){const i=this.component&&this.component.props[Bo];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:r,pendingLoadCount:0,resolvedLoadCount:0}}}}class m$ extends g${constructor({attributeManager:e,layer:r}){super(r),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,r){const n=this.layer,i=n==null?void 0:n.props.fetch;return i?i(r,{propName:e,layer:n}):super._fetch(e,r)}_onResolve(e,r){const n=this.layer;if(n){const i=n.props.onDataLoad;e==="data"&&i&&i(r,{propName:e,layer:n})}}_onError(e,r){const n=this.layer;n&&n.raiseError(r,`loading ${e} of ${this.layer}`)}}const _$="layer.changeFlag",y$="layer.initialize",v$="layer.update",w$="layer.finalize",b$="layer.matched",G1=2**24-1,S$=Object.freeze([]),T$=Qc(({oldViewport:t,viewport:e})=>t.equals(e));let Xi=new Uint8ClampedArray(0);const E$={data:{type:"data",value:S$,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:r,loaders:n,loadOptions:i,signal:s})=>{const{resourceManager:l}=r.context;i=i||r.getLoadOptions(),n=n||r.props.loaders,s&&(i={...i,fetch:{...i==null?void 0:i.fetch,signal:s}});let c=l.contains(t);return!c&&!i&&(l.add({resourceId:t,data:bm(t,n),persistent:!1}),c=!0),c?l.subscribe({resourceId:t,onChange:f=>{var h;return(h=r.internalState)==null?void 0:h.reloadAsyncProp(e,f)},consumerId:r.id,requestId:e}):bm(t,n,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:mr.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Gc extends ch{constructor(){super(...arguments),this.internalState=null,this.lifecycle=Oa.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){kn(this.internalState);const r=this.internalState.viewport||this.context.viewport,n=NE(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,s,l]=PE(n,r.pixelProjectionMatrix);return e.length===2?[i,s]:[i,s,l]}unproject(e){return kn(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,r){kn(this.internalState);const n=this.internalState.viewport||this.context.viewport;return x5(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...r})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setModuleParameters(e){for(const r of this.getModels())r.updateModuleSettings(e)}setShaderModuleProps(...e){for(const r of this.getModels())r.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===mr.DEFAULT||e===mr.LNGLAT||e===mr.CARTESIAN}onHover(e,r){return this.props.onHover&&this.props.onHover(e,r)||!1}onClick(e,r){return this.props.onClick&&this.props.onClick(e,r)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,r=[]){return r[0]=e+1&255,r[1]=e+1>>8&255,r[2]=e+1>>8>>8&255,r}decodePickingColor(e){kn(e instanceof Uint8Array);const[r,n,i]=e;return r+n*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:Zz(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=J1(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const r of this.props.extensions)e=J1(e,r.getShaders.call(this,r));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const r=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&r)if(Array.isArray(n))for(const i of n)r.invalidateAll(i);else r.invalidateAll();if(r){const{props:i}=e,s=this.internalState.hasPickingBuffer,l=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(c=>c.getNeedsPickingBuffer.call(this,c));if(s!==l){this.internalState.hasPickingBuffer=l;const{pickingColors:c,instancePickingColors:f}=r.attributes,h=c||f;h&&(l&&h.constant&&(h.constant=!1,r.invalidate(h.id)),!h.value&&!l&&(h.constant=!0,h.value=[0,0,0]))}}}finalizeState(e){for(const n of this.getModels())n.destroy();const r=this.getAttributeManager();r&&r.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const r of this.getModels())r.draw(e)}getPickingInfo({info:e,mode:r,sourceLayer:n}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,r){var n,i,s,l;r&&(e=new Error(`${r}: ${e.message}`,{cause:e})),(i=(n=this.props).onError)!=null&&i.call(n,e)||(l=(s=this.context)==null?void 0:s.onError)==null||l.call(s,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const r=this.internalState.viewport;this.internalState.viewport=e,(!r||!T$({oldViewport:r,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const r=this.getAttributeManager();r&&(e==="all"?r.invalidateAll():r.invalidate(e))}updateAttributes(e){let r=!1;for(const n in e)e[n].layoutChanged()&&(r=!0);for(const n of this.getModels())this._setModelAttributes(n,e,r)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const r=this.props,n=this.getNumInstances(),i=this.getStartIndices();e.update({data:r.data,numInstances:n,startIndices:i,props:r,transitions:r.transitions,buffers:r.data.attributes,context:this});const s=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(s)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const r=e.update(),n=Object.create(this.props);for(const i in r)Object.defineProperty(n,i,{value:r[i]});return n}return this.props}calculateInstancePickingColors(e,{numInstances:r}){if(e.constant)return;const n=Math.floor(Xi.length/4);if(this.internalState.usesPickingColorCache=!0,n<r){r>G1&&Cr.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Xi=Fc.allocate(Xi,r,{size:4,copy:!0,maxCount:Math.max(r,G1)});const i=Math.floor(Xi.length/4),s=[];for(let l=n;l<i;l++)this.encodePickingColor(l,s),Xi[l*4+0]=s[0],Xi[l*4+1]=s[1],Xi[l*4+2]=s[2]}e.value=Xi.subarray(0,r*4)}_setModelAttributes(e,r,n=!1){var c;if(!Object.keys(r).length)return;if(n){const f=this.getAttributeManager();e.setBufferLayout(f.getBufferLayouts(e)),r=f.getAttributes()}const i=((c=e.userData)==null?void 0:c.excludeAttributes)||{},s={},l={};for(const f in r){if(i[f])continue;const h=r[f].getValue();for(const y in h){const b=h[y];b instanceof Lr?r[f].settings.isIndexed?e.setIndexBuffer(b):s[y]=b:b&&(l[y]=b)}}e.setAttributes(s),e.setConstantAttributes(l)}disablePickingIndex(e){const r=this.props.data;if(!("attributes"in r)){this._disablePickingIndex(e);return}const{pickingColors:n,instancePickingColors:i}=this.getAttributeManager().attributes,s=n||i,l=s&&r.attributes&&r.attributes[s.id];if(l&&l.value){const c=l.value,f=this.encodePickingColor(e);for(let h=0;h<r.length;h++){const y=s.getVertexOffset(h);c[y]===f[0]&&c[y+1]===f[1]&&c[y+2]===f[2]&&this._disablePickingIndex(h)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:r,instancePickingColors:n}=this.getAttributeManager().attributes,i=r||n;if(!i)return;const s=i.getVertexOffset(e),l=i.getVertexOffset(e+1);i.buffer.write(new Uint8Array(l-s),s)}restorePickingColors(){const{pickingColors:e,instancePickingColors:r}=this.getAttributeManager().attributes,n=e||r;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==Xi.buffer&&(n.value=Xi.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){kn(!this.internalState),kn(Number.isFinite(this.props.coordinateSystem)),Dn(y$,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new m$({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Cr.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new zz(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const r of this.props.extensions)r.initializeState.call(this,this.context,r);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Dn(b$,this,this===e);const{state:r,internalState:n}=e;this!==e&&(this.internalState=n,this.state=r,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Dn(v$,this,e),!e)return;const r=this.props,n=this.context,i=this.internalState,s=n.viewport,l=this._updateUniformTransition();i.propsInTransition=l,n.viewport=i.viewport||s,this.props=l;try{const c=this._getUpdateParams(),f=this.getModels();if(n.device)this.updateState(c);else try{this.updateState(c)}catch{}for(const y of this.props.extensions)y.updateState.call(this,c,y);const h=this.getModels()[0]!==f[0];this._postUpdate(c,h)}finally{n.viewport=s,this.props=r,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){Dn(w$,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,moduleParameters:r=null,uniforms:n={},parameters:i={}}){this._updateAttributeTransition();const s=this.props,l=this.context;this.props=this.internalState.propsInTransition||s;const c=this.props.opacity;n.opacity=Math.pow(c,1/2.2);try{if(r){const{isActive:y,isAttribute:b}=r.picking;this.setModuleParameters(r),this.setShaderModuleProps({picking:{isActive:y,isAttribute:b}})}const{getPolygonOffset:f}=this.props,h=f&&f(n)||[0,0];l.device.setParametersWebGL({polygonOffset:h});for(const y of this.getModels())y.setParameters(i);l.device.withParametersWebGL(i,()=>{const y={renderPass:e,moduleParameters:r,uniforms:n,parameters:i,context:l};for(const b of this.props.extensions)b.draw.call(this,y,b);this.draw(y)})}finally{this.props=s}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:r}=this.internalState;for(const i in e)if(e[i]){let s=!1;switch(i){case"dataChanged":const l=e[i],c=r[i];l&&Array.isArray(c)&&(r.dataChanged=Array.isArray(l)?c.concat(l):l,s=!0);default:r[i]||(r[i]=e[i],s=!0)}s&&Dn(_$,this,i,e)}const n=!!(r.dataChanged||r.updateTriggersChanged||r.propsChanged||r.extensionsChanged);r.propsOrDataChanged=n,r.somethingChanged=n||r.viewportChanged||r.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,r){var i;const n=Vz(e,r);if(n.updateTriggersChanged)for(const s in n.updateTriggersChanged)n.updateTriggersChanged[s]&&this.invalidateAttribute(s);if(n.transitionsChanged)for(const s in n.transitionsChanged)this.internalState.uniformTransitions.add(s,r[s],e[s],(i=e.transitions)==null?void 0:i[s]);return this.setChangeFlags(n)}validateProps(){$z(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const r={highlightedObjectColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&typeof n=="function"&&(r.highlightColor=n(e)),this.setShaderModuleProps({picking:r}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new Dz(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,r){const{props:n,oldProps:i}=e;this.setNeedsRedraw(),this._updateAttributes();const s=this.state.model;s!=null&&s.isInstanced&&s.setInstanceCount(this.getNumInstances());const{autoHighlight:l,highlightedObjectIndex:c,highlightColor:f}=n;if(r||i.autoHighlight!==l||i.highlightedObjectIndex!==c||i.highlightColor!==f){const h={};Array.isArray(f)&&(h.highlightColor=f),(r||i.autoHighlight!==l||c!==i.highlightedObjectIndex)&&(h.highlightedObjectColor=Number.isFinite(c)&&c>=0?this.encodePickingColor(c):null),this.setShaderModuleProps({picking:h})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let r=!1;r=r||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),i=n?n.getNeedsRedraw(e):!1;if(r=r||i,r)for(const s of this.props.extensions)s.onNeedsRedraw.call(this,s);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,r}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}Gc.defaultProps=E$;Gc.layerName="Layer";const Hg=Math.PI/180;function R$({height:t,focalDistance:e,orbitAxis:r,rotationX:n,rotationOrbit:i,zoom:s}){const l=r==="Z"?[0,0,1]:[0,1,0],c=r==="Z"?[0,-e,0]:[0,0,e],f=new Oi().lookAt({eye:c,up:l});f.rotateX(n*Hg),r==="Z"?f.rotateZ(i*Hg):f.rotateY(i*Hg);const h=Math.pow(2,s)/t;return f.scale(h),f}class x$ extends ll{constructor(e){const{height:r,projectionMatrix:n,fovy:i=50,orbitAxis:s="Z",target:l=[0,0,0],rotationX:c=0,rotationOrbit:f=0,zoom:h=0}=e,y=n?n[5]/2:Z0(i);super({...e,longitude:void 0,viewMatrix:R$({height:r||1,focalDistance:y,orbitAxis:s,rotationX:c,rotationOrbit:f,zoom:h}),fovy:i,focalDistance:y,position:l,zoom:h}),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:r=!0}={}){const[n,i,s=this.projectedCenter[2]]=e,l=r?i:this.height-i,[c,f,h]=ih([n,l,s],this.pixelUnprojectionMatrix);return[c,f,h]}panByPosition(e,r){const n=this.project(e),i=[this.width/2+n[0]-r[0],this.height/2+n[1]-r[1],this.projectedCenter[2]];return{target:this.unproject(i)}}}class C$ extends jE{constructor(e){const{width:r,height:n,rotationX:i=0,rotationOrbit:s=0,target:l=[0,0,0],zoom:c=0,minRotationX:f=-90,maxRotationX:h=90,minZoom:y=-1/0,maxZoom:b=1/0,startPanPosition:w,startRotatePos:x,startRotationX:A,startRotationOrbit:E,startZoomPosition:k,startZoom:O}=e;super({width:r,height:n,rotationX:i,rotationOrbit:s,target:l,zoom:c,minRotationX:f,maxRotationX:h,minZoom:y,maxZoom:b},{startPanPosition:w,startRotatePos:x,startRotationX:A,startRotationOrbit:E,startZoomPosition:k,startZoom:O}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:r}){const n=this.getState().startPanPosition||r;if(!n)return this;const s=this.makeViewport(this.getViewportProps()).panByPosition(n,e);return this._getUpdatedState(s)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:r=0,deltaAngleY:n=0}){const{startRotatePos:i,startRotationX:s,startRotationOrbit:l}=this.getState(),{width:c,height:f}=this.getViewportProps();if(!i||s===void 0||l===void 0)return this;let h;if(e){let y=(e[0]-i[0])/c;const b=(e[1]-i[1])/f;(s<-90||s>90)&&(y*=-1),h={rotationX:s+b*180,rotationOrbit:l+y*180}}else h={rotationX:s+n,rotationOrbit:l+r};return this._getUpdatedState(h)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const r=e.getViewportProps(),n={...this.getViewportProps()},{rotationOrbit:i}=n;return Math.abs(i-r.rotationOrbit)>180&&(n.rotationOrbit=i<0?i+360:i-360),n}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:r,scale:n}){let{startZoom:i,startZoomPosition:s}=this.getState();if(s||(i=this.getViewportProps().zoom,s=this._unproject(r)||this._unproject(e)),!s)return this;const l=this._calculateNewZoom({scale:n,startZoom:i}),c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(s,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const r=this.makeViewport(this.getViewportProps());return e&&r.unproject(e)}_calculateNewZoom({scale:e,startZoom:r}){const{maxZoom:n,minZoom:i}=this.getViewportProps();r===void 0&&(r=this.getViewportProps().zoom);const s=r+Math.log2(e);return ri(s,i,n)}_panFromCenter(e){const{width:r,height:n,target:i}=this.getViewportProps();return this.pan({startPosition:i,pos:[r/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:r,minZoom:n,zoom:i,maxRotationX:s,minRotationX:l,rotationOrbit:c}=e;return e.zoom=Array.isArray(i)?[ri(i[0],n,r),ri(i[1],n,r)]:ri(i,n,r),e.rotationX=ri(e.rotationX,l,s),(c<-180||c>180)&&(e.rotationOrbit=m5(c+180,360)-180),e}}class A$ extends LE{constructor(){super(...arguments),this.ControllerState=C$,this.transition={transitionDuration:300,transitionInterpolator:new J0({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})}}}class yR extends Ho{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return x$}get ControllerType(){return A$}}yR.displayName="OrbitView";const P$=typeof window<"u"?B.useLayoutEffect:B.useEffect;function gd(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const M$={position:"absolute",zIndex:-1};function vR(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(r=>vR(r,e));if(uh(t)){if(k$(t))return e.style=M$,B.cloneElement(t,e);if(I$(t))return B.cloneElement(t,e)}return t}function uh(t){return t&&typeof t=="object"&&"type"in t||!1}function k$(t){var e;return(e=t.props)==null?void 0:e.mapStyle}function I$(t){const e=t.type;return e&&e.deckGLViewProps}function i0(t){if(typeof t=="function")return B.createElement(Ho,{},t);if(Array.isArray(t))return t.map(i0);if(uh(t)){if(t.type===B.Fragment)return i0(t.props.children);if(gd(t.type,Ho))return t}return t}function N$({children:t,layers:e=[],views:r=null}){const n=[],i=[],s={};return B.Children.forEach(i0(t),l=>{if(uh(l)){const c=l.type;if(gd(c,Gc)){const f=O$(c,l.props);i.push(f)}else n.push(l);if(gd(c,Ho)&&c!==Ho&&l.props.id){const f=new c(l.props);s[f.id]=f}}else l&&n.push(l)}),Object.keys(s).length>0&&(Array.isArray(r)?r.forEach(l=>{s[l.id]=l}):r&&(s[r.id]=r),r=Object.values(s)),e=i.length>0?[...i,...e]:e,{layers:e,children:n,views:r}}function O$(t,e){const r={},n=t.defaultProps||{};for(const i in e)n[i]!==e[i]&&(r[i]=e[i]);return new t(r)}function F$({children:t,deck:e,ContextProvider:r}){const{viewManager:n}=e||{};if(!n||!n.views.length)return[];const i={},s=n.views[0].id;for(const l of t){let c=s,f=l;uh(l)&&gd(l.type,Ho)&&(c=l.props.id||s,f=l.props.children);const h=n.getViewport(c),y=n.getViewState(c);if(h){y.padding=h.padding;const{x:b,y:w,width:x,height:A}=h;f=vR(f,{x:b,y:w,width:x,height:A,viewport:h,viewState:y}),i[c]||(i[c]={viewport:h,children:[]}),i[c].children.push(f)}}return Object.keys(i).map(l=>{const{viewport:c,children:f}=i[l],{x:h,y,width:b,height:w}=c,x={position:"absolute",left:h,top:y,width:b,height:w},A=`view-${l}`,E=B.createElement("div",{key:A,id:A,style:x},...f);if(r){const k={viewport:c,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:O=>{O.viewId=l,e._onViewStateChange(O)}};return B.createElement(r,{key:A,value:k},E)}return E})}const D$={mixBlendMode:null};function B$({width:t,height:e,style:r}){const n={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},i={left:0,top:0};if(r)for(const s in r)s in D$?i[s]=r[s]:n[s]=r[s];return{containerStyle:n,canvasStyle:i}}function U$(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function wR(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function L$(t,e,r){const n=new e({...r,_customRender:i=>{t.redrawReason=i;const s=n.getViewports();t.lastRenderedViewports!==s?t.forceUpdate():wR(t)}});return n}function j$(t,e){const[r,n]=B.useState(0),s=B.useRef({control:null,version:r,forceUpdate:()=>n(P=>P+1)}).current,l=B.useRef(null),c=B.useRef(null),f=B.useMemo(()=>N$(t),[t.layers,t.views,t.children]);let h=!0;const y=P=>{var I;return h&&t.viewState?(s.viewStateUpdateRequested=P,null):(s.viewStateUpdateRequested=null,(I=t.onViewStateChange)==null?void 0:I.call(t,P))},b=P=>{var I;h?s.interactionStateUpdateRequested=P:(s.interactionStateUpdateRequested=null,(I=t.onInteractionStateChange)==null||I.call(t,P))},w=B.useMemo(()=>{const P={...t,style:null,width:"100%",height:"100%",parent:l.current,canvas:c.current,layers:f.layers,views:f.views,onViewStateChange:y,onInteractionStateChange:b};return delete P._customRender,s.deck&&s.deck.setProps(P),P},[t]);B.useEffect(()=>{const P=t.Deck||i_;return s.deck=L$(s,P,{...w,parent:l.current,canvas:c.current}),()=>{var I;return(I=s.deck)==null?void 0:I.finalize()}},[]),P$(()=>{wR(s);const{viewStateUpdateRequested:P,interactionStateUpdateRequested:I}=s;P&&y(P),I&&b(I)}),B.useImperativeHandle(e,()=>U$(s),[]);const x=s.deck&&s.deck.isInitialized?s.deck.getViewports():void 0,{ContextProvider:A,width:E="100%",height:k="100%",id:O,style:N}=t,{containerStyle:M,canvasStyle:R}=B.useMemo(()=>B$({width:E,height:k,style:N}),[E,k,N]);if(!s.viewStateUpdateRequested&&s.lastRenderedViewports===x||s.version!==r){s.lastRenderedViewports=x,s.version=r;const P=F$({children:f.children,deck:s.deck,ContextProvider:A}),I=B.createElement("canvas",{key:"canvas",id:O||"deckgl-overlay",ref:c,style:R});s.control=B.createElement("div",{id:`${O||"deckgl"}-wrapper`,ref:l,style:M},[I,P])}return h=!1,s.control}const z$=B.forwardRef(j$),$$=`#version 300 es
#define SHADER_NAME line-layer-vertex-shader
in vec3 positions;
in vec3 instanceSourcePositions;
in vec3 instanceTargetPositions;
in vec3 instanceSourcePositions64Low;
in vec3 instanceTargetPositions64Low;
in vec4 instanceColors;
in vec3 instancePickingColors;
in float instanceWidths;
uniform float opacity;
uniform float widthScale;
uniform float widthMinPixels;
uniform float widthMaxPixels;
uniform float useShortestPath;
uniform int widthUnits;
out vec4 vColor;
out vec2 uv;
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);
dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
return dir_screenspace * offset_direction * width / 2.0;
}
vec3 splitLine(vec3 a, vec3 b, float x) {
float t = (x - a.x) / (b.x - a.x);
return vec3(x, mix(a.yz, b.yz, t));
}
void main(void) {
geometry.worldPosition = instanceSourcePositions;
geometry.worldPositionAlt = instanceTargetPositions;
vec3 source_world = instanceSourcePositions;
vec3 target_world = instanceTargetPositions;
vec3 source_world_64low = instanceSourcePositions64Low;
vec3 target_world_64low = instanceTargetPositions64Low;
if (useShortestPath > 0.5 || useShortestPath < -0.5) {
source_world.x = mod(source_world.x + 180., 360.0) - 180.;
target_world.x = mod(target_world.x + 180., 360.0) - 180.;
float deltaLng = target_world.x - source_world.x;
if (deltaLng * useShortestPath > 180.) {
source_world.x += 360. * useShortestPath;
source_world = splitLine(source_world, target_world, 180. * useShortestPath);
source_world_64low = vec3(0.0);
} else if (deltaLng * useShortestPath < -180.) {
target_world.x += 360. * useShortestPath;
target_world = splitLine(source_world, target_world, 180. * useShortestPath);
target_world_64low = vec3(0.0);
} else if (useShortestPath < 0.) {
gl_Position = vec4(0.);
return;
}
}
vec4 source_commonspace;
vec4 target_commonspace;
vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);
vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);
float segmentIndex = positions.x;
vec4 p = mix(source, target, segmentIndex);
geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);
uv = positions.xy;
geometry.uv = uv;
geometry.pickingColor = instancePickingColors;
float widthPixels = clamp(
project_size_to_pixel(instanceWidths * widthScale, widthUnits),
widthMinPixels, widthMaxPixels
);
vec3 offset = vec3(
getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),
0.0);
DECKGL_FILTER_SIZE(offset, geometry);
DECKGL_FILTER_GL_POSITION(p, geometry);
gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,V$=`#version 300 es
#define SHADER_NAME line-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,W$=[0,0,0,255],H$={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getColor:{type:"accessor",value:W$},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class o_ extends Gc{getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["instanceSourcePositions","instanceTargetPositions"])}getShaders(){return super.getShaders({vs:$$,fs:V$,modules:[xE,ME]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(e){var r;super.updateState(e),e.changeFlags.extensionsChanged&&((r=this.state.model)==null||r.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{widthUnits:r,widthScale:n,widthMinPixels:i,widthMaxPixels:s,wrapLongitude:l}=this.props,c=this.state.model;c.setUniforms(e),c.setUniforms({widthUnits:ld[r],widthScale:n,widthMinPixels:i,widthMaxPixels:s,useShortestPath:l?1:0}),c.draw(this.context.renderPass),l&&(c.setUniforms({useShortestPath:-1}),c.draw(this.context.renderPass))}_getModel(){const e=[0,-1,0,0,1,0,1,-1,0,1,1,0];return new il(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new FE({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(e)}}}),isInstanced:!0})}}o_.layerName="LineLayer";o_.defaultProps=H$;const X$=`#version 300 es
#define SHADER_NAME point-cloud-layer-vertex-shader
in vec3 positions;
in vec3 instanceNormals;
in vec4 instanceColors;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec3 instancePickingColors;
uniform float opacity;
uniform float radiusPixels;
uniform int sizeUnits;
out vec4 vColor;
out vec2 unitPosition;
void main(void) {
geometry.worldPosition = instancePositions;
geometry.normal = project_normal(instanceNormals);
unitPosition = positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
vec3 offset = vec3(positions.xy * project_size_to_pixel(radiusPixels, sizeUnits), 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
vec3 lightColor = lighting_getLightColor(instanceColors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, instanceColors.a * opacity);
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,Y$=`#version 300 es
#define SHADER_NAME point-cloud-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 unitPosition;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition);
if (distToCenter > 1.0) {
discard;
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,bR=[0,0,0,255],SR=[0,0,1],K$={sizeUnits:"pixels",pointSize:{type:"number",min:0,value:10},getPosition:{type:"accessor",value:t=>t.position},getNormal:{type:"accessor",value:SR},getColor:{type:"accessor",value:bR},material:!0,radiusPixels:{deprecatedFor:"pointSize"}};function q$(t){const{header:e,attributes:r}=t;if(!(!e||!r)&&(t.length=e.vertexCount,r.POSITION&&(r.instancePositions=r.POSITION),r.NORMAL&&(r.instanceNormals=r.NORMAL),r.COLOR_0)){const{size:n,value:i}=r.COLOR_0;r.instanceColors={size:n,type:"unorm8",value:i}}}class a_ extends Gc{getShaders(){return super.getShaders({vs:X$,fs:Y$,modules:[xE,pU,ME]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:SR},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:bR}})}updateState(e){var i;const{changeFlags:r,props:n}=e;super.updateState(e),r.extensionsChanged&&((i=this.state.model)==null||i.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll()),r.dataChanged&&q$(n.data)}draw({uniforms:e}){const{pointSize:r,sizeUnits:n}=this.props,i=this.state.model;i.setUniforms(e),i.setUniforms({sizeUnits:ld[n],radiusPixels:r}),i.draw(this.context.renderPass)}_getModel(){const e=[];for(let r=0;r<3;r++){const n=r/3*Math.PI*2;e.push(Math.cos(n)*2,Math.sin(n)*2,0)}return new il(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new FE({topology:"triangle-list",attributes:{positions:new Float32Array(e)}}),isInstanced:!0})}}a_.layerName="PointCloudLayer";a_.defaultProps=K$;var Xg={},Ir={},en={},rr={},eS;function eu(){if(eS)return rr;eS=1;var t=rr.__values||function(k){var O=typeof Symbol=="function"&&Symbol.iterator,N=O&&k[O],M=0;if(N)return N.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&M>=k.length&&(k=void 0),{value:k&&k[M++],done:!k}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(rr,"__esModule",{value:!0}),rr.reshape2d=rr.rejectionSample=rr.max2d=rr.max=rr.mean=rr.sum=rr.linear=rr.ones=rr.zeros=rr.filled=rr.range=rr.empty=rr.norm=rr.tauRand=rr.tauRandInt=void 0;function e(k,O){return Math.floor(O()*k)}rr.tauRandInt=e;function r(k){return k()}rr.tauRand=r;function n(k){var O,N,M=0;try{for(var R=t(k),P=R.next();!P.done;P=R.next()){var I=P.value;M+=Math.pow(I,2)}}catch(j){O={error:j}}finally{try{P&&!P.done&&(N=R.return)&&N.call(R)}finally{if(O)throw O.error}}return Math.sqrt(M)}rr.norm=n;function i(k){for(var O=[],N=0;N<k;N++)O.push(void 0);return O}rr.empty=i;function s(k){return i(k).map(function(O,N){return N})}rr.range=s;function l(k,O){return i(k).map(function(){return O})}rr.filled=l;function c(k){return l(k,0)}rr.zeros=c;function f(k){return l(k,1)}rr.ones=f;function h(k,O,N){return i(N).map(function(M,R){return k+R*((O-k)/(N-1))})}rr.linear=h;function y(k){return k.reduce(function(O,N){return O+N})}rr.sum=y;function b(k){return y(k)/k.length}rr.mean=b;function w(k){for(var O=0,N=0;N<k.length;N++)O=k[N]>O?k[N]:O;return O}rr.max=w;function x(k){for(var O=0,N=0;N<k.length;N++)for(var M=0;M<k[N].length;M++)O=k[N][M]>O?k[N][M]:O;return O}rr.max2d=x;function A(k,O,N){for(var M=c(k),R=0;R<k;R++)for(var P=!0;P;){for(var I=e(O,N),j=!1,te=0;te<R;te++)if(I===M[te]){j=!0;break}j||(P=!1),M[R]=I}return M}rr.rejectionSample=A;function E(k,O,N){var M=[],R=0;if(k.length!==O*N)throw new Error("Array dimensions must match input length.");for(var P=0;P<O;P++){for(var I=[],j=0;j<N;j++)I.push(k[R]),R+=1;M.push(I)}return M}return rr.reshape2d=E,rr}var tS;function TR(){if(tS)return en;tS=1;var t=en.__createBinding||(Object.create?function(w,x,A,E){E===void 0&&(E=A),Object.defineProperty(w,E,{enumerable:!0,get:function(){return x[A]}})}:function(w,x,A,E){E===void 0&&(E=A),w[E]=x[A]}),e=en.__setModuleDefault||(Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x}),r=en.__importStar||function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var A in w)A!=="default"&&Object.hasOwnProperty.call(w,A)&&t(x,w,A);return e(x,w),x};Object.defineProperty(en,"__esModule",{value:!0}),en.smallestFlagged=en.deheapSort=en.buildCandidates=en.uncheckedHeapPush=en.heapPush=en.rejectionSample=en.makeHeap=void 0;var n=r(eu());function i(w,x){var A=function(k){return n.empty(w).map(function(){return n.filled(x,k)})},E=[];return E.push(A(-1)),E.push(A(1/0)),E.push(A(0)),E}en.makeHeap=i;function s(w,x,A){for(var E=n.zeros(w),k=0;k<w;k++){for(var O=!0,N=0;O;){N=n.tauRandInt(x,A);for(var M=!1,R=0;R<k;R++)if(N===E[R]){M=!0;break}M||(O=!1)}E[k]=N}return E}en.rejectionSample=s;function l(w,x,A,E,k){x=Math.floor(x);var O=w[0][x],N=w[1][x];if(w[2][x],A>=N[0])return 0;for(var M=0;M<O.length;M++)if(E===O[M])return 0;return c(w,x,A,E,k)}en.heapPush=l;function c(w,x,A,E,k){var O=w[0][x],N=w[1][x],M=w[2][x];if(A>=N[0])return 0;N[0]=A,O[0]=E,M[0]=k;for(var R=0,P=0;;){var I=2*R+1,j=I+1,te=w[0][0].length;if(I>=te)break;if(j>=te)if(N[I]>A)P=I;else break;else if(N[I]>=N[j])if(A<N[I])P=I;else break;else if(A<N[j])P=j;else break;N[R]=N[P],O[R]=O[P],M[R]=M[P],R=P}return N[R]=A,O[R]=E,M[R]=k,1}en.uncheckedHeapPush=c;function f(w,x,A,E,k){for(var O=i(x,E),N=0;N<x;N++)for(var M=0;M<A;M++)if(!(w[0][N][M]<0)){var R=w[0][N][M],P=w[2][N][M],I=n.tauRand(k);l(O,N,I,R,P),l(O,R,I,N,P),w[2][N][M]=0}return O}en.buildCandidates=f;function h(w){for(var x=w[0],A=w[1],E=0;E<x.length;E++)for(var k=x[E],O=A[E],N=0;N<k.length-1;N++){var M=k.length-N-1,R=O.length-N-1,P=k[0];k[0]=k[M],k[M]=P;var I=O[0];O[0]=O[R],O[R]=I,y(O,k,R,0)}return{indices:x,weights:A}}en.deheapSort=h;function y(w,x,A,E){for(;E*2+1<A;){var k=E*2+1,O=k+1,N=E;if(w[N]<w[k]&&(N=k),O<A&&w[N]<w[O]&&(N=O),N===E)break;var M=w[E];w[E]=w[N],w[N]=M;var R=x[E];x[E]=x[N],x[N]=R,E=N}}function b(w,x){for(var A=w[0][x],E=w[1][x],k=w[2][x],O=1/0,N=-1,M=0;M>A.length;M++)k[M]===1&&E[M]<O&&(O=E[M],N=M);return N>=0?(k[N]=0,Math.floor(A[N])):-1}return en.smallestFlagged=b,en}var hr={},rS;function ER(){if(rS)return hr;rS=1;var t=hr.__createBinding||(Object.create?function(R,P,I,j){j===void 0&&(j=I),Object.defineProperty(R,j,{enumerable:!0,get:function(){return P[I]}})}:function(R,P,I,j){j===void 0&&(j=I),R[j]=P[I]}),e=hr.__setModuleDefault||(Object.create?function(R,P){Object.defineProperty(R,"default",{enumerable:!0,value:P})}:function(R,P){R.default=P}),r=hr.__importStar||function(R){if(R&&R.__esModule)return R;var P={};if(R!=null)for(var I in R)I!=="default"&&Object.hasOwnProperty.call(R,I)&&t(P,R,I);return e(P,R),P},n=hr.__read||function(R,P){var I=typeof Symbol=="function"&&R[Symbol.iterator];if(!I)return R;var j=I.call(R),te,oe=[],C;try{for(;(P===void 0||P-- >0)&&!(te=j.next()).done;)oe.push(te.value)}catch(F){C={error:F}}finally{try{te&&!te.done&&(I=j.return)&&I.call(j)}finally{if(C)throw C.error}}return oe},i=hr.__values||function(R){var P=typeof Symbol=="function"&&Symbol.iterator,I=P&&R[P],j=0;if(I)return I.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&j>=R.length&&(R=void 0),{value:R&&R[j++],done:!R}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")},s;Object.defineProperty(hr,"__esModule",{value:!0}),hr.getCSR=hr.normalize=hr.eliminateZeros=hr.multiplyScalar=hr.maximum=hr.subtract=hr.add=hr.pairwiseMultiply=hr.identity=hr.transpose=hr.SparseMatrix=void 0;var l=r(eu()),c=function(){function R(P,I,j,te){if(this.entries=new Map,this.nRows=0,this.nCols=0,P.length!==I.length||P.length!==j.length)throw new Error("rows, cols and values arrays must all have the same length");this.nRows=te[0],this.nCols=te[1];for(var oe=0;oe<j.length;oe++){var C=P[oe],F=I[oe];this.checkDims(C,F);var K=this.makeKey(C,F);this.entries.set(K,{value:j[oe],row:C,col:F})}}return R.prototype.makeKey=function(P,I){return P+":"+I},R.prototype.checkDims=function(P,I){var j=P<this.nRows&&I<this.nCols;if(!j)throw new Error("row and/or col specified outside of matrix dimensions")},R.prototype.set=function(P,I,j){this.checkDims(P,I);var te=this.makeKey(P,I);this.entries.has(te)?this.entries.get(te).value=j:this.entries.set(te,{value:j,row:P,col:I})},R.prototype.get=function(P,I,j){j===void 0&&(j=0),this.checkDims(P,I);var te=this.makeKey(P,I);return this.entries.has(te)?this.entries.get(te).value:j},R.prototype.getAll=function(P){P===void 0&&(P=!0);var I=[];return this.entries.forEach(function(j){I.push(j)}),P&&I.sort(function(j,te){return j.row===te.row?j.col-te.col:j.row-te.row}),I},R.prototype.getDims=function(){return[this.nRows,this.nCols]},R.prototype.getRows=function(){return Array.from(this.entries,function(P){var I=n(P,2);I[0];var j=I[1];return j.row})},R.prototype.getCols=function(){return Array.from(this.entries,function(P){var I=n(P,2);I[0];var j=I[1];return j.col})},R.prototype.getValues=function(){return Array.from(this.entries,function(P){var I=n(P,2);I[0];var j=I[1];return j.value})},R.prototype.forEach=function(P){this.entries.forEach(function(I){return P(I.value,I.row,I.col)})},R.prototype.map=function(P){var I=[];this.entries.forEach(function(te){I.push(P(te.value,te.row,te.col))});var j=[this.nRows,this.nCols];return new R(this.getRows(),this.getCols(),I,j)},R.prototype.toArray=function(){var P=this,I=l.empty(this.nRows),j=I.map(function(){return l.zeros(P.nCols)});return this.entries.forEach(function(te){j[te.row][te.col]=te.value}),j},R}();hr.SparseMatrix=c;function f(R){var P=[],I=[],j=[];R.forEach(function(oe,C,F){P.push(C),I.push(F),j.push(oe)});var te=[R.nCols,R.nRows];return new c(I,P,j,te)}hr.transpose=f;function h(R){for(var P=n(R,1),I=P[0],j=new c([],[],[],R),te=0;te<I;te++)j.set(te,te,1);return j}hr.identity=h;function y(R,P){return N(R,P,function(I,j){return I*j})}hr.pairwiseMultiply=y;function b(R,P){return N(R,P,function(I,j){return I+j})}hr.add=b;function w(R,P){return N(R,P,function(I,j){return I-j})}hr.subtract=w;function x(R,P){return N(R,P,function(I,j){return I>j?I:j})}hr.maximum=x;function A(R,P){return R.map(function(I){return I*P})}hr.multiplyScalar=A;function E(R){for(var P=new Set,I=R.getValues(),j=R.getRows(),te=R.getCols(),oe=0;oe<I.length;oe++)I[oe]===0&&P.add(oe);var C=function(Q,J){return!P.has(J)},F=I.filter(C),K=j.filter(C),V=te.filter(C);return new c(K,V,F,R.getDims())}hr.eliminateZeros=E;function k(R,P){var I,j;P===void 0&&(P="l2");var te=O[P],oe=new Map;R.forEach(function(J,ie,ve){var se=oe.get(ie)||[];se.push(ve),oe.set(ie,se)});var C=new c([],[],[],R.getDims()),F=function(J){for(var ie=oe.get(J).sort(),ve=ie.map(function(ye){return R.get(J,ye)}),se=te(ve),re=0;re<se.length;re++)C.set(J,ie[re],se[re])};try{for(var K=i(oe.keys()),V=K.next();!V.done;V=K.next()){var Q=V.value;F(Q)}}catch(J){I={error:J}}finally{try{V&&!V.done&&(j=K.return)&&j.call(K)}finally{if(I)throw I.error}}return C}hr.normalize=k;var O=(s={},s.max=function(R){for(var P=-1/0,I=0;I<R.length;I++)P=R[I]>P?R[I]:P;return R.map(function(j){return j/P})},s.l1=function(R){for(var P=0,I=0;I<R.length;I++)P+=R[I];return R.map(function(j){return j/P})},s.l2=function(R){for(var P=0,I=0;I<R.length;I++)P+=Math.pow(R[I],2);return R.map(function(j){return Math.sqrt(Math.pow(j,2)/P)})},s);function N(R,P,I){for(var j=new Set,te=[],oe=[],C=[],F=function(Se,Me){te.push(Se),oe.push(Me);var de=I(R.get(Se,Me),P.get(Se,Me));C.push(de)},K=R.getValues(),V=R.getRows(),Q=R.getCols(),J=0;J<K.length;J++){var ie=V[J],ve=Q[J],se=ie+":"+ve;j.add(se),F(ie,ve)}for(var re=P.getValues(),ye=P.getRows(),G=P.getCols(),J=0;J<re.length;J++){var ie=ye[J],ve=G[J],se=ie+":"+ve;j.has(se)||F(ie,ve)}var ue=[R.nRows,R.nCols];return new c(te,oe,C,ue)}function M(R){var P=[];R.forEach(function(J,ie,ve){P.push({value:J,row:ie,col:ve})}),P.sort(function(J,ie){return J.row===ie.row?J.col-ie.col:J.row-ie.row});for(var I=[],j=[],te=[],oe=-1,C=0;C<P.length;C++){var F=P[C],K=F.row,V=F.col,Q=F.value;K!==oe&&(oe=K,te.push(C)),I.push(V),j.push(Q)}return{indices:I,values:j,indptr:te}}return hr.getCSR=M,hr}var On={},vn={},nS;function RR(){if(nS)return vn;nS=1;var t=vn.__createBinding||(Object.create?function(M,R,P,I){I===void 0&&(I=P),Object.defineProperty(M,I,{enumerable:!0,get:function(){return R[P]}})}:function(M,R,P,I){I===void 0&&(I=P),M[I]=R[P]}),e=vn.__setModuleDefault||(Object.create?function(M,R){Object.defineProperty(M,"default",{enumerable:!0,value:R})}:function(M,R){M.default=R}),r=vn.__importStar||function(M){if(M&&M.__esModule)return M;var R={};if(M!=null)for(var P in M)P!=="default"&&Object.hasOwnProperty.call(M,P)&&t(R,M,P);return e(R,M),R},n=vn.__read||function(M,R){var P=typeof Symbol=="function"&&M[Symbol.iterator];if(!P)return M;var I=P.call(M),j,te=[],oe;try{for(;(R===void 0||R-- >0)&&!(j=I.next()).done;)te.push(j.value)}catch(C){oe={error:C}}finally{try{j&&!j.done&&(P=I.return)&&P.call(I)}finally{if(oe)throw oe.error}}return te},i=vn.__spread||function(){for(var M=[],R=0;R<arguments.length;R++)M=M.concat(n(arguments[R]));return M},s=vn.__values||function(M){var R=typeof Symbol=="function"&&Symbol.iterator,P=R&&M[R],I=0;if(P)return P.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&I>=M.length&&(M=void 0),{value:M&&M[I++],done:!M}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vn,"__esModule",{value:!0}),vn.searchFlatTree=vn.makeLeafArray=vn.makeForest=vn.FlatTree=void 0;var l=r(eu()),c=function(){function M(R,P,I,j){this.hyperplanes=R,this.offsets=P,this.children=I,this.indices=j}return M}();vn.FlatTree=c;function f(M,R,P,I){var j=Math.max(10,R),te=l.range(P).map(function(C,F){return h(M,j,F,I)}),oe=te.map(function(C){return w(C,j)});return oe}vn.makeForest=f;function h(M,R,P,I){R===void 0&&(R=30);var j=l.range(M.length),te=y(M,j,R,P,I);return te}function y(M,R,P,I,j){if(P===void 0&&(P=30),R.length>P){var te=b(M,R,j),oe=te.indicesLeft,C=te.indicesRight,F=te.hyperplane,K=te.offset,V=y(M,oe,P,I+1,j),Q=y(M,C,P,I+1,j),J={leftChild:V,rightChild:Q,isLeaf:!1,hyperplane:F,offset:K};return J}else{var J={indices:R,isLeaf:!0};return J}}function b(M,R,P){var I=M[0].length,j=l.tauRandInt(R.length,P),te=l.tauRandInt(R.length,P);te+=j===te?1:0,te=te%R.length;for(var oe=R[j],C=R[te],F=0,K=l.zeros(I),V=0;V<K.length;V++)K[V]=M[oe][V]-M[C][V],F-=K[V]*(M[oe][V]+M[C][V])/2;for(var Q=0,J=0,ie=l.zeros(R.length),V=0;V<R.length;V++){for(var ve=F,se=0;se<I;se++)ve+=K[se]*M[R[V]][se];ve===0?(ie[V]=l.tauRandInt(2,P),ie[V]===0?Q+=1:J+=1):ve>0?(ie[V]=0,Q+=1):(ie[V]=1,J+=1)}var re=l.zeros(Q),ye=l.zeros(J);Q=0,J=0;for(var V=0;V<ie.length;V++)ie[V]===0?(re[Q]=R[V],Q+=1):(ye[J]=R[V],J+=1);return{indicesLeft:re,indicesRight:ye,hyperplane:K,offset:F}}function w(M,R){var P=A(M),I=E(M),j=l.range(P).map(function(){return l.zeros(M.hyperplane?M.hyperplane.length:0)}),te=l.zeros(P),oe=l.range(P).map(function(){return[-1,-1]}),C=l.range(I).map(function(){return l.range(R).map(function(){return-1})});return x(M,j,te,oe,C,0,0),new c(j,te,oe,C)}function x(M,R,P,I,j,te,oe){var C;if(M.isLeaf)return I[te][0]=-oe,(C=j[oe]).splice.apply(C,i([0,M.indices.length],M.indices)),oe+=1,{nodeNum:te,leafNum:oe};R[te]=M.hyperplane,P[te]=M.offset,I[te][0]=te+1;var F=te,K=x(M.leftChild,R,P,I,j,te+1,oe);return te=K.nodeNum,oe=K.leafNum,I[F][1]=te+1,K=x(M.rightChild,R,P,I,j,te+1,oe),{nodeNum:K.nodeNum,leafNum:K.leafNum}}function A(M){return M.isLeaf?1:1+A(M.leftChild)+A(M.rightChild)}function E(M){return M.isLeaf?1:E(M.leftChild)+E(M.rightChild)}function k(M){var R,P;if(M.length>0){var I=[];try{for(var j=s(M),te=j.next();!te.done;te=j.next()){var oe=te.value;I.push.apply(I,i(oe.indices))}}catch(C){R={error:C}}finally{try{te&&!te.done&&(P=j.return)&&P.call(j)}finally{if(R)throw R.error}}return I}else return[[-1]]}vn.makeLeafArray=k;function O(M,R,P,I){for(var j=R,te=0;te<P.length;te++)j+=M[te]*P[te];if(j===0){var oe=l.tauRandInt(2,I);return oe}else return j>0?0:1}function N(M,R,P){for(var I=0;R.children[I][0]>0;){var j=O(R.hyperplanes[I],R.offsets[I],M,P);j===0?I=R.children[I][0]:I=R.children[I][1]}var te=-1*R.children[I][0];return R.indices[te]}return vn.searchFlatTree=N,vn}var iS;function Z$(){if(iS)return On;iS=1;var t=On.__createBinding||(Object.create?function(w,x,A,E){E===void 0&&(E=A),Object.defineProperty(w,E,{enumerable:!0,get:function(){return x[A]}})}:function(w,x,A,E){E===void 0&&(E=A),w[E]=x[A]}),e=On.__setModuleDefault||(Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x}),r=On.__importStar||function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var A in w)A!=="default"&&Object.hasOwnProperty.call(w,A)&&t(x,w,A);return e(x,w),x},n=On.__values||function(w){var x=typeof Symbol=="function"&&Symbol.iterator,A=x&&w[x],E=0;if(A)return A.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&E>=w.length&&(w=void 0),{value:w&&w[E++],done:!w}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(On,"__esModule",{value:!0}),On.initializeSearch=On.makeInitializedNNSearch=On.makeInitializations=On.makeNNDescent=void 0;var i=r(TR()),s=r(ER()),l=r(RR()),c=r(eu());function f(w,x){return function(E,k,O,N,M,R,P,I){N===void 0&&(N=10),M===void 0&&(M=50),R===void 0&&(R=.001),P===void 0&&(P=.5),I===void 0&&(I=!0);for(var j=E.length,te=i.makeHeap(E.length,O),oe=0;oe<E.length;oe++)for(var C=i.rejectionSample(O,E.length,x),F=0;F<C.length;F++){var K=w(E[oe],E[C[F]]);i.heapPush(te,oe,K,C[F],1),i.heapPush(te,C[F],K,oe,1)}if(I)for(var V=0;V<k.length;V++)for(var oe=0;oe<k[V].length&&!(k[V][oe]<0);oe++)for(var F=oe+1;F<k[V].length&&!(k[V][F]<0);F++){var K=w(E[k[V][oe]],E[k[V][F]]);i.heapPush(te,k[V][oe],K,k[V][F],1),i.heapPush(te,k[V][F],K,k[V][oe],1)}for(var V=0;V<N;V++){for(var Q=i.buildCandidates(te,j,O,M,x),J=0,oe=0;oe<j;oe++)for(var F=0;F<M;F++){var ie=Math.floor(Q[0][oe][F]);if(!(ie<0||c.tauRand(x)<P))for(var ve=0;ve<M;ve++){var se=Math.floor(Q[0][oe][ve]),re=Q[2][oe][F],ye=Q[2][oe][ve];if(!(se<0||!re&&!ye)){var K=w(E[ie],E[se]);J+=i.heapPush(te,ie,K,se,1),J+=i.heapPush(te,se,K,ie,1)}}}if(J<=R*O*E.length)break}var G=i.deheapSort(te);return G}}On.makeNNDescent=f;function h(w){function x(E,k,O,N,M){for(var R=0;R<O.length;R++)for(var P=c.rejectionSample(E,k.length,M),I=0;I<P.length;I++)if(!(P[I]<0)){var j=w(k[P[I]],O[R]);i.heapPush(N,R,j,P[I],1)}}function A(E,k,O,N,M){for(var R=0;R<O.length;R++)for(var P=l.searchFlatTree(O[R],E,M),I=0;I<P.length;I++){if(P[I]<0)return;var j=w(k[P[I]],O[R]);i.heapPush(N,R,j,P[I],1)}}return{initFromRandom:x,initFromTree:A}}On.makeInitializations=h;function y(w){return function(A,E,k,O){for(var N,M,R=s.getCSR(E),P=R.indices,I=R.indptr,j=0;j<O.length;j++)for(var te=new Set(k[0][j]);;){var oe=i.smallestFlagged(k,j);if(oe===-1)break;var C=P.slice(I[oe],I[oe+1]);try{for(var F=(N=void 0,n(C)),K=F.next();!K.done;K=F.next()){var V=K.value;if(!(V===oe||V===-1||te.has(V))){var Q=w(A[V],O[j]);i.uncheckedHeapPush(k,j,Q,V,1),te.add(V)}}}catch(J){N={error:J}}finally{try{K&&!K.done&&(M=F.return)&&M.call(F)}finally{if(N)throw N.error}}}return k}}On.makeInitializedNNSearch=y;function b(w,x,A,E,k,O,N){var M,R,P=i.makeHeap(A.length,E);if(k(E,x,A,P,N),w)try{for(var I=n(w),j=I.next();!j.done;j=I.next()){var te=j.value;O(te,x,A,P,N)}}catch(oe){M={error:oe}}finally{try{j&&!j.done&&(R=I.return)&&R.call(I)}finally{if(M)throw M.error}}return P}return On.initializeSearch=b,On}const Q$=Object.prototype.toString;function Yg(t){return Q$.call(t).endsWith("Array]")}function sS(t,e,r){let n=0;const i=r(e);for(let s=0;s<t.x.length;s++)n+=Math.abs(t.y[s]-i(t.x[s]));return n}var Jt={};const J$=Object.prototype.toString;function G$(t){const e=J$.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const eV=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:G$},Symbol.toStringTag,{value:"Module"})),tV=o0(eV),rV=Object.prototype.toString;function oS(t){const e=rV.call(t);return e.endsWith("Array]")&&!e.includes("Big")}const nV=Object.prototype.toString;function iV(t){const e=nV.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function sV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!iV(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,i=e.toIndex,s=i===void 0?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=n||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[n],c=n+1;c<s;c++)t[c]>l&&(l=t[c]);return l}const oV=Object.prototype.toString;function aV(t){const e=oV.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function lV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!aV(t))throw new TypeError("input must be an array");if(t.length===0)throw new TypeError("input must not be empty");var r=e.fromIndex,n=r===void 0?0:r,i=e.toIndex,s=i===void 0?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(s<=n||s>t.length||!Number.isInteger(s))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=t[n],c=n+1;c<s;c++)t[c]<l&&(l=t[c]);return l}function cV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(oS(t)){if(t.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(e.output!==void 0){if(!oS(e.output))throw new TypeError("output option must be an array if specified");r=e.output}else r=new Array(t.length);var n=lV(t),i=sV(t);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var s=e.min,l=s===void 0?e.autoMinMax?n:0:s,c=e.max,f=c===void 0?e.autoMinMax?i:1:c;if(l>=f)throw new RangeError("min option must be smaller than max option");for(var h=(f-l)/(i-n),y=0;y<t.length;y++)r[y]=(t[y]-n)*h+l;return r}const uV=Object.freeze(Object.defineProperty({__proto__:null,default:cV},Symbol.toStringTag,{value:"Module"})),fV=o0(uV);var aS;function dV(){var Ht,s0,_r;if(aS)return Jt;aS=1,Object.defineProperty(Jt,"__esModule",{value:!0});var t=tV,e=fV;const r=" ".repeat(2),n=" ".repeat(4);function i(){return s(this)}function s(D,_={}){const{maxRows:g=15,maxColumns:d=10,maxNumSize:m=8,padMinus:S="auto"}=_;return`${D.constructor.name} {
${r}[
${n}${l(D,g,d,m,S)}
${r}]
${r}rows: ${D.rows}
${r}columns: ${D.columns}
}`}function l(D,_,g,d,m){const{rows:S,columns:W}=D,X=Math.min(S,_),q=Math.min(W,g),Z=[];if(m==="auto"){m=!1;e:for(let ge=0;ge<X;ge++)for(let ae=0;ae<q;ae++)if(D.get(ge,ae)<0){m=!0;break e}}for(let ge=0;ge<X;ge++){let ae=[];for(let Ae=0;Ae<q;Ae++)ae.push(c(D.get(ge,Ae),d,m));Z.push(`${ae.join(" ")}`)}return q!==W&&(Z[Z.length-1]+=` ... ${W-g} more columns`),X!==S&&Z.push(`... ${S-_} more rows`),Z.join(`
${n}`)}function c(D,_,g){return(D>=0&&g?` ${f(D,_-1)}`:f(D,_)).padEnd(_)}function f(D,_){let g=D.toString();if(g.length<=_)return g;let d=D.toFixed(_);if(d.length>_&&(d=D.toFixed(Math.max(0,_-(d.length-_)))),d.length<=_&&!d.startsWith("0.000")&&!d.startsWith("-0.000"))return d;let m=D.toExponential(_);return m.length>_&&(m=D.toExponential(Math.max(0,_-(m.length-_)))),m.slice(0)}function h(D,_){D.prototype.add=function(d){return typeof d=="number"?this.addS(d):this.addM(d)},D.prototype.addS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)+d);return this},D.prototype.addM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)+d.get(m,S));return this},D.add=function(d,m){return new _(d).add(m)},D.prototype.sub=function(d){return typeof d=="number"?this.subS(d):this.subM(d)},D.prototype.subS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)-d);return this},D.prototype.subM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)-d.get(m,S));return this},D.sub=function(d,m){return new _(d).sub(m)},D.prototype.subtract=D.prototype.sub,D.prototype.subtractS=D.prototype.subS,D.prototype.subtractM=D.prototype.subM,D.subtract=D.sub,D.prototype.mul=function(d){return typeof d=="number"?this.mulS(d):this.mulM(d)},D.prototype.mulS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)*d);return this},D.prototype.mulM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)*d.get(m,S));return this},D.mul=function(d,m){return new _(d).mul(m)},D.prototype.multiply=D.prototype.mul,D.prototype.multiplyS=D.prototype.mulS,D.prototype.multiplyM=D.prototype.mulM,D.multiply=D.mul,D.prototype.div=function(d){return typeof d=="number"?this.divS(d):this.divM(d)},D.prototype.divS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)/d);return this},D.prototype.divM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)/d.get(m,S));return this},D.div=function(d,m){return new _(d).div(m)},D.prototype.divide=D.prototype.div,D.prototype.divideS=D.prototype.divS,D.prototype.divideM=D.prototype.divM,D.divide=D.div,D.prototype.mod=function(d){return typeof d=="number"?this.modS(d):this.modM(d)},D.prototype.modS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)%d);return this},D.prototype.modM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)%d.get(m,S));return this},D.mod=function(d,m){return new _(d).mod(m)},D.prototype.modulus=D.prototype.mod,D.prototype.modulusS=D.prototype.modS,D.prototype.modulusM=D.prototype.modM,D.modulus=D.mod,D.prototype.and=function(d){return typeof d=="number"?this.andS(d):this.andM(d)},D.prototype.andS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)&d);return this},D.prototype.andM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)&d.get(m,S));return this},D.and=function(d,m){return new _(d).and(m)},D.prototype.or=function(d){return typeof d=="number"?this.orS(d):this.orM(d)},D.prototype.orS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)|d);return this},D.prototype.orM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)|d.get(m,S));return this},D.or=function(d,m){return new _(d).or(m)},D.prototype.xor=function(d){return typeof d=="number"?this.xorS(d):this.xorM(d)},D.prototype.xorS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)^d);return this},D.prototype.xorM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)^d.get(m,S));return this},D.xor=function(d,m){return new _(d).xor(m)},D.prototype.leftShift=function(d){return typeof d=="number"?this.leftShiftS(d):this.leftShiftM(d)},D.prototype.leftShiftS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)<<d);return this},D.prototype.leftShiftM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)<<d.get(m,S));return this},D.leftShift=function(d,m){return new _(d).leftShift(m)},D.prototype.signPropagatingRightShift=function(d){return typeof d=="number"?this.signPropagatingRightShiftS(d):this.signPropagatingRightShiftM(d)},D.prototype.signPropagatingRightShiftS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)>>d);return this},D.prototype.signPropagatingRightShiftM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)>>d.get(m,S));return this},D.signPropagatingRightShift=function(d,m){return new _(d).signPropagatingRightShift(m)},D.prototype.rightShift=function(d){return typeof d=="number"?this.rightShiftS(d):this.rightShiftM(d)},D.prototype.rightShiftS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)>>>d);return this},D.prototype.rightShiftM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)>>>d.get(m,S));return this},D.rightShift=function(d,m){return new _(d).rightShift(m)},D.prototype.zeroFillRightShift=D.prototype.rightShift,D.prototype.zeroFillRightShiftS=D.prototype.rightShiftS,D.prototype.zeroFillRightShiftM=D.prototype.rightShiftM,D.zeroFillRightShift=D.rightShift,D.prototype.not=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,~this.get(d,m));return this},D.not=function(d){return new _(d).not()},D.prototype.abs=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.abs(this.get(d,m)));return this},D.abs=function(d){return new _(d).abs()},D.prototype.acos=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.acos(this.get(d,m)));return this},D.acos=function(d){return new _(d).acos()},D.prototype.acosh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.acosh(this.get(d,m)));return this},D.acosh=function(d){return new _(d).acosh()},D.prototype.asin=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.asin(this.get(d,m)));return this},D.asin=function(d){return new _(d).asin()},D.prototype.asinh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.asinh(this.get(d,m)));return this},D.asinh=function(d){return new _(d).asinh()},D.prototype.atan=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.atan(this.get(d,m)));return this},D.atan=function(d){return new _(d).atan()},D.prototype.atanh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.atanh(this.get(d,m)));return this},D.atanh=function(d){return new _(d).atanh()},D.prototype.cbrt=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.cbrt(this.get(d,m)));return this},D.cbrt=function(d){return new _(d).cbrt()},D.prototype.ceil=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.ceil(this.get(d,m)));return this},D.ceil=function(d){return new _(d).ceil()},D.prototype.clz32=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.clz32(this.get(d,m)));return this},D.clz32=function(d){return new _(d).clz32()},D.prototype.cos=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.cos(this.get(d,m)));return this},D.cos=function(d){return new _(d).cos()},D.prototype.cosh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.cosh(this.get(d,m)));return this},D.cosh=function(d){return new _(d).cosh()},D.prototype.exp=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.exp(this.get(d,m)));return this},D.exp=function(d){return new _(d).exp()},D.prototype.expm1=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.expm1(this.get(d,m)));return this},D.expm1=function(d){return new _(d).expm1()},D.prototype.floor=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.floor(this.get(d,m)));return this},D.floor=function(d){return new _(d).floor()},D.prototype.fround=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.fround(this.get(d,m)));return this},D.fround=function(d){return new _(d).fround()},D.prototype.log=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.log(this.get(d,m)));return this},D.log=function(d){return new _(d).log()},D.prototype.log1p=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.log1p(this.get(d,m)));return this},D.log1p=function(d){return new _(d).log1p()},D.prototype.log10=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.log10(this.get(d,m)));return this},D.log10=function(d){return new _(d).log10()},D.prototype.log2=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.log2(this.get(d,m)));return this},D.log2=function(d){return new _(d).log2()},D.prototype.round=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.round(this.get(d,m)));return this},D.round=function(d){return new _(d).round()},D.prototype.sign=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.sign(this.get(d,m)));return this},D.sign=function(d){return new _(d).sign()},D.prototype.sin=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.sin(this.get(d,m)));return this},D.sin=function(d){return new _(d).sin()},D.prototype.sinh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.sinh(this.get(d,m)));return this},D.sinh=function(d){return new _(d).sinh()},D.prototype.sqrt=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.sqrt(this.get(d,m)));return this},D.sqrt=function(d){return new _(d).sqrt()},D.prototype.tan=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.tan(this.get(d,m)));return this},D.tan=function(d){return new _(d).tan()},D.prototype.tanh=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.tanh(this.get(d,m)));return this},D.tanh=function(d){return new _(d).tanh()},D.prototype.trunc=function(){for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.set(d,m,Math.trunc(this.get(d,m)));return this},D.trunc=function(d){return new _(d).trunc()},D.pow=function(d,m){return new _(d).pow(m)},D.prototype.pow=function(d){return typeof d=="number"?this.powS(d):this.powM(d)},D.prototype.powS=function(d){for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)**d);return this},D.prototype.powM=function(d){if(d=_.checkMatrix(d),this.rows!==d.rows||this.columns!==d.columns)throw new RangeError("Matrices dimensions must be equal");for(let m=0;m<this.rows;m++)for(let S=0;S<this.columns;S++)this.set(m,S,this.get(m,S)**d.get(m,S));return this}}function y(D,_,g){let d=g?D.rows:D.rows-1;if(_<0||_>d)throw new RangeError("Row index out of range")}function b(D,_,g){let d=g?D.columns:D.columns-1;if(_<0||_>d)throw new RangeError("Column index out of range")}function w(D,_){if(_.to1DArray&&(_=_.to1DArray()),_.length!==D.columns)throw new RangeError("vector size must be the same as the number of columns");return _}function x(D,_){if(_.to1DArray&&(_=_.to1DArray()),_.length!==D.rows)throw new RangeError("vector size must be the same as the number of rows");return _}function A(D,_){if(!t.isAnyArray(_))throw new TypeError("row indices must be an array");for(let g=0;g<_.length;g++)if(_[g]<0||_[g]>=D.rows)throw new RangeError("row indices are out of range")}function E(D,_){if(!t.isAnyArray(_))throw new TypeError("column indices must be an array");for(let g=0;g<_.length;g++)if(_[g]<0||_[g]>=D.columns)throw new RangeError("column indices are out of range")}function k(D,_,g,d,m){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(N("startRow",_),N("endRow",g),N("startColumn",d),N("endColumn",m),_>g||d>m||_<0||_>=D.rows||g<0||g>=D.rows||d<0||d>=D.columns||m<0||m>=D.columns)throw new RangeError("Submatrix indices are out of range")}function O(D,_=0){let g=[];for(let d=0;d<D;d++)g.push(_);return g}function N(D,_){if(typeof _!="number")throw new TypeError(`${D} must be a number`)}function M(D){if(D.isEmpty())throw new Error("Empty matrix has no elements to index")}function R(D){let _=O(D.rows);for(let g=0;g<D.rows;++g)for(let d=0;d<D.columns;++d)_[g]+=D.get(g,d);return _}function P(D){let _=O(D.columns);for(let g=0;g<D.rows;++g)for(let d=0;d<D.columns;++d)_[d]+=D.get(g,d);return _}function I(D){let _=0;for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)_+=D.get(g,d);return _}function j(D){let _=O(D.rows,1);for(let g=0;g<D.rows;++g)for(let d=0;d<D.columns;++d)_[g]*=D.get(g,d);return _}function te(D){let _=O(D.columns,1);for(let g=0;g<D.rows;++g)for(let d=0;d<D.columns;++d)_[d]*=D.get(g,d);return _}function oe(D){let _=1;for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)_*=D.get(g,d);return _}function C(D,_,g){const d=D.rows,m=D.columns,S=[];for(let W=0;W<d;W++){let X=0,q=0,Z=0;for(let ge=0;ge<m;ge++)Z=D.get(W,ge)-g[W],X+=Z,q+=Z*Z;_?S.push((q-X*X/m)/(m-1)):S.push((q-X*X/m)/m)}return S}function F(D,_,g){const d=D.rows,m=D.columns,S=[];for(let W=0;W<m;W++){let X=0,q=0,Z=0;for(let ge=0;ge<d;ge++)Z=D.get(ge,W)-g[W],X+=Z,q+=Z*Z;_?S.push((q-X*X/d)/(d-1)):S.push((q-X*X/d)/d)}return S}function K(D,_,g){const d=D.rows,m=D.columns,S=d*m;let W=0,X=0,q=0;for(let Z=0;Z<d;Z++)for(let ge=0;ge<m;ge++)q=D.get(Z,ge)-g,W+=q,X+=q*q;return _?(X-W*W/S)/(S-1):(X-W*W/S)/S}function V(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)-_[g])}function Q(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)-_[d])}function J(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)-_)}function ie(D){const _=[];for(let g=0;g<D.rows;g++){let d=0;for(let m=0;m<D.columns;m++)d+=D.get(g,m)**2/(D.columns-1);_.push(Math.sqrt(d))}return _}function ve(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)/_[g])}function se(D){const _=[];for(let g=0;g<D.columns;g++){let d=0;for(let m=0;m<D.rows;m++)d+=D.get(m,g)**2/(D.rows-1);_.push(Math.sqrt(d))}return _}function re(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)/_[d])}function ye(D){const _=D.size-1;let g=0;for(let d=0;d<D.columns;d++)for(let m=0;m<D.rows;m++)g+=D.get(m,d)**2/_;return Math.sqrt(g)}function G(D,_){for(let g=0;g<D.rows;g++)for(let d=0;d<D.columns;d++)D.set(g,d,D.get(g,d)/_)}class ue{static from1DArray(_,g,d){if(_*g!==d.length)throw new RangeError("data length does not match given dimensions");let S=new de(_,g);for(let W=0;W<_;W++)for(let X=0;X<g;X++)S.set(W,X,d[W*g+X]);return S}static rowVector(_){let g=new de(1,_.length);for(let d=0;d<_.length;d++)g.set(0,d,_[d]);return g}static columnVector(_){let g=new de(_.length,1);for(let d=0;d<_.length;d++)g.set(d,0,_[d]);return g}static zeros(_,g){return new de(_,g)}static ones(_,g){return new de(_,g).fill(1)}static rand(_,g,d={}){if(typeof d!="object")throw new TypeError("options must be an object");const{random:m=Math.random}=d;let S=new de(_,g);for(let W=0;W<_;W++)for(let X=0;X<g;X++)S.set(W,X,m());return S}static randInt(_,g,d={}){if(typeof d!="object")throw new TypeError("options must be an object");const{min:m=0,max:S=1e3,random:W=Math.random}=d;if(!Number.isInteger(m))throw new TypeError("min must be an integer");if(!Number.isInteger(S))throw new TypeError("max must be an integer");if(m>=S)throw new RangeError("min must be smaller than max");let X=S-m,q=new de(_,g);for(let Z=0;Z<_;Z++)for(let ge=0;ge<g;ge++){let ae=m+Math.round(W()*X);q.set(Z,ge,ae)}return q}static eye(_,g,d){g===void 0&&(g=_),d===void 0&&(d=1);let m=Math.min(_,g),S=this.zeros(_,g);for(let W=0;W<m;W++)S.set(W,W,d);return S}static diag(_,g,d){let m=_.length;g===void 0&&(g=m),d===void 0&&(d=g);let S=Math.min(m,g,d),W=this.zeros(g,d);for(let X=0;X<S;X++)W.set(X,X,_[X]);return W}static min(_,g){_=this.checkMatrix(_),g=this.checkMatrix(g);let d=_.rows,m=_.columns,S=new de(d,m);for(let W=0;W<d;W++)for(let X=0;X<m;X++)S.set(W,X,Math.min(_.get(W,X),g.get(W,X)));return S}static max(_,g){_=this.checkMatrix(_),g=this.checkMatrix(g);let d=_.rows,m=_.columns,S=new this(d,m);for(let W=0;W<d;W++)for(let X=0;X<m;X++)S.set(W,X,Math.max(_.get(W,X),g.get(W,X)));return S}static checkMatrix(_){return ue.isMatrix(_)?_:new de(_)}static isMatrix(_){return _!=null&&_.klass==="Matrix"}get size(){return this.rows*this.columns}apply(_){if(typeof _!="function")throw new TypeError("callback must be a function");for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)_.call(this,g,d);return this}to1DArray(){let _=[];for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)_.push(this.get(g,d));return _}to2DArray(){let _=[];for(let g=0;g<this.rows;g++){_.push([]);for(let d=0;d<this.columns;d++)_[g].push(this.get(g,d))}return _}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let _=0;_<this.rows;_++)for(let g=0;g<=_;g++)if(this.get(_,g)!==this.get(g,_))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let _=0;_<this.rows;_++)if(this.get(_,_)!==0)return!1;return!0}isEchelonForm(){let _=0,g=0,d=-1,m=!0,S=!1;for(;_<this.rows&&m;){for(g=0,S=!1;g<this.columns&&S===!1;)this.get(_,g)===0?g++:this.get(_,g)===1&&g>d?(S=!0,d=g):(m=!1,S=!0);_++}return m}isReducedEchelonForm(){let _=0,g=0,d=-1,m=!0,S=!1;for(;_<this.rows&&m;){for(g=0,S=!1;g<this.columns&&S===!1;)this.get(_,g)===0?g++:this.get(_,g)===1&&g>d?(S=!0,d=g):(m=!1,S=!0);for(let W=g+1;W<this.rows;W++)this.get(_,W)!==0&&(m=!1);_++}return m}echelonForm(){let _=this.clone(),g=0,d=0;for(;g<_.rows&&d<_.columns;){let m=g;for(let S=g;S<_.rows;S++)_.get(S,d)>_.get(m,d)&&(m=S);if(_.get(m,d)===0)d++;else{_.swapRows(g,m);let S=_.get(g,d);for(let W=d;W<_.columns;W++)_.set(g,W,_.get(g,W)/S);for(let W=g+1;W<_.rows;W++){let X=_.get(W,d)/_.get(g,d);_.set(W,d,0);for(let q=d+1;q<_.columns;q++)_.set(W,q,_.get(W,q)-_.get(g,q)*X)}g++,d++}}return _}reducedEchelonForm(){let _=this.echelonForm(),g=_.columns,d=_.rows,m=d-1;for(;m>=0;)if(_.maxRow(m)===0)m--;else{let S=0,W=!1;for(;S<d&&W===!1;)_.get(m,S)===1?W=!0:S++;for(let X=0;X<m;X++){let q=_.get(X,S);for(let Z=S;Z<g;Z++){let ge=_.get(X,Z)-q*_.get(m,Z);_.set(X,Z,ge)}}m--}return _}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(_={}){if(typeof _!="object")throw new TypeError("options must be an object");const{rows:g=1,columns:d=1}=_;if(!Number.isInteger(g)||g<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(d)||d<=0)throw new TypeError("columns must be a positive integer");let m=new de(this.rows*g,this.columns*d);for(let S=0;S<g;S++)for(let W=0;W<d;W++)m.setSubMatrix(this,this.rows*S,this.columns*W);return m}fill(_){for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,_);return this}neg(){return this.mulS(-1)}getRow(_){y(this,_);let g=[];for(let d=0;d<this.columns;d++)g.push(this.get(_,d));return g}getRowVector(_){return de.rowVector(this.getRow(_))}setRow(_,g){y(this,_),g=w(this,g);for(let d=0;d<this.columns;d++)this.set(_,d,g[d]);return this}swapRows(_,g){y(this,_),y(this,g);for(let d=0;d<this.columns;d++){let m=this.get(_,d);this.set(_,d,this.get(g,d)),this.set(g,d,m)}return this}getColumn(_){b(this,_);let g=[];for(let d=0;d<this.rows;d++)g.push(this.get(d,_));return g}getColumnVector(_){return de.columnVector(this.getColumn(_))}setColumn(_,g){b(this,_),g=x(this,g);for(let d=0;d<this.rows;d++)this.set(d,_,g[d]);return this}swapColumns(_,g){b(this,_),b(this,g);for(let d=0;d<this.rows;d++){let m=this.get(d,_);this.set(d,_,this.get(d,g)),this.set(d,g,m)}return this}addRowVector(_){_=w(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)+_[d]);return this}subRowVector(_){_=w(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)-_[d]);return this}mulRowVector(_){_=w(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)*_[d]);return this}divRowVector(_){_=w(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)/_[d]);return this}addColumnVector(_){_=x(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)+_[g]);return this}subColumnVector(_){_=x(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)-_[g]);return this}mulColumnVector(_){_=x(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)*_[g]);return this}divColumnVector(_){_=x(this,_);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)this.set(g,d,this.get(g,d)/_[g]);return this}mulRow(_,g){y(this,_);for(let d=0;d<this.columns;d++)this.set(_,d,this.get(_,d)*g);return this}mulColumn(_,g){b(this,_);for(let d=0;d<this.rows;d++)this.set(d,_,this.get(d,_)*g);return this}max(_){if(this.isEmpty())return NaN;switch(_){case"row":{const g=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)>g[d]&&(g[d]=this.get(d,m));return g}case"column":{const g=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)>g[m]&&(g[m]=this.get(d,m));return g}case void 0:{let g=this.get(0,0);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)>g&&(g=this.get(d,m));return g}default:throw new Error(`invalid option: ${_}`)}}maxIndex(){M(this);let _=this.get(0,0),g=[0,0];for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)>_&&(_=this.get(d,m),g[0]=d,g[1]=m);return g}min(_){if(this.isEmpty())return NaN;switch(_){case"row":{const g=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)<g[d]&&(g[d]=this.get(d,m));return g}case"column":{const g=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)<g[m]&&(g[m]=this.get(d,m));return g}case void 0:{let g=this.get(0,0);for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)<g&&(g=this.get(d,m));return g}default:throw new Error(`invalid option: ${_}`)}}minIndex(){M(this);let _=this.get(0,0),g=[0,0];for(let d=0;d<this.rows;d++)for(let m=0;m<this.columns;m++)this.get(d,m)<_&&(_=this.get(d,m),g[0]=d,g[1]=m);return g}maxRow(_){if(y(this,_),this.isEmpty())return NaN;let g=this.get(_,0);for(let d=1;d<this.columns;d++)this.get(_,d)>g&&(g=this.get(_,d));return g}maxRowIndex(_){y(this,_),M(this);let g=this.get(_,0),d=[_,0];for(let m=1;m<this.columns;m++)this.get(_,m)>g&&(g=this.get(_,m),d[1]=m);return d}minRow(_){if(y(this,_),this.isEmpty())return NaN;let g=this.get(_,0);for(let d=1;d<this.columns;d++)this.get(_,d)<g&&(g=this.get(_,d));return g}minRowIndex(_){y(this,_),M(this);let g=this.get(_,0),d=[_,0];for(let m=1;m<this.columns;m++)this.get(_,m)<g&&(g=this.get(_,m),d[1]=m);return d}maxColumn(_){if(b(this,_),this.isEmpty())return NaN;let g=this.get(0,_);for(let d=1;d<this.rows;d++)this.get(d,_)>g&&(g=this.get(d,_));return g}maxColumnIndex(_){b(this,_),M(this);let g=this.get(0,_),d=[0,_];for(let m=1;m<this.rows;m++)this.get(m,_)>g&&(g=this.get(m,_),d[0]=m);return d}minColumn(_){if(b(this,_),this.isEmpty())return NaN;let g=this.get(0,_);for(let d=1;d<this.rows;d++)this.get(d,_)<g&&(g=this.get(d,_));return g}minColumnIndex(_){b(this,_),M(this);let g=this.get(0,_),d=[0,_];for(let m=1;m<this.rows;m++)this.get(m,_)<g&&(g=this.get(m,_),d[0]=m);return d}diag(){let _=Math.min(this.rows,this.columns),g=[];for(let d=0;d<_;d++)g.push(this.get(d,d));return g}norm(_="frobenius"){switch(_){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${_}`)}}cumulativeSum(){let _=0;for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)_+=this.get(g,d),this.set(g,d,_);return this}dot(_){ue.isMatrix(_)&&(_=_.to1DArray());let g=this.to1DArray();if(g.length!==_.length)throw new RangeError("vectors do not have the same size");let d=0;for(let m=0;m<g.length;m++)d+=g[m]*_[m];return d}mmul(_){_=de.checkMatrix(_);let g=this.rows,d=this.columns,m=_.columns,S=new de(g,m),W=new Float64Array(d);for(let X=0;X<m;X++){for(let q=0;q<d;q++)W[q]=_.get(q,X);for(let q=0;q<g;q++){let Z=0;for(let ge=0;ge<d;ge++)Z+=this.get(q,ge)*W[ge];S.set(q,X,Z)}}return S}mpow(_){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(_)||_<0)throw new RangeError("Exponent must be a non-negative integer");let g=de.eye(this.rows),d=this;for(let m=_;m>1;m/=2)m&1&&(g=g.mmul(d)),d=d.mmul(d);return g}strassen2x2(_){_=de.checkMatrix(_);let g=new de(2,2);const d=this.get(0,0),m=_.get(0,0),S=this.get(0,1),W=_.get(0,1),X=this.get(1,0),q=_.get(1,0),Z=this.get(1,1),ge=_.get(1,1),ae=(d+Z)*(m+ge),Ae=(X+Z)*m,Xe=d*(W-ge),Te=Z*(q-m),ke=(d+S)*ge,nt=(X-d)*(m+W),ce=(S-Z)*(q+ge),Ve=ae+Te-ke+ce,st=Xe+ke,Ct=Ae+Te,At=ae-Ae+Xe+nt;return g.set(0,0,Ve),g.set(0,1,st),g.set(1,0,Ct),g.set(1,1,At),g}strassen3x3(_){_=de.checkMatrix(_);let g=new de(3,3);const d=this.get(0,0),m=this.get(0,1),S=this.get(0,2),W=this.get(1,0),X=this.get(1,1),q=this.get(1,2),Z=this.get(2,0),ge=this.get(2,1),ae=this.get(2,2),Ae=_.get(0,0),Xe=_.get(0,1),Te=_.get(0,2),ke=_.get(1,0),nt=_.get(1,1),ce=_.get(1,2),Ve=_.get(2,0),st=_.get(2,1),Ct=_.get(2,2),At=(d+m+S-W-X-ge-ae)*nt,ar=(d-W)*(-Xe+nt),vt=X*(-Ae+Xe+ke-nt-ce-Ve+Ct),it=(-d+W+X)*(Ae-Xe+nt),Wt=(W+X)*(-Ae+Xe),U=d*Ae,pe=(-d+Z+ge)*(Ae-Te+ce),Pe=(-d+Z)*(Te-ce),xe=(Z+ge)*(-Ae+Te),Ge=(d+m+S-X-q-Z-ge)*ce,je=ge*(-Ae+Te+ke-nt-ce-Ve+st),lt=(-S+ge+ae)*(nt+Ve-st),mt=(S-ae)*(nt-st),kt=S*Ve,nr=(ge+ae)*(-Ve+st),yr=(-S+X+q)*(ce+Ve-Ct),sn=(S-q)*(ce-Ct),Hr=(X+q)*(-Ve+Ct),jt=m*ke,ft=q*st,Kt=W*Te,fr=Z*Xe,gr=ae*Ct,Un=U+kt+jt,Ln=At+it+Wt+U+lt+kt+nr,Si=U+pe+xe+Ge+kt+yr+Hr,ii=ar+vt+it+U+kt+yr+sn,Ts=ar+it+Wt+U+ft,$=kt+yr+sn+Hr+Kt,Y=U+pe+Pe+je+lt+mt+kt,le=lt+mt+kt+nr+fr,Re=U+pe+Pe+xe+gr;return g.set(0,0,Un),g.set(0,1,Ln),g.set(0,2,Si),g.set(1,0,ii),g.set(1,1,Ts),g.set(1,2,$),g.set(2,0,Y),g.set(2,1,le),g.set(2,2,Re),g}mmulStrassen(_){_=de.checkMatrix(_);let g=this.clone(),d=g.rows,m=g.columns,S=_.rows,W=_.columns;m!==S&&console.warn(`Multiplying ${d} x ${m} and ${S} x ${W} matrix: dimensions do not match.`);function X(ae,Ae,Xe){let Te=ae.rows,ke=ae.columns;if(Te===Ae&&ke===Xe)return ae;{let nt=ue.zeros(Ae,Xe);return nt=nt.setSubMatrix(ae,0,0),nt}}let q=Math.max(d,S),Z=Math.max(m,W);g=X(g,q,Z),_=X(_,q,Z);function ge(ae,Ae,Xe,Te){if(Xe<=512||Te<=512)return ae.mmul(Ae);Xe%2===1&&Te%2===1?(ae=X(ae,Xe+1,Te+1),Ae=X(Ae,Xe+1,Te+1)):Xe%2===1?(ae=X(ae,Xe+1,Te),Ae=X(Ae,Xe+1,Te)):Te%2===1&&(ae=X(ae,Xe,Te+1),Ae=X(Ae,Xe,Te+1));let ke=parseInt(ae.rows/2,10),nt=parseInt(ae.columns/2,10),ce=ae.subMatrix(0,ke-1,0,nt-1),Ve=Ae.subMatrix(0,ke-1,0,nt-1),st=ae.subMatrix(0,ke-1,nt,ae.columns-1),Ct=Ae.subMatrix(0,ke-1,nt,Ae.columns-1),At=ae.subMatrix(ke,ae.rows-1,0,nt-1),ar=Ae.subMatrix(ke,Ae.rows-1,0,nt-1),vt=ae.subMatrix(ke,ae.rows-1,nt,ae.columns-1),it=Ae.subMatrix(ke,Ae.rows-1,nt,Ae.columns-1),Wt=ge(ue.add(ce,vt),ue.add(Ve,it),ke,nt),U=ge(ue.add(At,vt),Ve,ke,nt),pe=ge(ce,ue.sub(Ct,it),ke,nt),Pe=ge(vt,ue.sub(ar,Ve),ke,nt),xe=ge(ue.add(ce,st),it,ke,nt),Ge=ge(ue.sub(At,ce),ue.add(Ve,Ct),ke,nt),je=ge(ue.sub(st,vt),ue.add(ar,it),ke,nt),lt=ue.add(Wt,Pe);lt.sub(xe),lt.add(je);let mt=ue.add(pe,xe),kt=ue.add(U,Pe),nr=ue.sub(Wt,U);nr.add(pe),nr.add(Ge);let yr=ue.zeros(2*lt.rows,2*lt.columns);return yr=yr.setSubMatrix(lt,0,0),yr=yr.setSubMatrix(mt,lt.rows,0),yr=yr.setSubMatrix(kt,0,lt.columns),yr=yr.setSubMatrix(nr,lt.rows,lt.columns),yr.subMatrix(0,Xe-1,0,Te-1)}return ge(g,_,q,Z)}scaleRows(_={}){if(typeof _!="object")throw new TypeError("options must be an object");const{min:g=0,max:d=1}=_;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(d))throw new TypeError("max must be a number");if(g>=d)throw new RangeError("min must be smaller than max");let m=new de(this.rows,this.columns);for(let S=0;S<this.rows;S++){const W=this.getRow(S);W.length>0&&e(W,{min:g,max:d,output:W}),m.setRow(S,W)}return m}scaleColumns(_={}){if(typeof _!="object")throw new TypeError("options must be an object");const{min:g=0,max:d=1}=_;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(d))throw new TypeError("max must be a number");if(g>=d)throw new RangeError("min must be smaller than max");let m=new de(this.rows,this.columns);for(let S=0;S<this.columns;S++){const W=this.getColumn(S);W.length&&e(W,{min:g,max:d,output:W}),m.setColumn(S,W)}return m}flipRows(){const _=Math.ceil(this.columns/2);for(let g=0;g<this.rows;g++)for(let d=0;d<_;d++){let m=this.get(g,d),S=this.get(g,this.columns-1-d);this.set(g,d,S),this.set(g,this.columns-1-d,m)}return this}flipColumns(){const _=Math.ceil(this.rows/2);for(let g=0;g<this.columns;g++)for(let d=0;d<_;d++){let m=this.get(d,g),S=this.get(this.rows-1-d,g);this.set(d,g,S),this.set(this.rows-1-d,g,m)}return this}kroneckerProduct(_){_=de.checkMatrix(_);let g=this.rows,d=this.columns,m=_.rows,S=_.columns,W=new de(g*m,d*S);for(let X=0;X<g;X++)for(let q=0;q<d;q++)for(let Z=0;Z<m;Z++)for(let ge=0;ge<S;ge++)W.set(m*X+Z,S*q+ge,this.get(X,q)*_.get(Z,ge));return W}kroneckerSum(_){if(_=de.checkMatrix(_),!this.isSquare()||!_.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let g=this.rows,d=_.rows,m=this.kroneckerProduct(de.eye(d,d)),S=de.eye(g,g).kroneckerProduct(_);return m.add(S)}transpose(){let _=new de(this.columns,this.rows);for(let g=0;g<this.rows;g++)for(let d=0;d<this.columns;d++)_.set(d,g,this.get(g,d));return _}sortRows(_=Se){for(let g=0;g<this.rows;g++)this.setRow(g,this.getRow(g).sort(_));return this}sortColumns(_=Se){for(let g=0;g<this.columns;g++)this.setColumn(g,this.getColumn(g).sort(_));return this}subMatrix(_,g,d,m){k(this,_,g,d,m);let S=new de(g-_+1,m-d+1);for(let W=_;W<=g;W++)for(let X=d;X<=m;X++)S.set(W-_,X-d,this.get(W,X));return S}subMatrixRow(_,g,d){if(g===void 0&&(g=0),d===void 0&&(d=this.columns-1),g>d||g<0||g>=this.columns||d<0||d>=this.columns)throw new RangeError("Argument out of range");let m=new de(_.length,d-g+1);for(let S=0;S<_.length;S++)for(let W=g;W<=d;W++){if(_[S]<0||_[S]>=this.rows)throw new RangeError(`Row index out of range: ${_[S]}`);m.set(S,W-g,this.get(_[S],W))}return m}subMatrixColumn(_,g,d){if(g===void 0&&(g=0),d===void 0&&(d=this.rows-1),g>d||g<0||g>=this.rows||d<0||d>=this.rows)throw new RangeError("Argument out of range");let m=new de(d-g+1,_.length);for(let S=0;S<_.length;S++)for(let W=g;W<=d;W++){if(_[S]<0||_[S]>=this.columns)throw new RangeError(`Column index out of range: ${_[S]}`);m.set(W-g,S,this.get(W,_[S]))}return m}setSubMatrix(_,g,d){if(_=de.checkMatrix(_),_.isEmpty())return this;let m=g+_.rows-1,S=d+_.columns-1;k(this,g,m,d,S);for(let W=0;W<_.rows;W++)for(let X=0;X<_.columns;X++)this.set(g+W,d+X,_.get(W,X));return this}selection(_,g){A(this,_),E(this,g);let d=new de(_.length,g.length);for(let m=0;m<_.length;m++){let S=_[m];for(let W=0;W<g.length;W++){let X=g[W];d.set(m,W,this.get(S,X))}}return d}trace(){let _=Math.min(this.rows,this.columns),g=0;for(let d=0;d<_;d++)g+=this.get(d,d);return g}clone(){return this.constructor.copy(this,new de(this.rows,this.columns))}static copy(_,g){for(const[d,m,S]of _.entries())g.set(d,m,S);return g}sum(_){switch(_){case"row":return R(this);case"column":return P(this);case void 0:return I(this);default:throw new Error(`invalid option: ${_}`)}}product(_){switch(_){case"row":return j(this);case"column":return te(this);case void 0:return oe(this);default:throw new Error(`invalid option: ${_}`)}}mean(_){const g=this.sum(_);switch(_){case"row":{for(let d=0;d<this.rows;d++)g[d]/=this.columns;return g}case"column":{for(let d=0;d<this.columns;d++)g[d]/=this.rows;return g}case void 0:return g/this.size;default:throw new Error(`invalid option: ${_}`)}}variance(_,g={}){if(typeof _=="object"&&(g=_,_=void 0),typeof g!="object")throw new TypeError("options must be an object");const{unbiased:d=!0,mean:m=this.mean(_)}=g;if(typeof d!="boolean")throw new TypeError("unbiased must be a boolean");switch(_){case"row":{if(!t.isAnyArray(m))throw new TypeError("mean must be an array");return C(this,d,m)}case"column":{if(!t.isAnyArray(m))throw new TypeError("mean must be an array");return F(this,d,m)}case void 0:{if(typeof m!="number")throw new TypeError("mean must be a number");return K(this,d,m)}default:throw new Error(`invalid option: ${_}`)}}standardDeviation(_,g){typeof _=="object"&&(g=_,_=void 0);const d=this.variance(_,g);if(_===void 0)return Math.sqrt(d);for(let m=0;m<d.length;m++)d[m]=Math.sqrt(d[m]);return d}center(_,g={}){if(typeof _=="object"&&(g=_,_=void 0),typeof g!="object")throw new TypeError("options must be an object");const{center:d=this.mean(_)}=g;switch(_){case"row":{if(!t.isAnyArray(d))throw new TypeError("center must be an array");return V(this,d),this}case"column":{if(!t.isAnyArray(d))throw new TypeError("center must be an array");return Q(this,d),this}case void 0:{if(typeof d!="number")throw new TypeError("center must be a number");return J(this,d),this}default:throw new Error(`invalid option: ${_}`)}}scale(_,g={}){if(typeof _=="object"&&(g=_,_=void 0),typeof g!="object")throw new TypeError("options must be an object");let d=g.scale;switch(_){case"row":{if(d===void 0)d=ie(this);else if(!t.isAnyArray(d))throw new TypeError("scale must be an array");return ve(this,d),this}case"column":{if(d===void 0)d=se(this);else if(!t.isAnyArray(d))throw new TypeError("scale must be an array");return re(this,d),this}case void 0:{if(d===void 0)d=ye(this);else if(typeof d!="number")throw new TypeError("scale must be a number");return G(this,d),this}default:throw new Error(`invalid option: ${_}`)}}toString(_){return s(this,_)}[Symbol.iterator](){return this.entries()}*entries(){for(let _=0;_<this.rows;_++)for(let g=0;g<this.columns;g++)yield[_,g,this.get(_,g)]}*values(){for(let _=0;_<this.rows;_++)for(let g=0;g<this.columns;g++)yield this.get(_,g)}}ue.prototype.klass="Matrix",typeof Symbol<"u"&&(ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=i);function Se(D,_){return D-_}function Me(D){return D.every(_=>typeof _=="number")}ue.random=ue.rand,ue.randomInt=ue.randInt,ue.diagonal=ue.diag,ue.prototype.diagonal=ue.prototype.diag,ue.identity=ue.eye,ue.prototype.negate=ue.prototype.neg,ue.prototype.tensorProduct=ue.prototype.kroneckerProduct;const nn=class nn extends ue{constructor(g,d){super();jp(this,Ht);H(this,"data");if(nn.isMatrix(g))zp(this,Ht,s0).call(this,g.rows,g.columns),nn.copy(g,this);else if(Number.isInteger(g)&&g>=0)zp(this,Ht,s0).call(this,g,d);else if(t.isAnyArray(g)){const m=g;if(g=m.length,d=g?m[0].length:0,typeof d!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let S=0;S<g;S++){if(m[S].length!==d)throw new RangeError("Inconsistent array dimensions");if(!Me(m[S]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(m[S]))}this.rows=g,this.columns=d}else throw new TypeError("First argument must be a positive number or an array")}set(g,d,m){return this.data[g][d]=m,this}get(g,d){return this.data[g][d]}removeRow(g){return y(this,g),this.data.splice(g,1),this.rows-=1,this}addRow(g,d){return d===void 0&&(d=g,g=this.rows),y(this,g,!0),d=Float64Array.from(w(this,d)),this.data.splice(g,0,d),this.rows+=1,this}removeColumn(g){b(this,g);for(let d=0;d<this.rows;d++){const m=new Float64Array(this.columns-1);for(let S=0;S<g;S++)m[S]=this.data[d][S];for(let S=g+1;S<this.columns;S++)m[S-1]=this.data[d][S];this.data[d]=m}return this.columns-=1,this}addColumn(g,d){typeof d>"u"&&(d=g,g=this.columns),b(this,g,!0),d=x(this,d);for(let m=0;m<this.rows;m++){const S=new Float64Array(this.columns+1);let W=0;for(;W<g;W++)S[W]=this.data[m][W];for(S[W++]=d[m];W<this.columns+1;W++)S[W]=this.data[m][W-1];this.data[m]=S}return this.columns+=1,this}};Ht=new WeakSet,s0=function(g,d){if(this.data=[],Number.isInteger(d)&&d>=0)for(let m=0;m<g;m++)this.data.push(new Float64Array(d));else throw new TypeError("nColumns must be a positive integer");this.rows=g,this.columns=d};let de=nn;h(ue,de);const Wr=class Wr extends ue{constructor(g){super();jp(this,_r);if(de.isMatrix(g)){if(!g.isSymmetric())throw new TypeError("not symmetric data");ef(this,_r,de.copy(g,new de(g.rows,g.rows)))}else if(Number.isInteger(g)&&g>=0)ef(this,_r,new de(g,g));else if(ef(this,_r,new de(g)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Pi(this,_r).size}get rows(){return Pi(this,_r).rows}get columns(){return Pi(this,_r).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(g){return de.isMatrix(g)&&g.klassType==="SymmetricMatrix"}static zeros(g){return new this(g)}static ones(g){return new this(g).fill(1)}clone(){const g=new Wr(this.diagonalSize);for(const[d,m,S]of this.upperRightEntries())g.set(d,m,S);return g}toMatrix(){return new de(this)}get(g,d){return Pi(this,_r).get(g,d)}set(g,d,m){return Pi(this,_r).set(g,d,m),Pi(this,_r).set(d,g,m),this}removeCross(g){return Pi(this,_r).removeRow(g),Pi(this,_r).removeColumn(g),this}addCross(g,d){d===void 0&&(d=g,g=this.diagonalSize);const m=d.slice();return m.splice(g,1),Pi(this,_r).addRow(g,m),Pi(this,_r).addColumn(g,d),this}applyMask(g){if(g.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const d=[];for(const[m,S]of g.entries())S||d.push(m);d.reverse();for(const m of d)this.removeCross(m);return this}toCompact(){const{diagonalSize:g}=this,d=new Array(g*(g+1)/2);for(let m=0,S=0,W=0;W<d.length;W++)d[W]=this.get(S,m),++m>=g&&(m=++S);return d}static fromCompact(g){const d=g.length,m=(Math.sqrt(8*d+1)-1)/2;if(!Number.isInteger(m))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(g)}`);const S=new Wr(m);for(let W=0,X=0,q=0;q<d;q++)S.set(W,X,g[q]),++W>=m&&(W=++X);return S}*upperRightEntries(){for(let g=0,d=0;g<this.diagonalSize;void 0){const m=this.get(g,d);yield[g,d,m],++d>=this.diagonalSize&&(d=++g)}}*upperRightValues(){for(let g=0,d=0;g<this.diagonalSize;void 0)yield this.get(g,d),++d>=this.diagonalSize&&(d=++g)}};_r=new WeakMap;let De=Wr;De.prototype.klassType="SymmetricMatrix";class $e extends De{static isDistanceMatrix(_){return De.isSymmetricMatrix(_)&&_.klassSubType==="DistanceMatrix"}constructor(_){if(super(_),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(_,g,d){return _===g&&(d=0),super.set(_,g,d)}addCross(_,g){return g===void 0&&(g=_,_=this.diagonalSize),g=g.slice(),g[_]=0,super.addCross(_,g)}toSymmetricMatrix(){return new De(this)}clone(){const _=new $e(this.diagonalSize);for(const[g,d,m]of this.upperRightEntries())g!==d&&_.set(g,d,m);return _}toCompact(){const{diagonalSize:_}=this,g=(_-1)*_/2,d=new Array(g);for(let m=1,S=0,W=0;W<d.length;W++)d[W]=this.get(S,m),++m>=_&&(m=++S+1);return d}static fromCompact(_){const g=_.length;if(g===0)return new this(0);const d=(Math.sqrt(8*g+1)+1)/2;if(!Number.isInteger(d))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(_)}`);const m=new this(d);for(let S=1,W=0,X=0;X<g;X++)m.set(S,W,_[X]),++S>=d&&(S=++W+1);return m}}$e.prototype.klassSubType="DistanceMatrix";class Be extends ue{constructor(_,g,d){super(),this.matrix=_,this.rows=g,this.columns=d}}class Oe extends Be{constructor(_,g){b(_,g),super(_,_.rows,1),this.column=g}set(_,g,d){return this.matrix.set(_,this.column,d),this}get(_){return this.matrix.get(_,this.column)}}class Ue extends Be{constructor(_,g){E(_,g),super(_,_.rows,g.length),this.columnIndices=g}set(_,g,d){return this.matrix.set(_,this.columnIndices[g],d),this}get(_,g){return this.matrix.get(_,this.columnIndices[g])}}class ot extends Be{constructor(_){super(_,_.rows,_.columns)}set(_,g,d){return this.matrix.set(_,this.columns-g-1,d),this}get(_,g){return this.matrix.get(_,this.columns-g-1)}}class qe extends Be{constructor(_){super(_,_.rows,_.columns)}set(_,g,d){return this.matrix.set(this.rows-_-1,g,d),this}get(_,g){return this.matrix.get(this.rows-_-1,g)}}class ut extends Be{constructor(_,g){y(_,g),super(_,1,_.columns),this.row=g}set(_,g,d){return this.matrix.set(this.row,g,d),this}get(_,g){return this.matrix.get(this.row,g)}}class et extends Be{constructor(_,g){A(_,g),super(_,g.length,_.columns),this.rowIndices=g}set(_,g,d){return this.matrix.set(this.rowIndices[_],g,d),this}get(_,g){return this.matrix.get(this.rowIndices[_],g)}}class Mt extends Be{constructor(_,g,d){A(_,g),E(_,d),super(_,g.length,d.length),this.rowIndices=g,this.columnIndices=d}set(_,g,d){return this.matrix.set(this.rowIndices[_],this.columnIndices[g],d),this}get(_,g){return this.matrix.get(this.rowIndices[_],this.columnIndices[g])}}class Ut extends Be{constructor(_,g,d,m,S){k(_,g,d,m,S),super(_,d-g+1,S-m+1),this.startRow=g,this.startColumn=m}set(_,g,d){return this.matrix.set(this.startRow+_,this.startColumn+g,d),this}get(_,g){return this.matrix.get(this.startRow+_,this.startColumn+g)}}class bt extends Be{constructor(_){super(_,_.columns,_.rows)}set(_,g,d){return this.matrix.set(g,_,d),this}get(_,g){return this.matrix.get(g,_)}}class xt extends ue{constructor(_,g={}){const{rows:d=1}=g;if(_.length%d!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=d,this.columns=_.length/d,this.data=_}set(_,g,d){let m=this._calculateIndex(_,g);return this.data[m]=d,this}get(_,g){let d=this._calculateIndex(_,g);return this.data[d]}_calculateIndex(_,g){return _*this.columns+g}}class Dt extends ue{constructor(_){super(),this.data=_,this.rows=_.length,this.columns=_[0].length}set(_,g,d){return this.data[_][g]=d,this}get(_,g){return this.data[_][g]}}function Lt(D,_){if(t.isAnyArray(D))return D[0]&&t.isAnyArray(D[0])?new Dt(D):new xt(D,_);throw new Error("the argument is not an array")}class gt{constructor(_){_=Dt.checkMatrix(_);let g=_.clone(),d=g.rows,m=g.columns,S=new Float64Array(d),W=1,X,q,Z,ge,ae,Ae,Xe,Te,ke;for(X=0;X<d;X++)S[X]=X;for(Te=new Float64Array(d),q=0;q<m;q++){for(X=0;X<d;X++)Te[X]=g.get(X,q);for(X=0;X<d;X++){for(ke=Math.min(X,q),ae=0,Z=0;Z<ke;Z++)ae+=g.get(X,Z)*Te[Z];Te[X]-=ae,g.set(X,q,Te[X])}for(ge=q,X=q+1;X<d;X++)Math.abs(Te[X])>Math.abs(Te[ge])&&(ge=X);if(ge!==q){for(Z=0;Z<m;Z++)Ae=g.get(ge,Z),g.set(ge,Z,g.get(q,Z)),g.set(q,Z,Ae);Xe=S[ge],S[ge]=S[q],S[q]=Xe,W=-W}if(q<d&&g.get(q,q)!==0)for(X=q+1;X<d;X++)g.set(X,q,g.get(X,q)/g.get(q,q))}this.LU=g,this.pivotVector=S,this.pivotSign=W}isSingular(){let _=this.LU,g=_.columns;for(let d=0;d<g;d++)if(_.get(d,d)===0)return!0;return!1}solve(_){_=de.checkMatrix(_);let g=this.LU;if(g.rows!==_.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let m=_.columns,S=_.subMatrixRow(this.pivotVector,0,m-1),W=g.columns,X,q,Z;for(Z=0;Z<W;Z++)for(X=Z+1;X<W;X++)for(q=0;q<m;q++)S.set(X,q,S.get(X,q)-S.get(Z,q)*g.get(X,Z));for(Z=W-1;Z>=0;Z--){for(q=0;q<m;q++)S.set(Z,q,S.get(Z,q)/g.get(Z,Z));for(X=0;X<Z;X++)for(q=0;q<m;q++)S.set(X,q,S.get(X,q)-S.get(Z,q)*g.get(X,Z))}return S}get determinant(){let _=this.LU;if(!_.isSquare())throw new Error("Matrix must be square");let g=this.pivotSign,d=_.columns;for(let m=0;m<d;m++)g*=_.get(m,m);return g}get lowerTriangularMatrix(){let _=this.LU,g=_.rows,d=_.columns,m=new de(g,d);for(let S=0;S<g;S++)for(let W=0;W<d;W++)S>W?m.set(S,W,_.get(S,W)):S===W?m.set(S,W,1):m.set(S,W,0);return m}get upperTriangularMatrix(){let _=this.LU,g=_.rows,d=_.columns,m=new de(g,d);for(let S=0;S<g;S++)for(let W=0;W<d;W++)S<=W?m.set(S,W,_.get(S,W)):m.set(S,W,0);return m}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function rt(D,_){let g=0;return Math.abs(D)>Math.abs(_)?(g=_/D,Math.abs(D)*Math.sqrt(1+g*g)):_!==0?(g=D/_,Math.abs(_)*Math.sqrt(1+g*g)):0}class ur{constructor(_){_=Dt.checkMatrix(_);let g=_.clone(),d=_.rows,m=_.columns,S=new Float64Array(m),W,X,q,Z;for(q=0;q<m;q++){let ge=0;for(W=q;W<d;W++)ge=rt(ge,g.get(W,q));if(ge!==0){for(g.get(q,q)<0&&(ge=-ge),W=q;W<d;W++)g.set(W,q,g.get(W,q)/ge);for(g.set(q,q,g.get(q,q)+1),X=q+1;X<m;X++){for(Z=0,W=q;W<d;W++)Z+=g.get(W,q)*g.get(W,X);for(Z=-Z/g.get(q,q),W=q;W<d;W++)g.set(W,X,g.get(W,X)+Z*g.get(W,q))}}S[q]=-ge}this.QR=g,this.Rdiag=S}solve(_){_=de.checkMatrix(_);let g=this.QR,d=g.rows;if(_.rows!==d)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let m=_.columns,S=_.clone(),W=g.columns,X,q,Z,ge;for(Z=0;Z<W;Z++)for(q=0;q<m;q++){for(ge=0,X=Z;X<d;X++)ge+=g.get(X,Z)*S.get(X,q);for(ge=-ge/g.get(Z,Z),X=Z;X<d;X++)S.set(X,q,S.get(X,q)+ge*g.get(X,Z))}for(Z=W-1;Z>=0;Z--){for(q=0;q<m;q++)S.set(Z,q,S.get(Z,q)/this.Rdiag[Z]);for(X=0;X<Z;X++)for(q=0;q<m;q++)S.set(X,q,S.get(X,q)-S.get(Z,q)*g.get(X,Z))}return S.subMatrix(0,W-1,0,m-1)}isFullRank(){let _=this.QR.columns;for(let g=0;g<_;g++)if(this.Rdiag[g]===0)return!1;return!0}get upperTriangularMatrix(){let _=this.QR,g=_.columns,d=new de(g,g),m,S;for(m=0;m<g;m++)for(S=0;S<g;S++)m<S?d.set(m,S,_.get(m,S)):m===S?d.set(m,S,this.Rdiag[m]):d.set(m,S,0);return d}get orthogonalMatrix(){let _=this.QR,g=_.rows,d=_.columns,m=new de(g,d),S,W,X,q;for(X=d-1;X>=0;X--){for(S=0;S<g;S++)m.set(S,X,0);for(m.set(X,X,1),W=X;W<d;W++)if(_.get(X,X)!==0){for(q=0,S=X;S<g;S++)q+=_.get(S,X)*m.get(S,W);for(q=-q/_.get(X,X),S=X;S<g;S++)m.set(S,W,m.get(S,W)+q*_.get(S,X))}}return m}}class qt{constructor(_,g={}){if(_=Dt.checkMatrix(_),_.isEmpty())throw new Error("Matrix must be non-empty");let d=_.rows,m=_.columns;const{computeLeftSingularVectors:S=!0,computeRightSingularVectors:W=!0,autoTranspose:X=!1}=g;let q=!!S,Z=!!W,ge=!1,ae;if(d<m)if(!X)ae=_.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ae=_.transpose(),d=ae.rows,m=ae.columns,ge=!0;let U=q;q=Z,Z=U}else ae=_.clone();let Ae=Math.min(d,m),Xe=Math.min(d+1,m),Te=new Float64Array(Xe),ke=new de(d,Ae),nt=new de(m,m),ce=new Float64Array(m),Ve=new Float64Array(d),st=new Float64Array(Xe);for(let U=0;U<Xe;U++)st[U]=U;let Ct=Math.min(d-1,m),At=Math.max(0,Math.min(m-2,d)),ar=Math.max(Ct,At);for(let U=0;U<ar;U++){if(U<Ct){Te[U]=0;for(let pe=U;pe<d;pe++)Te[U]=rt(Te[U],ae.get(pe,U));if(Te[U]!==0){ae.get(U,U)<0&&(Te[U]=-Te[U]);for(let pe=U;pe<d;pe++)ae.set(pe,U,ae.get(pe,U)/Te[U]);ae.set(U,U,ae.get(U,U)+1)}Te[U]=-Te[U]}for(let pe=U+1;pe<m;pe++){if(U<Ct&&Te[U]!==0){let Pe=0;for(let xe=U;xe<d;xe++)Pe+=ae.get(xe,U)*ae.get(xe,pe);Pe=-Pe/ae.get(U,U);for(let xe=U;xe<d;xe++)ae.set(xe,pe,ae.get(xe,pe)+Pe*ae.get(xe,U))}ce[pe]=ae.get(U,pe)}if(q&&U<Ct)for(let pe=U;pe<d;pe++)ke.set(pe,U,ae.get(pe,U));if(U<At){ce[U]=0;for(let pe=U+1;pe<m;pe++)ce[U]=rt(ce[U],ce[pe]);if(ce[U]!==0){ce[U+1]<0&&(ce[U]=0-ce[U]);for(let pe=U+1;pe<m;pe++)ce[pe]/=ce[U];ce[U+1]+=1}if(ce[U]=-ce[U],U+1<d&&ce[U]!==0){for(let pe=U+1;pe<d;pe++)Ve[pe]=0;for(let pe=U+1;pe<d;pe++)for(let Pe=U+1;Pe<m;Pe++)Ve[pe]+=ce[Pe]*ae.get(pe,Pe);for(let pe=U+1;pe<m;pe++){let Pe=-ce[pe]/ce[U+1];for(let xe=U+1;xe<d;xe++)ae.set(xe,pe,ae.get(xe,pe)+Pe*Ve[xe])}}if(Z)for(let pe=U+1;pe<m;pe++)nt.set(pe,U,ce[pe])}}let vt=Math.min(m,d+1);if(Ct<m&&(Te[Ct]=ae.get(Ct,Ct)),d<vt&&(Te[vt-1]=0),At+1<vt&&(ce[At]=ae.get(At,vt-1)),ce[vt-1]=0,q){for(let U=Ct;U<Ae;U++){for(let pe=0;pe<d;pe++)ke.set(pe,U,0);ke.set(U,U,1)}for(let U=Ct-1;U>=0;U--)if(Te[U]!==0){for(let pe=U+1;pe<Ae;pe++){let Pe=0;for(let xe=U;xe<d;xe++)Pe+=ke.get(xe,U)*ke.get(xe,pe);Pe=-Pe/ke.get(U,U);for(let xe=U;xe<d;xe++)ke.set(xe,pe,ke.get(xe,pe)+Pe*ke.get(xe,U))}for(let pe=U;pe<d;pe++)ke.set(pe,U,-ke.get(pe,U));ke.set(U,U,1+ke.get(U,U));for(let pe=0;pe<U-1;pe++)ke.set(pe,U,0)}else{for(let pe=0;pe<d;pe++)ke.set(pe,U,0);ke.set(U,U,1)}}if(Z)for(let U=m-1;U>=0;U--){if(U<At&&ce[U]!==0)for(let pe=U+1;pe<m;pe++){let Pe=0;for(let xe=U+1;xe<m;xe++)Pe+=nt.get(xe,U)*nt.get(xe,pe);Pe=-Pe/nt.get(U+1,U);for(let xe=U+1;xe<m;xe++)nt.set(xe,pe,nt.get(xe,pe)+Pe*nt.get(xe,U))}for(let pe=0;pe<m;pe++)nt.set(pe,U,0);nt.set(U,U,1)}let it=vt-1,Wt=Number.EPSILON;for(;vt>0;){let U,pe;for(U=vt-2;U>=-1&&U!==-1;U--){const Pe=Number.MIN_VALUE+Wt*Math.abs(Te[U]+Math.abs(Te[U+1]));if(Math.abs(ce[U])<=Pe||Number.isNaN(ce[U])){ce[U]=0;break}}if(U===vt-2)pe=4;else{let Pe;for(Pe=vt-1;Pe>=U&&Pe!==U;Pe--){let xe=(Pe!==vt?Math.abs(ce[Pe]):0)+(Pe!==U+1?Math.abs(ce[Pe-1]):0);if(Math.abs(Te[Pe])<=Wt*xe){Te[Pe]=0;break}}Pe===U?pe=3:Pe===vt-1?pe=1:(pe=2,U=Pe)}switch(U++,pe){case 1:{let Pe=ce[vt-2];ce[vt-2]=0;for(let xe=vt-2;xe>=U;xe--){let Ge=rt(Te[xe],Pe),je=Te[xe]/Ge,lt=Pe/Ge;if(Te[xe]=Ge,xe!==U&&(Pe=-lt*ce[xe-1],ce[xe-1]=je*ce[xe-1]),Z)for(let mt=0;mt<m;mt++)Ge=je*nt.get(mt,xe)+lt*nt.get(mt,vt-1),nt.set(mt,vt-1,-lt*nt.get(mt,xe)+je*nt.get(mt,vt-1)),nt.set(mt,xe,Ge)}break}case 2:{let Pe=ce[U-1];ce[U-1]=0;for(let xe=U;xe<vt;xe++){let Ge=rt(Te[xe],Pe),je=Te[xe]/Ge,lt=Pe/Ge;if(Te[xe]=Ge,Pe=-lt*ce[xe],ce[xe]=je*ce[xe],q)for(let mt=0;mt<d;mt++)Ge=je*ke.get(mt,xe)+lt*ke.get(mt,U-1),ke.set(mt,U-1,-lt*ke.get(mt,xe)+je*ke.get(mt,U-1)),ke.set(mt,xe,Ge)}break}case 3:{const Pe=Math.max(Math.abs(Te[vt-1]),Math.abs(Te[vt-2]),Math.abs(ce[vt-2]),Math.abs(Te[U]),Math.abs(ce[U])),xe=Te[vt-1]/Pe,Ge=Te[vt-2]/Pe,je=ce[vt-2]/Pe,lt=Te[U]/Pe,mt=ce[U]/Pe,kt=((Ge+xe)*(Ge-xe)+je*je)/2,nr=xe*je*(xe*je);let yr=0;(kt!==0||nr!==0)&&(kt<0?yr=0-Math.sqrt(kt*kt+nr):yr=Math.sqrt(kt*kt+nr),yr=nr/(kt+yr));let sn=(lt+xe)*(lt-xe)+yr,Hr=lt*mt;for(let jt=U;jt<vt-1;jt++){let ft=rt(sn,Hr);ft===0&&(ft=Number.MIN_VALUE);let Kt=sn/ft,fr=Hr/ft;if(jt!==U&&(ce[jt-1]=ft),sn=Kt*Te[jt]+fr*ce[jt],ce[jt]=Kt*ce[jt]-fr*Te[jt],Hr=fr*Te[jt+1],Te[jt+1]=Kt*Te[jt+1],Z)for(let gr=0;gr<m;gr++)ft=Kt*nt.get(gr,jt)+fr*nt.get(gr,jt+1),nt.set(gr,jt+1,-fr*nt.get(gr,jt)+Kt*nt.get(gr,jt+1)),nt.set(gr,jt,ft);if(ft=rt(sn,Hr),ft===0&&(ft=Number.MIN_VALUE),Kt=sn/ft,fr=Hr/ft,Te[jt]=ft,sn=Kt*ce[jt]+fr*Te[jt+1],Te[jt+1]=-fr*ce[jt]+Kt*Te[jt+1],Hr=fr*ce[jt+1],ce[jt+1]=Kt*ce[jt+1],q&&jt<d-1)for(let gr=0;gr<d;gr++)ft=Kt*ke.get(gr,jt)+fr*ke.get(gr,jt+1),ke.set(gr,jt+1,-fr*ke.get(gr,jt)+Kt*ke.get(gr,jt+1)),ke.set(gr,jt,ft)}ce[vt-2]=sn;break}case 4:{if(Te[U]<=0&&(Te[U]=Te[U]<0?-Te[U]:0,Z))for(let Pe=0;Pe<=it;Pe++)nt.set(Pe,U,-nt.get(Pe,U));for(;U<it&&!(Te[U]>=Te[U+1]);){let Pe=Te[U];if(Te[U]=Te[U+1],Te[U+1]=Pe,Z&&U<m-1)for(let xe=0;xe<m;xe++)Pe=nt.get(xe,U+1),nt.set(xe,U+1,nt.get(xe,U)),nt.set(xe,U,Pe);if(q&&U<d-1)for(let xe=0;xe<d;xe++)Pe=ke.get(xe,U+1),ke.set(xe,U+1,ke.get(xe,U)),ke.set(xe,U,Pe);U++}vt--;break}}}if(ge){let U=nt;nt=ke,ke=U}this.m=d,this.n=m,this.s=Te,this.U=ke,this.V=nt}solve(_){let g=_,d=this.threshold,m=this.s.length,S=de.zeros(m,m);for(let Ae=0;Ae<m;Ae++)Math.abs(this.s[Ae])<=d?S.set(Ae,Ae,0):S.set(Ae,Ae,1/this.s[Ae]);let W=this.U,X=this.rightSingularVectors,q=X.mmul(S),Z=X.rows,ge=W.rows,ae=de.zeros(Z,ge);for(let Ae=0;Ae<Z;Ae++)for(let Xe=0;Xe<ge;Xe++){let Te=0;for(let ke=0;ke<m;ke++)Te+=q.get(Ae,ke)*W.get(Xe,ke);ae.set(Ae,Xe,Te)}return ae.mmul(g)}solveForDiagonal(_){return this.solve(de.diag(_))}inverse(){let _=this.V,g=this.threshold,d=_.rows,m=_.columns,S=new de(d,this.s.length);for(let ge=0;ge<d;ge++)for(let ae=0;ae<m;ae++)Math.abs(this.s[ae])>g&&S.set(ge,ae,_.get(ge,ae)/this.s[ae]);let W=this.U,X=W.rows,q=W.columns,Z=new de(d,X);for(let ge=0;ge<d;ge++)for(let ae=0;ae<X;ae++){let Ae=0;for(let Xe=0;Xe<q;Xe++)Ae+=S.get(ge,Xe)*W.get(ae,Xe);Z.set(ge,ae,Ae)}return Z}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let _=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,g=0,d=this.s;for(let m=0,S=d.length;m<S;m++)d[m]>_&&g++;return g}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return de.diag(this.s)}}function Fe(D,_=!1){return D=Dt.checkMatrix(D),_?new qt(D).inverse():Qe(D,de.eye(D.rows))}function Qe(D,_,g=!1){return D=Dt.checkMatrix(D),_=Dt.checkMatrix(_),g?new qt(D).solve(_):D.isSquare()?new gt(D).solve(_):new ur(D).solve(_)}function dt(D){if(D=de.checkMatrix(D),D.isSquare()){if(D.columns===0)return 1;let _,g,d,m;if(D.columns===2)return _=D.get(0,0),g=D.get(0,1),d=D.get(1,0),m=D.get(1,1),_*m-g*d;if(D.columns===3){let S,W,X;return S=new Mt(D,[1,2],[1,2]),W=new Mt(D,[1,2],[0,2]),X=new Mt(D,[1,2],[0,1]),_=D.get(0,0),g=D.get(0,1),d=D.get(0,2),_*dt(S)-g*dt(W)+d*dt(X)}else return new gt(D).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Tt(D,_){let g=[];for(let d=0;d<D;d++)d!==_&&g.push(d);return g}function Ot(D,_,g,d=1e-9,m=1e-9){if(D>m)return new Array(_.rows+1).fill(0);{let S=_.addRow(g,[0]);for(let W=0;W<S.rows;W++)Math.abs(S.get(W,0))<d&&S.set(W,0,0);return S.to1DArray()}}function ct(D,_={}){const{thresholdValue:g=1e-9,thresholdError:d=1e-9}=_;D=de.checkMatrix(D);let m=D.rows,S=new de(m,m);for(let W=0;W<m;W++){let X=de.columnVector(D.getRow(W)),q=D.subMatrixRow(Tt(m,W)).transpose(),ge=new qt(q).solve(X),ae=de.sub(X,q.mmul(ge)).abs().max();S.setRow(W,Ot(ae,ge,W,g,d))}return S}function yt(D,_=Number.EPSILON){if(D=de.checkMatrix(D),D.isEmpty())return D.transpose();let g=new qt(D,{autoTranspose:!0}),d=g.leftSingularVectors,m=g.rightSingularVectors,S=g.diagonal;for(let W=0;W<S.length;W++)Math.abs(S[W])>_?S[W]=1/S[W]:S[W]=0;return m.mmul(de.diag(S).mmul(d.transpose()))}function tr(D,_=D,g={}){D=new de(D);let d=!1;if(typeof _=="object"&&!de.isMatrix(_)&&!t.isAnyArray(_)?(g=_,_=D,d=!0):_=new de(_),D.rows!==_.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:m=!0}=g;m&&(D=D.center("column"),d||(_=_.center("column")));const S=D.transpose().mmul(_);for(let W=0;W<S.rows;W++)for(let X=0;X<S.columns;X++)S.set(W,X,S.get(W,X)*(1/(D.rows-1)));return S}function Gt(D,_=D,g={}){D=new de(D);let d=!1;if(typeof _=="object"&&!de.isMatrix(_)&&!t.isAnyArray(_)?(g=_,_=D,d=!0):_=new de(_),D.rows!==_.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:m=!0,scale:S=!0}=g;m&&(D.center("column"),d||_.center("column")),S&&(D.scale("column"),d||_.scale("column"));const W=D.standardDeviation("column",{unbiased:!0}),X=d?W:_.standardDeviation("column",{unbiased:!0}),q=D.transpose().mmul(_);for(let Z=0;Z<q.rows;Z++)for(let ge=0;ge<q.columns;ge++)q.set(Z,ge,q.get(Z,ge)*(1/(W[Z]*X[ge]))*(1/(D.rows-1)));return q}class Zt{constructor(_,g={}){const{assumeSymmetric:d=!1}=g;if(_=Dt.checkMatrix(_),!_.isSquare())throw new Error("Matrix is not a square matrix");if(_.isEmpty())throw new Error("Matrix must be non-empty");let m=_.columns,S=new de(m,m),W=new Float64Array(m),X=new Float64Array(m),q=_,Z,ge,ae=!1;if(d?ae=!0:ae=_.isSymmetric(),ae){for(Z=0;Z<m;Z++)for(ge=0;ge<m;ge++)S.set(Z,ge,q.get(Z,ge));Ne(m,X,W,S),Ke(m,X,W,S)}else{let Ae=new de(m,m),Xe=new Float64Array(m);for(ge=0;ge<m;ge++)for(Z=0;Z<m;Z++)Ae.set(Z,ge,q.get(Z,ge));Et(m,Ae,Xe,S),Pt(m,X,W,S,Ae)}this.n=m,this.e=X,this.d=W,this.V=S}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let _=this.n,g=this.e,d=this.d,m=new de(_,_),S,W;for(S=0;S<_;S++){for(W=0;W<_;W++)m.set(S,W,0);m.set(S,S,d[S]),g[S]>0?m.set(S,S+1,g[S]):g[S]<0&&m.set(S,S-1,g[S])}return m}}function Ne(D,_,g,d){let m,S,W,X,q,Z,ge,ae;for(q=0;q<D;q++)g[q]=d.get(D-1,q);for(X=D-1;X>0;X--){for(ae=0,W=0,Z=0;Z<X;Z++)ae=ae+Math.abs(g[Z]);if(ae===0)for(_[X]=g[X-1],q=0;q<X;q++)g[q]=d.get(X-1,q),d.set(X,q,0),d.set(q,X,0);else{for(Z=0;Z<X;Z++)g[Z]/=ae,W+=g[Z]*g[Z];for(m=g[X-1],S=Math.sqrt(W),m>0&&(S=-S),_[X]=ae*S,W=W-m*S,g[X-1]=m-S,q=0;q<X;q++)_[q]=0;for(q=0;q<X;q++){for(m=g[q],d.set(q,X,m),S=_[q]+d.get(q,q)*m,Z=q+1;Z<=X-1;Z++)S+=d.get(Z,q)*g[Z],_[Z]+=d.get(Z,q)*m;_[q]=S}for(m=0,q=0;q<X;q++)_[q]/=W,m+=_[q]*g[q];for(ge=m/(W+W),q=0;q<X;q++)_[q]-=ge*g[q];for(q=0;q<X;q++){for(m=g[q],S=_[q],Z=q;Z<=X-1;Z++)d.set(Z,q,d.get(Z,q)-(m*_[Z]+S*g[Z]));g[q]=d.get(X-1,q),d.set(X,q,0)}}g[X]=W}for(X=0;X<D-1;X++){if(d.set(D-1,X,d.get(X,X)),d.set(X,X,1),W=g[X+1],W!==0){for(Z=0;Z<=X;Z++)g[Z]=d.get(Z,X+1)/W;for(q=0;q<=X;q++){for(S=0,Z=0;Z<=X;Z++)S+=d.get(Z,X+1)*d.get(Z,q);for(Z=0;Z<=X;Z++)d.set(Z,q,d.get(Z,q)-S*g[Z])}}for(Z=0;Z<=X;Z++)d.set(Z,X+1,0)}for(q=0;q<D;q++)g[q]=d.get(D-1,q),d.set(D-1,q,0);d.set(D-1,D-1,1),_[0]=0}function Ke(D,_,g,d){let m,S,W,X,q,Z,ge,ae,Ae,Xe,Te,ke,nt,ce,Ve,st;for(W=1;W<D;W++)_[W-1]=_[W];_[D-1]=0;let Ct=0,At=0,ar=Number.EPSILON;for(Z=0;Z<D;Z++){for(At=Math.max(At,Math.abs(g[Z])+Math.abs(_[Z])),ge=Z;ge<D&&!(Math.abs(_[ge])<=ar*At);)ge++;if(ge>Z)do{for(m=g[Z],ae=(g[Z+1]-m)/(2*_[Z]),Ae=rt(ae,1),ae<0&&(Ae=-Ae),g[Z]=_[Z]/(ae+Ae),g[Z+1]=_[Z]*(ae+Ae),Xe=g[Z+1],S=m-g[Z],W=Z+2;W<D;W++)g[W]-=S;for(Ct=Ct+S,ae=g[ge],Te=1,ke=Te,nt=Te,ce=_[Z+1],Ve=0,st=0,W=ge-1;W>=Z;W--)for(nt=ke,ke=Te,st=Ve,m=Te*_[W],S=Te*ae,Ae=rt(ae,_[W]),_[W+1]=Ve*Ae,Ve=_[W]/Ae,Te=ae/Ae,ae=Te*g[W]-Ve*m,g[W+1]=S+Ve*(Te*m+Ve*g[W]),q=0;q<D;q++)S=d.get(q,W+1),d.set(q,W+1,Ve*d.get(q,W)+Te*S),d.set(q,W,Te*d.get(q,W)-Ve*S);ae=-Ve*st*nt*ce*_[Z]/Xe,_[Z]=Ve*ae,g[Z]=Te*ae}while(Math.abs(_[Z])>ar*At);g[Z]=g[Z]+Ct,_[Z]=0}for(W=0;W<D-1;W++){for(q=W,ae=g[W],X=W+1;X<D;X++)g[X]<ae&&(q=X,ae=g[X]);if(q!==W)for(g[q]=g[W],g[W]=ae,X=0;X<D;X++)ae=d.get(X,W),d.set(X,W,d.get(X,q)),d.set(X,q,ae)}}function Et(D,_,g,d){let m=0,S=D-1,W,X,q,Z,ge,ae,Ae;for(ae=m+1;ae<=S-1;ae++){for(Ae=0,Z=ae;Z<=S;Z++)Ae=Ae+Math.abs(_.get(Z,ae-1));if(Ae!==0){for(q=0,Z=S;Z>=ae;Z--)g[Z]=_.get(Z,ae-1)/Ae,q+=g[Z]*g[Z];for(X=Math.sqrt(q),g[ae]>0&&(X=-X),q=q-g[ae]*X,g[ae]=g[ae]-X,ge=ae;ge<D;ge++){for(W=0,Z=S;Z>=ae;Z--)W+=g[Z]*_.get(Z,ge);for(W=W/q,Z=ae;Z<=S;Z++)_.set(Z,ge,_.get(Z,ge)-W*g[Z])}for(Z=0;Z<=S;Z++){for(W=0,ge=S;ge>=ae;ge--)W+=g[ge]*_.get(Z,ge);for(W=W/q,ge=ae;ge<=S;ge++)_.set(Z,ge,_.get(Z,ge)-W*g[ge])}g[ae]=Ae*g[ae],_.set(ae,ae-1,Ae*X)}}for(Z=0;Z<D;Z++)for(ge=0;ge<D;ge++)d.set(Z,ge,Z===ge?1:0);for(ae=S-1;ae>=m+1;ae--)if(_.get(ae,ae-1)!==0){for(Z=ae+1;Z<=S;Z++)g[Z]=_.get(Z,ae-1);for(ge=ae;ge<=S;ge++){for(X=0,Z=ae;Z<=S;Z++)X+=g[Z]*d.get(Z,ge);for(X=X/g[ae]/_.get(ae,ae-1),Z=ae;Z<=S;Z++)d.set(Z,ge,d.get(Z,ge)+X*g[Z])}}}function Pt(D,_,g,d,m){let S=D-1,W=0,X=D-1,q=Number.EPSILON,Z=0,ge=0,ae=0,Ae=0,Xe=0,Te=0,ke=0,nt=0,ce,Ve,st,Ct,At,ar,vt,it,Wt,U,pe,Pe,xe,Ge,je;for(ce=0;ce<D;ce++)for((ce<W||ce>X)&&(g[ce]=m.get(ce,ce),_[ce]=0),Ve=Math.max(ce-1,0);Ve<D;Ve++)ge=ge+Math.abs(m.get(ce,Ve));for(;S>=W;){for(Ct=S;Ct>W&&(Te=Math.abs(m.get(Ct-1,Ct-1))+Math.abs(m.get(Ct,Ct)),Te===0&&(Te=ge),!(Math.abs(m.get(Ct,Ct-1))<q*Te));)Ct--;if(Ct===S)m.set(S,S,m.get(S,S)+Z),g[S]=m.get(S,S),_[S]=0,S--,nt=0;else if(Ct===S-1){if(vt=m.get(S,S-1)*m.get(S-1,S),ae=(m.get(S-1,S-1)-m.get(S,S))/2,Ae=ae*ae+vt,ke=Math.sqrt(Math.abs(Ae)),m.set(S,S,m.get(S,S)+Z),m.set(S-1,S-1,m.get(S-1,S-1)+Z),it=m.get(S,S),Ae>=0){for(ke=ae>=0?ae+ke:ae-ke,g[S-1]=it+ke,g[S]=g[S-1],ke!==0&&(g[S]=it-vt/ke),_[S-1]=0,_[S]=0,it=m.get(S,S-1),Te=Math.abs(it)+Math.abs(ke),ae=it/Te,Ae=ke/Te,Xe=Math.sqrt(ae*ae+Ae*Ae),ae=ae/Xe,Ae=Ae/Xe,Ve=S-1;Ve<D;Ve++)ke=m.get(S-1,Ve),m.set(S-1,Ve,Ae*ke+ae*m.get(S,Ve)),m.set(S,Ve,Ae*m.get(S,Ve)-ae*ke);for(ce=0;ce<=S;ce++)ke=m.get(ce,S-1),m.set(ce,S-1,Ae*ke+ae*m.get(ce,S)),m.set(ce,S,Ae*m.get(ce,S)-ae*ke);for(ce=W;ce<=X;ce++)ke=d.get(ce,S-1),d.set(ce,S-1,Ae*ke+ae*d.get(ce,S)),d.set(ce,S,Ae*d.get(ce,S)-ae*ke)}else g[S-1]=it+ae,g[S]=it+ae,_[S-1]=ke,_[S]=-ke;S=S-2,nt=0}else{if(it=m.get(S,S),Wt=0,vt=0,Ct<S&&(Wt=m.get(S-1,S-1),vt=m.get(S,S-1)*m.get(S-1,S)),nt===10){for(Z+=it,ce=W;ce<=S;ce++)m.set(ce,ce,m.get(ce,ce)-it);Te=Math.abs(m.get(S,S-1))+Math.abs(m.get(S-1,S-2)),it=Wt=.75*Te,vt=-.4375*Te*Te}if(nt===30&&(Te=(Wt-it)/2,Te=Te*Te+vt,Te>0)){for(Te=Math.sqrt(Te),Wt<it&&(Te=-Te),Te=it-vt/((Wt-it)/2+Te),ce=W;ce<=S;ce++)m.set(ce,ce,m.get(ce,ce)-Te);Z+=Te,it=Wt=vt=.964}for(nt=nt+1,At=S-2;At>=Ct&&(ke=m.get(At,At),Xe=it-ke,Te=Wt-ke,ae=(Xe*Te-vt)/m.get(At+1,At)+m.get(At,At+1),Ae=m.get(At+1,At+1)-ke-Xe-Te,Xe=m.get(At+2,At+1),Te=Math.abs(ae)+Math.abs(Ae)+Math.abs(Xe),ae=ae/Te,Ae=Ae/Te,Xe=Xe/Te,!(At===Ct||Math.abs(m.get(At,At-1))*(Math.abs(Ae)+Math.abs(Xe))<q*(Math.abs(ae)*(Math.abs(m.get(At-1,At-1))+Math.abs(ke)+Math.abs(m.get(At+1,At+1))))));)At--;for(ce=At+2;ce<=S;ce++)m.set(ce,ce-2,0),ce>At+2&&m.set(ce,ce-3,0);for(st=At;st<=S-1&&(Ge=st!==S-1,st!==At&&(ae=m.get(st,st-1),Ae=m.get(st+1,st-1),Xe=Ge?m.get(st+2,st-1):0,it=Math.abs(ae)+Math.abs(Ae)+Math.abs(Xe),it!==0&&(ae=ae/it,Ae=Ae/it,Xe=Xe/it)),it!==0);st++)if(Te=Math.sqrt(ae*ae+Ae*Ae+Xe*Xe),ae<0&&(Te=-Te),Te!==0){for(st!==At?m.set(st,st-1,-Te*it):Ct!==At&&m.set(st,st-1,-m.get(st,st-1)),ae=ae+Te,it=ae/Te,Wt=Ae/Te,ke=Xe/Te,Ae=Ae/ae,Xe=Xe/ae,Ve=st;Ve<D;Ve++)ae=m.get(st,Ve)+Ae*m.get(st+1,Ve),Ge&&(ae=ae+Xe*m.get(st+2,Ve),m.set(st+2,Ve,m.get(st+2,Ve)-ae*ke)),m.set(st,Ve,m.get(st,Ve)-ae*it),m.set(st+1,Ve,m.get(st+1,Ve)-ae*Wt);for(ce=0;ce<=Math.min(S,st+3);ce++)ae=it*m.get(ce,st)+Wt*m.get(ce,st+1),Ge&&(ae=ae+ke*m.get(ce,st+2),m.set(ce,st+2,m.get(ce,st+2)-ae*Xe)),m.set(ce,st,m.get(ce,st)-ae),m.set(ce,st+1,m.get(ce,st+1)-ae*Ae);for(ce=W;ce<=X;ce++)ae=it*d.get(ce,st)+Wt*d.get(ce,st+1),Ge&&(ae=ae+ke*d.get(ce,st+2),d.set(ce,st+2,d.get(ce,st+2)-ae*Xe)),d.set(ce,st,d.get(ce,st)-ae),d.set(ce,st+1,d.get(ce,st+1)-ae*Ae)}}}if(ge!==0){for(S=D-1;S>=0;S--)if(ae=g[S],Ae=_[S],Ae===0)for(Ct=S,m.set(S,S,1),ce=S-1;ce>=0;ce--){for(vt=m.get(ce,ce)-ae,Xe=0,Ve=Ct;Ve<=S;Ve++)Xe=Xe+m.get(ce,Ve)*m.get(Ve,S);if(_[ce]<0)ke=vt,Te=Xe;else if(Ct=ce,_[ce]===0?m.set(ce,S,vt!==0?-Xe/vt:-Xe/(q*ge)):(it=m.get(ce,ce+1),Wt=m.get(ce+1,ce),Ae=(g[ce]-ae)*(g[ce]-ae)+_[ce]*_[ce],ar=(it*Te-ke*Xe)/Ae,m.set(ce,S,ar),m.set(ce+1,S,Math.abs(it)>Math.abs(ke)?(-Xe-vt*ar)/it:(-Te-Wt*ar)/ke)),ar=Math.abs(m.get(ce,S)),q*ar*ar>1)for(Ve=ce;Ve<=S;Ve++)m.set(Ve,S,m.get(Ve,S)/ar)}else if(Ae<0)for(Ct=S-1,Math.abs(m.get(S,S-1))>Math.abs(m.get(S-1,S))?(m.set(S-1,S-1,Ae/m.get(S,S-1)),m.set(S-1,S,-(m.get(S,S)-ae)/m.get(S,S-1))):(je=Yt(0,-m.get(S-1,S),m.get(S-1,S-1)-ae,Ae),m.set(S-1,S-1,je[0]),m.set(S-1,S,je[1])),m.set(S,S-1,0),m.set(S,S,1),ce=S-2;ce>=0;ce--){for(U=0,pe=0,Ve=Ct;Ve<=S;Ve++)U=U+m.get(ce,Ve)*m.get(Ve,S-1),pe=pe+m.get(ce,Ve)*m.get(Ve,S);if(vt=m.get(ce,ce)-ae,_[ce]<0)ke=vt,Xe=U,Te=pe;else if(Ct=ce,_[ce]===0?(je=Yt(-U,-pe,vt,Ae),m.set(ce,S-1,je[0]),m.set(ce,S,je[1])):(it=m.get(ce,ce+1),Wt=m.get(ce+1,ce),Pe=(g[ce]-ae)*(g[ce]-ae)+_[ce]*_[ce]-Ae*Ae,xe=(g[ce]-ae)*2*Ae,Pe===0&&xe===0&&(Pe=q*ge*(Math.abs(vt)+Math.abs(Ae)+Math.abs(it)+Math.abs(Wt)+Math.abs(ke))),je=Yt(it*Xe-ke*U+Ae*pe,it*Te-ke*pe-Ae*U,Pe,xe),m.set(ce,S-1,je[0]),m.set(ce,S,je[1]),Math.abs(it)>Math.abs(ke)+Math.abs(Ae)?(m.set(ce+1,S-1,(-U-vt*m.get(ce,S-1)+Ae*m.get(ce,S))/it),m.set(ce+1,S,(-pe-vt*m.get(ce,S)-Ae*m.get(ce,S-1))/it)):(je=Yt(-Xe-Wt*m.get(ce,S-1),-Te-Wt*m.get(ce,S),ke,Ae),m.set(ce+1,S-1,je[0]),m.set(ce+1,S,je[1]))),ar=Math.max(Math.abs(m.get(ce,S-1)),Math.abs(m.get(ce,S))),q*ar*ar>1)for(Ve=ce;Ve<=S;Ve++)m.set(Ve,S-1,m.get(Ve,S-1)/ar),m.set(Ve,S,m.get(Ve,S)/ar)}for(ce=0;ce<D;ce++)if(ce<W||ce>X)for(Ve=ce;Ve<D;Ve++)d.set(ce,Ve,m.get(ce,Ve));for(Ve=D-1;Ve>=W;Ve--)for(ce=W;ce<=X;ce++){for(ke=0,st=W;st<=Math.min(Ve,X);st++)ke=ke+d.get(ce,st)*m.get(st,Ve);d.set(ce,Ve,ke)}}}function Yt(D,_,g,d){let m,S;return Math.abs(g)>Math.abs(d)?(m=d/g,S=g+m*d,[(D+m*_)/S,(_-m*D)/S]):(m=g/d,S=d+m*g,[(m*D+_)/S,(m*_-D)/S])}class Pr{constructor(_){if(_=Dt.checkMatrix(_),!_.isSymmetric())throw new Error("Matrix is not symmetric");let g=_,d=g.rows,m=new de(d,d),S=!0,W,X,q;for(X=0;X<d;X++){let Z=0;for(q=0;q<X;q++){let ge=0;for(W=0;W<q;W++)ge+=m.get(q,W)*m.get(X,W);ge=(g.get(X,q)-ge)/m.get(q,q),m.set(X,q,ge),Z=Z+ge*ge}for(Z=g.get(X,X)-Z,S&&(S=Z>0),m.set(X,X,Math.sqrt(Math.max(Z,0))),q=X+1;q<d;q++)m.set(X,q,0)}this.L=m,this.positiveDefinite=S}isPositiveDefinite(){return this.positiveDefinite}solve(_){_=Dt.checkMatrix(_);let g=this.L,d=g.rows;if(_.rows!==d)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let m=_.columns,S=_.clone(),W,X,q;for(q=0;q<d;q++)for(X=0;X<m;X++){for(W=0;W<q;W++)S.set(q,X,S.get(q,X)-S.get(W,X)*g.get(q,W));S.set(q,X,S.get(q,X)/g.get(q,q))}for(q=d-1;q>=0;q--)for(X=0;X<m;X++){for(W=q+1;W<d;W++)S.set(q,X,S.get(q,X)-S.get(W,X)*g.get(W,q));S.set(q,X,S.get(q,X)/g.get(q,q))}return S}get lowerTriangularMatrix(){return this.L}}class Nr{constructor(_,g={}){_=Dt.checkMatrix(_);let{Y:d}=g;const{scaleScores:m=!1,maxIterations:S=1e3,terminationCriteria:W=1e-10}=g;let X;if(d){if(t.isAnyArray(d)&&typeof d[0]=="number"?d=de.columnVector(d):d=Dt.checkMatrix(d),d.rows!==_.rows)throw new Error("Y should have the same number of rows as X");X=d.getColumnVector(0)}else X=_.getColumnVector(0);let q=1,Z,ge,ae,Ae;for(let Xe=0;Xe<S&&q>W;Xe++)ae=_.transpose().mmul(X).div(X.transpose().mmul(X).get(0,0)),ae=ae.div(ae.norm()),Z=_.mmul(ae).div(ae.transpose().mmul(ae).get(0,0)),Xe>0&&(q=Z.clone().sub(Ae).pow(2).sum()),Ae=Z.clone(),d?(ge=d.transpose().mmul(Z).div(Z.transpose().mmul(Z).get(0,0)),ge=ge.div(ge.norm()),X=d.mmul(ge).div(ge.transpose().mmul(ge).get(0,0))):X=Z;if(d){let Xe=_.transpose().mmul(Z).div(Z.transpose().mmul(Z).get(0,0));Xe=Xe.div(Xe.norm());let Te=_.clone().sub(Z.clone().mmul(Xe.transpose())),ke=X.transpose().mmul(Z).div(Z.transpose().mmul(Z).get(0,0)),nt=d.clone().sub(Z.clone().mulS(ke.get(0,0)).mmul(ge.transpose()));this.t=Z,this.p=Xe.transpose(),this.w=ae.transpose(),this.q=ge,this.u=X,this.s=Z.transpose().mmul(Z),this.xResidual=Te,this.yResidual=nt,this.betas=ke}else this.w=ae.transpose(),this.s=Z.transpose().mmul(Z).sqrt(),m?this.t=Z.clone().div(this.s.get(0,0)):this.t=Z,this.xResidual=_.sub(Z.mmul(ae.transpose()))}}return Jt.AbstractMatrix=ue,Jt.CHO=Pr,Jt.CholeskyDecomposition=Pr,Jt.DistanceMatrix=$e,Jt.EVD=Zt,Jt.EigenvalueDecomposition=Zt,Jt.LU=gt,Jt.LuDecomposition=gt,Jt.Matrix=de,Jt.MatrixColumnSelectionView=Ue,Jt.MatrixColumnView=Oe,Jt.MatrixFlipColumnView=ot,Jt.MatrixFlipRowView=qe,Jt.MatrixRowSelectionView=et,Jt.MatrixRowView=ut,Jt.MatrixSelectionView=Mt,Jt.MatrixSubView=Ut,Jt.MatrixTransposeView=bt,Jt.NIPALS=Nr,Jt.Nipals=Nr,Jt.QR=ur,Jt.QrDecomposition=ur,Jt.SVD=qt,Jt.SingularValueDecomposition=qt,Jt.SymmetricMatrix=De,Jt.WrapperMatrix1D=xt,Jt.WrapperMatrix2D=Dt,Jt.correlation=Gt,Jt.covariance=tr,Jt.default=de,Jt.determinant=dt,Jt.inverse=Fe,Jt.linearDependencies=ct,Jt.pseudoInverse=yt,Jt.solve=Qe,Jt.wrap=Lt,Jt}var io=dV();const lS=kd(io),hV=io.EVD,ki=io.Matrix,pV=io.MatrixTransposeView,gV=io.NIPALS,mV=io.SVD;lS.Matrix?lS.Matrix:io.Matrix;const _V=io.inverse;function yV(t,e,r,n,i){const s=r.length,l=t.x.length;let c=new Array(s);for(let f=0;f<s;f++){c[f]=new Array(l);let h=r.slice();h[f]+=n;let y=i(h);for(let b=0;b<l;b++)c[f][b]=e[b]-y(t.x[b])}return new ki(c)}function vV(t,e){const r=t.x.length;let n=new Array(r);for(let i=0;i<r;i++)n[i]=[t.y[i]-e[i]];return new ki(n)}function wV(t,e,r,n,i){let s=r*n*n,l=ki.eye(e.length,e.length,s);const c=i(e);let f=new Float64Array(t.x.length);for(let w=0;w<t.x.length;w++)f[w]=c(t.x[w]);let h=yV(t,f,e,n,i),y=vV(t,f),b=_V(l.add(h.mmul(h.transpose())));return e=new ki([e]),e=e.sub(b.mmul(h).mmul(y).mul(n).transpose()),e.to1DArray()}function bV(t,e,r={}){let{maxIterations:n=100,gradientDifference:i=.1,damping:s=0,errorTolerance:l=.01,minValues:c,maxValues:f,initialValues:h}=r;if(s<=0)throw new Error("The damping option must be a positive number");if(!t.x||!t.y)throw new Error("The data parameter must have x and y elements");if(!Yg(t.x)||t.x.length<2||!Yg(t.y)||t.y.length<2)throw new Error("The data parameter elements must be an array with more than 2 points");if(t.x.length!==t.y.length)throw new Error("The data parameter elements must have the same size");let y=h||new Array(e.length).fill(1),b=y.length;if(f=f||new Array(b).fill(Number.MAX_SAFE_INTEGER),c=c||new Array(b).fill(Number.MIN_SAFE_INTEGER),f.length!==c.length)throw new Error("minValues and maxValues must be the same size");if(!Yg(y))throw new Error("initialValues must be an array");let w=sS(t,y,e),x=w<=l,A;for(A=0;A<n&&!x;A++){y=wV(t,y,s,i,e);for(let E=0;E<b;E++)y[E]=Math.min(Math.max(c[E],y[E]),f[E]);if(w=sS(t,y,e),isNaN(w))break;x=w<=l}return{parameterValues:y,parameterError:w,iterations:A}}const SV=Object.freeze(Object.defineProperty({__proto__:null,default:bV},Symbol.toStringTag,{value:"Module"})),TV=o0(SV);var cS;function EV(){if(cS)return Ir;cS=1;var t=Ir.__createBinding||(Object.create?function(C,F,K,V){V===void 0&&(V=K),Object.defineProperty(C,V,{enumerable:!0,get:function(){return F[K]}})}:function(C,F,K,V){V===void 0&&(V=K),C[V]=F[K]}),e=Ir.__setModuleDefault||(Object.create?function(C,F){Object.defineProperty(C,"default",{enumerable:!0,value:F})}:function(C,F){C.default=F}),r=Ir.__importStar||function(C){if(C&&C.__esModule)return C;var F={};if(C!=null)for(var K in C)K!=="default"&&Object.hasOwnProperty.call(C,K)&&t(F,C,K);return e(F,C),F},n=Ir.__awaiter||function(C,F,K,V){function Q(J){return J instanceof K?J:new K(function(ie){ie(J)})}return new(K||(K=Promise))(function(J,ie){function ve(ye){try{re(V.next(ye))}catch(G){ie(G)}}function se(ye){try{re(V.throw(ye))}catch(G){ie(G)}}function re(ye){ye.done?J(ye.value):Q(ye.value).then(ve,se)}re((V=V.apply(C,F||[])).next())})},i=Ir.__generator||function(C,F){var K={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},V,Q,J,ie;return ie={next:ve(0),throw:ve(1),return:ve(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function ve(re){return function(ye){return se([re,ye])}}function se(re){if(V)throw new TypeError("Generator is already executing.");for(;K;)try{if(V=1,Q&&(J=re[0]&2?Q.return:re[0]?Q.throw||((J=Q.return)&&J.call(Q),0):Q.next)&&!(J=J.call(Q,re[1])).done)return J;switch(Q=0,J&&(re=[re[0]&2,J.value]),re[0]){case 0:case 1:J=re;break;case 4:return K.label++,{value:re[1],done:!1};case 5:K.label++,Q=re[1],re=[0];continue;case 7:re=K.ops.pop(),K.trys.pop();continue;default:if(J=K.trys,!(J=J.length>0&&J[J.length-1])&&(re[0]===6||re[0]===2)){K=0;continue}if(re[0]===3&&(!J||re[1]>J[0]&&re[1]<J[3])){K.label=re[1];break}if(re[0]===6&&K.label<J[1]){K.label=J[1],J=re;break}if(J&&K.label<J[2]){K.label=J[2],K.ops.push(re);break}J[2]&&K.ops.pop(),K.trys.pop();continue}re=F.call(C,K)}catch(ye){re=[6,ye],Q=0}finally{V=J=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}},s=Ir.__read||function(C,F){var K=typeof Symbol=="function"&&C[Symbol.iterator];if(!K)return C;var V=K.call(C),Q,J=[],ie;try{for(;(F===void 0||F-- >0)&&!(Q=V.next()).done;)J.push(Q.value)}catch(ve){ie={error:ve}}finally{try{Q&&!Q.done&&(K=V.return)&&K.call(V)}finally{if(ie)throw ie.error}}return J},l=Ir.__spread||function(){for(var C=[],F=0;F<arguments.length;F++)C=C.concat(s(arguments[F]));return C},c=Ir.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.initTransform=Ir.resetLocalConnectivity=Ir.fastIntersection=Ir.findABParams=Ir.cosine=Ir.euclidean=Ir.UMAP=void 0;var f=r(TR()),h=r(ER()),y=r(Z$()),b=r(RR()),w=r(eu()),x=c(TV),A=1e-5,E=.001,k=function(){function C(F){var K=this;F===void 0&&(F={}),this.learningRate=1,this.localConnectivity=1,this.minDist=.1,this.nComponents=2,this.nEpochs=0,this.nNeighbors=15,this.negativeSampleRate=5,this.random=Math.random,this.repulsionStrength=1,this.setOpMixRatio=1,this.spread=1,this.transformQueueSize=4,this.targetMetric="categorical",this.targetWeight=.5,this.targetNNeighbors=this.nNeighbors,this.distanceFn=O,this.isInitialized=!1,this.rpForest=[],this.embedding=[],this.optimizationState=new M;var V=function(Q){F[Q]!==void 0&&(K[Q]=F[Q])};V("distanceFn"),V("learningRate"),V("localConnectivity"),V("minDist"),V("nComponents"),V("nEpochs"),V("nNeighbors"),V("negativeSampleRate"),V("random"),V("repulsionStrength"),V("setOpMixRatio"),V("spread"),V("transformQueueSize")}return C.prototype.fit=function(F){return this.initializeFit(F),this.optimizeLayout(),this.embedding},C.prototype.fitAsync=function(F,K){return K===void 0&&(K=function(){return!0}),n(this,void 0,void 0,function(){return i(this,function(V){switch(V.label){case 0:return this.initializeFit(F),[4,this.optimizeLayoutAsync(K)];case 1:return V.sent(),[2,this.embedding]}})})},C.prototype.setSupervisedProjection=function(F,K){K===void 0&&(K={}),this.Y=F,this.targetMetric=K.targetMetric||this.targetMetric,this.targetWeight=K.targetWeight||this.targetWeight,this.targetNNeighbors=K.targetNNeighbors||this.targetNNeighbors},C.prototype.setPrecomputedKNN=function(F,K){this.knnIndices=F,this.knnDistances=K},C.prototype.initializeFit=function(F){if(F.length<=this.nNeighbors)throw new Error("Not enough data points ("+F.length+") to create nNeighbors: "+this.nNeighbors+".  Add more data points or adjust the configuration.");if(this.X===F&&this.isInitialized)return this.getNEpochs();if(this.X=F,!this.knnIndices&&!this.knnDistances){var K=this.nearestNeighbors(F);this.knnIndices=K.knnIndices,this.knnDistances=K.knnDistances}this.graph=this.fuzzySimplicialSet(F,this.nNeighbors,this.setOpMixRatio),this.makeSearchFns(),this.searchGraph=this.makeSearchGraph(F),this.processGraphForSupervisedProjection();var V=this.initializeSimplicialSetEmbedding(),Q=V.head,J=V.tail,ie=V.epochsPerSample;return this.optimizationState.head=Q,this.optimizationState.tail=J,this.optimizationState.epochsPerSample=ie,this.initializeOptimization(),this.prepareForOptimizationLoop(),this.isInitialized=!0,this.getNEpochs()},C.prototype.makeSearchFns=function(){var F=y.makeInitializations(this.distanceFn),K=F.initFromTree,V=F.initFromRandom;this.initFromTree=K,this.initFromRandom=V,this.search=y.makeInitializedNNSearch(this.distanceFn)},C.prototype.makeSearchGraph=function(F){for(var K=this.knnIndices,V=this.knnDistances,Q=[F.length,F.length],J=new h.SparseMatrix([],[],[],Q),ie=0;ie<K.length;ie++)for(var ve=K[ie],se=V[ie],re=0;re<ve.length;re++){var ye=ve[re],G=se[re];G>0&&J.set(ie,ye,G)}var ue=h.transpose(J);return h.maximum(J,ue)},C.prototype.transform=function(F){var K=this,V=this.X;if(V===void 0||V.length===0)throw new Error("No data has been fit.");var Q=Math.floor(this.nNeighbors*this.transformQueueSize);Q=Math.min(V.length,Q);var J=y.initializeSearch(this.rpForest,V,F,Q,this.initFromRandom,this.initFromTree,this.random),ie=this.search(V,this.searchGraph,J,F),ve=f.deheapSort(ie),se=ve.indices,re=ve.weights;se=se.map(function(gt){return gt.slice(0,K.nNeighbors)}),re=re.map(function(gt){return gt.slice(0,K.nNeighbors)});var ye=Math.max(0,this.localConnectivity-1),G=this.smoothKNNDistance(re,this.nNeighbors,ye),ue=G.sigmas,Se=G.rhos,Me=this.computeMembershipStrengths(se,re,ue,Se),de=Me.rows,De=Me.cols,$e=Me.vals,Be=[F.length,V.length],Oe=new h.SparseMatrix(de,De,$e,Be),Ue=h.normalize(Oe,"l1"),ot=h.getCSR(Ue),qe=F.length,ut=w.reshape2d(ot.indices,qe,this.nNeighbors),et=w.reshape2d(ot.values,qe,this.nNeighbors),Mt=oe(ut,et,this.embedding),Ut=this.nEpochs?this.nEpochs/3:Oe.nRows<=1e4?100:30,bt=Oe.getValues().reduce(function(gt,rt){return rt>gt?rt:gt},0);Oe=Oe.map(function(gt){return gt<bt/Ut?0:gt}),Oe=h.eliminateZeros(Oe);var xt=this.makeEpochsPerSample(Oe.getValues(),Ut),Dt=Oe.getRows(),Lt=Oe.getCols();return this.assignOptimizationStateParameters({headEmbedding:Mt,tailEmbedding:this.embedding,head:Dt,tail:Lt,currentEpoch:0,nEpochs:Ut,nVertices:Oe.getDims()[1],epochsPerSample:xt}),this.prepareForOptimizationLoop(),this.optimizeLayout()},C.prototype.processGraphForSupervisedProjection=function(){var F=this,K=F.Y,V=F.X;if(K){if(K.length!==V.length)throw new Error("Length of X and y must be equal");if(this.targetMetric==="categorical"){var Q=this.targetWeight<1,J=Q?2.5*(1/(1-this.targetWeight)):1e12;this.graph=this.categoricalSimplicialSetIntersection(this.graph,K,J)}}},C.prototype.step=function(){var F=this.optimizationState.currentEpoch;return F<this.getNEpochs()&&this.optimizeLayoutStep(F),this.optimizationState.currentEpoch},C.prototype.getEmbedding=function(){return this.embedding},C.prototype.nearestNeighbors=function(F){var K=this,V=K.distanceFn,Q=K.nNeighbors,J=function(Me){return Math.log(Me)/Math.log(2)},ie=y.makeNNDescent(V,this.random),ve=function(Me){return Me===.5?0:Math.round(Me)},se=5+Math.floor(ve(Math.pow(F.length,.5)/20)),re=Math.max(5,Math.floor(Math.round(J(F.length))));this.rpForest=b.makeForest(F,Q,se,this.random);var ye=b.makeLeafArray(this.rpForest),G=ie(F,ye,Q,re),ue=G.indices,Se=G.weights;return{knnIndices:ue,knnDistances:Se}},C.prototype.fuzzySimplicialSet=function(F,K,V){V===void 0&&(V=1);var Q=this,J=Q.knnIndices,ie=J===void 0?[]:J,ve=Q.knnDistances,se=ve===void 0?[]:ve,re=Q.localConnectivity,ye=this.smoothKNNDistance(se,K,re),G=ye.sigmas,ue=ye.rhos,Se=this.computeMembershipStrengths(ie,se,G,ue),Me=Se.rows,de=Se.cols,De=Se.vals,$e=[F.length,F.length],Be=new h.SparseMatrix(Me,de,De,$e),Oe=h.transpose(Be),Ue=h.pairwiseMultiply(Be,Oe),ot=h.subtract(h.add(Be,Oe),Ue),qe=h.multiplyScalar(ot,V),ut=h.multiplyScalar(Ue,1-V),et=h.add(qe,ut);return et},C.prototype.categoricalSimplicialSetIntersection=function(F,K,V,Q){Q===void 0&&(Q=1);var J=j(F,K,Q,V);return J=h.eliminateZeros(J),te(J)},C.prototype.smoothKNNDistance=function(F,K,V,Q,J){V===void 0&&(V=1),Q===void 0&&(Q=64),J===void 0&&(J=1);for(var ie=Math.log(K)/Math.log(2)*J,ve=w.zeros(F.length),se=w.zeros(F.length),re=0;re<F.length;re++){var ye=0,G=1/0,ue=1,Se=F[re],Me=Se.filter(function(ut){return ut>0});if(Me.length>=V){var de=Math.floor(V),De=V-de;de>0?(ve[re]=Me[de-1],De>A&&(ve[re]+=De*(Me[de]-Me[de-1]))):ve[re]=De*Me[0]}else Me.length>0&&(ve[re]=w.max(Me));for(var $e=0;$e<Q;$e++){for(var Be=0,Oe=1;Oe<F[re].length;Oe++){var Ue=F[re][Oe]-ve[re];Ue>0?Be+=Math.exp(-(Ue/ue)):Be+=1}if(Math.abs(Be-ie)<A)break;Be>ie?(G=ue,ue=(ye+G)/2):(ye=ue,G===1/0?ue*=2:ue=(ye+G)/2)}if(se[re]=ue,ve[re]>0){var ot=w.mean(Se);se[re]<E*ot&&(se[re]=E*ot)}else{var qe=w.mean(F.map(w.mean));se[re]<E*qe&&(se[re]=E*qe)}}return{sigmas:se,rhos:ve}},C.prototype.computeMembershipStrengths=function(F,K,V,Q){for(var J=F.length,ie=F[0].length,ve=w.zeros(J*ie),se=w.zeros(J*ie),re=w.zeros(J*ie),ye=0;ye<J;ye++)for(var G=0;G<ie;G++){var ue=0;F[ye][G]!==-1&&(F[ye][G]===ye?ue=0:K[ye][G]-Q[ye]<=0?ue=1:ue=Math.exp(-((K[ye][G]-Q[ye])/V[ye])),ve[ye*ie+G]=ye,se[ye*ie+G]=F[ye][G],re[ye*ie+G]=ue)}return{rows:ve,cols:se,vals:re}},C.prototype.initializeSimplicialSetEmbedding=function(){for(var F=this,K=this.getNEpochs(),V=this.nComponents,Q=this.graph.getValues(),J=0,ie=0;ie<Q.length;ie++){var ve=Q[ie];J<Q[ie]&&(J=ve)}var se=this.graph.map(function(de){return de<J/K?0:de});this.embedding=w.zeros(se.nRows).map(function(){return w.zeros(V).map(function(){return w.tauRand(F.random)*20+-10})});for(var re=[],ye=[],G=[],ue=se.getAll(),ie=0;ie<ue.length;ie++){var Se=ue[ie];Se.value&&(re.push(Se.value),G.push(Se.row),ye.push(Se.col))}var Me=this.makeEpochsPerSample(re,K);return{head:ye,tail:G,epochsPerSample:Me}},C.prototype.makeEpochsPerSample=function(F,K){var V=w.filled(F.length,-1),Q=w.max(F),J=F.map(function(ie){return ie/Q*K});return J.forEach(function(ie,ve){ie>0&&(V[ve]=K/J[ve])}),V},C.prototype.assignOptimizationStateParameters=function(F){Object.assign(this.optimizationState,F)},C.prototype.prepareForOptimizationLoop=function(){var F=this,K=F.repulsionStrength,V=F.learningRate,Q=F.negativeSampleRate,J=this.optimizationState,ie=J.epochsPerSample,ve=J.headEmbedding,se=J.tailEmbedding,re=ve[0].length,ye=ve.length===se.length,G=ie.map(function(Me){return Me/Q}),ue=l(G),Se=l(ie);this.assignOptimizationStateParameters({epochOfNextSample:Se,epochOfNextNegativeSample:ue,epochsPerNegativeSample:G,moveOther:ye,initialAlpha:V,alpha:V,gamma:K,dim:re})},C.prototype.initializeOptimization=function(){var F=this.embedding,K=this.embedding,V=this.optimizationState,Q=V.head,J=V.tail,ie=V.epochsPerSample,ve=this.getNEpochs(),se=this.graph.nCols,re=I(this.spread,this.minDist),ye=re.a,G=re.b;this.assignOptimizationStateParameters({headEmbedding:F,tailEmbedding:K,head:Q,tail:J,epochsPerSample:ie,a:ye,b:G,nEpochs:ve,nVertices:se})},C.prototype.optimizeLayoutStep=function(F){for(var K=this.optimizationState,V=K.head,Q=K.tail,J=K.headEmbedding,ie=K.tailEmbedding,ve=K.epochsPerSample,se=K.epochOfNextSample,re=K.epochOfNextNegativeSample,ye=K.epochsPerNegativeSample,G=K.moveOther,ue=K.initialAlpha,Se=K.alpha,Me=K.gamma,de=K.a,De=K.b,$e=K.dim,Be=K.nEpochs,Oe=K.nVertices,Ue=4,ot=0;ot<ve.length;ot++)if(!(se[ot]>F)){var qe=V[ot],ut=Q[ot],et=J[qe],Mt=ie[ut],Ut=P(et,Mt),bt=0;Ut>0&&(bt=-2*de*De*Math.pow(Ut,De-1),bt/=de*Math.pow(Ut,De)+1);for(var xt=0;xt<$e;xt++){var Dt=R(bt*(et[xt]-Mt[xt]),Ue);et[xt]+=Dt*Se,G&&(Mt[xt]+=-Dt*Se)}se[ot]+=ve[ot];for(var Lt=Math.floor((F-re[ot])/ye[ot]),gt=0;gt<Lt;gt++){var rt=w.tauRandInt(Oe,this.random),ur=ie[rt],qt=P(et,ur),Fe=0;if(qt>0)Fe=2*Me*De,Fe/=(.001+qt)*(de*Math.pow(qt,De)+1);else if(qe===rt)continue;for(var xt=0;xt<$e;xt++){var Dt=4;Fe>0&&(Dt=R(Fe*(et[xt]-ur[xt]),Ue)),et[xt]+=Dt*Se}}re[ot]+=Lt*ye[ot]}return K.alpha=ue*(1-F/Be),K.currentEpoch+=1,J},C.prototype.optimizeLayoutAsync=function(F){var K=this;return F===void 0&&(F=function(){return!0}),new Promise(function(V,Q){var J=function(){return n(K,void 0,void 0,function(){var ie,ve,se,re,ye,G;return i(this,function(ue){try{if(ie=this.optimizationState,ve=ie.nEpochs,se=ie.currentEpoch,this.embedding=this.optimizeLayoutStep(se),re=this.optimizationState.currentEpoch,ye=F(re)===!1,G=re===ve,!ye&&!G)setTimeout(function(){return J()},0);else return[2,V(G)]}catch(Se){Q(Se)}return[2]})})};setTimeout(function(){return J()},0)})},C.prototype.optimizeLayout=function(F){F===void 0&&(F=function(){return!0});for(var K=!1,V=[];!K;){var Q=this.optimizationState,J=Q.nEpochs,ie=Q.currentEpoch;V=this.optimizeLayoutStep(ie);var ve=this.optimizationState.currentEpoch,se=F(ve)===!1;K=ve===J||se}return V},C.prototype.getNEpochs=function(){var F=this.graph;if(this.nEpochs>0)return this.nEpochs;var K=F.nRows;return K<=2500?500:K<=5e3?400:K<=7500?300:200},C}();Ir.UMAP=k;function O(C,F){for(var K=0,V=0;V<C.length;V++)K+=Math.pow(C[V]-F[V],2);return Math.sqrt(K)}Ir.euclidean=O;function N(C,F){for(var K=0,V=0,Q=0,J=0;J<C.length;J++)K+=C[J]*F[J],V+=Math.pow(C[J],2),Q+=Math.pow(F[J],2);return V===0&&Q===0?0:V===0||Q===0?1:1-K/Math.sqrt(V*Q)}Ir.cosine=N;var M=function(){function C(){this.currentEpoch=0,this.headEmbedding=[],this.tailEmbedding=[],this.head=[],this.tail=[],this.epochsPerSample=[],this.epochOfNextSample=[],this.epochOfNextNegativeSample=[],this.epochsPerNegativeSample=[],this.moveOther=!0,this.initialAlpha=1,this.alpha=1,this.gamma=1,this.a=1.5769434603113077,this.b=.8950608779109733,this.dim=2,this.nEpochs=500,this.nVertices=0}return C}();function R(C,F){return C>F?F:C<-F?-F:C}function P(C,F){for(var K=0,V=0;V<C.length;V++)K+=Math.pow(C[V]-F[V],2);return K}function I(C,F){var K=function(ue){var Se=s(ue,2),Me=Se[0],de=Se[1];return function(De){return 1/(1+Me*Math.pow(De,2*de))}},V=w.linear(0,C*3,300).map(function(ue){return ue<F?1:ue}),Q=w.zeros(V.length).map(function(ue,Se){var Me=V[Se]>=F;return Me?Math.exp(-(V[Se]-F)/C):ue}),J=[.5,.5],ie={x:V,y:Q},ve={damping:1.5,initialValues:J,gradientDifference:.1,maxIterations:100,errorTolerance:.01},se=x.default(ie,K,ve).parameterValues,re=s(se,2),ye=re[0],G=re[1];return{a:ye,b:G}}Ir.findABParams=I;function j(C,F,K,V){return K===void 0&&(K=1),V===void 0&&(V=5),C.map(function(Q,J,ie){return F[J]===-1||F[ie]===-1?Q*Math.exp(-K):F[J]!==F[ie]?Q*Math.exp(-V):Q})}Ir.fastIntersection=j;function te(C){C=h.normalize(C,"max");var F=h.transpose(C),K=h.pairwiseMultiply(F,C);return C=h.add(C,h.subtract(F,K)),h.eliminateZeros(C)}Ir.resetLocalConnectivity=te;function oe(C,F,K){for(var V=w.zeros(C.length).map(function(se){return w.zeros(K[0].length)}),Q=0;Q<C.length;Q++)for(var J=0;J<C[0].length;J++)for(var ie=0;ie<K[0].length;ie++){var ve=C[Q][J];V[Q][ie]+=F[Q][J]*K[ve][ie]}return V}return Ir.initTransform=oe,Ir}var uS;function RV(){return uS||(uS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=EV();Object.defineProperty(t,"UMAP",{enumerable:!0,get:function(){return e.UMAP}})}(Xg)),Xg}var xV=RV();function CV(t,e=3,r=15,n=.1,i=200,s){const l=new xV.UMAP({nComponents:e,nNeighbors:r,minDist:n});l.initializeFit(t);let c=0;return new Promise(f=>{function h(){c<i?(l.step(),c++,s(c,i),requestAnimationFrame(h)):f(l.getEmbedding())}h()})}class l_{constructor(e,r={},n){if(this.U=null,this.S=null,n){this.center=n.center,this.scale=n.scale,this.means=n.means,this.stdevs=n.stdevs,this.U=ki.checkMatrix(n.U),this.S=n.S,this.R=n.R,this.excludedFeatures=n.excludedFeatures||[];return}let i;Array.isArray(e)?i=new ki(e):i=new ki(e);const{isCovarianceMatrix:s=!1,method:l="SVD",nCompNIPALS:c=2,center:f=!0,scale:h=!1,ignoreZeroVariance:y=!1}=r;if(this.center=f,this.scale=h,this.means=null,this.stdevs=null,this.excludedFeatures=[],s){this._computeFromCovarianceMatrix(i);return}switch(this._adjust(i,y),l){case"covarianceMatrix":{const b=new pV(i).mmul(i).div(i.rows-1);this._computeFromCovarianceMatrix(b);break}case"NIPALS":{this._computeWithNIPALS(i,c);break}case"SVD":{const b=new mV(i,{computeLeftSingularVectors:!1,computeRightSingularVectors:!0,autoTranspose:!0});this.U=b.rightSingularVectors;const w=b.diagonal,x=[];for(const A of w)x.push(A*A/(i.rows-1));this.S=x;break}default:throw new Error(`unknown method: ${l}`)}}static load(e){if(typeof e.name!="string")throw new TypeError("model must have a name property");if(e.name!=="PCA")throw new RangeError(`invalid model: ${e.name}`);return new l_(void 0,void 0,e)}predict(e,r={}){const{nComponents:n=this.U.columns}=r;let i;if(Array.isArray(e)?i=new ki(e):i=new ki(e),this.center&&(i.subRowVector(this.means),this.scale)){for(let l of this.excludedFeatures)i.removeColumn(l);i.divRowVector(this.stdevs)}let s=i.mmul(this.U);return s.subMatrix(0,s.rows-1,0,n-1)}invert(e){e=ki.checkMatrix(e);let r=e.mmul(this.U.transpose());return this.center&&(this.scale&&r.mulRowVector(this.stdevs),r.addRowVector(this.means)),r}getExplainedVariance(){let e=0;if(this.S)for(const r of this.S)e+=r;return this.S?this.S.map(r=>r/e):[]}getCumulativeVariance(){let e=this.getExplainedVariance();for(let r=1;r<e.length;r++)e[r]+=e[r-1];return e}getEigenvectors(){return this.U}getEigenvalues(){return this.S}getStandardDeviations(){return this.S.map(e=>Math.sqrt(e))}getLoadings(){return this.U.transpose()}toJSON(){return{name:"PCA",center:this.center,scale:this.scale,means:this.means,stdevs:this.stdevs,U:this.U,S:this.S,excludedFeatures:this.excludedFeatures}}_adjust(e,r){if(this.center){const n=e.mean("column"),i=this.scale?e.standardDeviation("column",{mean:n}):null;if(this.means=n,e.subRowVector(n),this.scale){for(let s=0;s<i.length;s++)if(i[s]===0)if(r)e.removeColumn(s),i.splice(s,1),this.excludedFeatures.push(s),s--;else throw new RangeError(`Cannot scale the dataset (standard deviation is zero at index ${s}`);this.stdevs=i,e.divRowVector(i)}}}_computeFromCovarianceMatrix(e){const r=new hV(e,{assumeSymmetric:!0});this.U=r.eigenvectorMatrix,this.U.flipRows(),this.S=r.realEigenvalues,this.S.reverse()}_computeWithNIPALS(e,r){this.U=new ki(r,e.columns),this.S=[];let n=e;for(let i=0;i<r;i++){let s=new gV(n);this.U.setRow(i,s.w.transpose()),this.S.push(Math.pow(s.s.get(0,0),2)),n=s.xResidual}this.U=this.U.transpose()}}function AV(t,e=5){const r=new l_(t,{center:!0,scale:!0}),n=r.predict(t,{nComponents:e}),i=r.getExplainedVariance();return{data:n.data,components:i.slice(0,e)}}async function PV(t,e,r="models/text-embedding-004"){const n=`https://generativelanguage.googleapis.com/v1beta/${r}:embedContent?key=${e}`;if(e==null)throw Error("No Gemini API key supplied.");return await(await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(MV(t))})).json()}function MV(t,e="models/text-embedding-004"){return{model:e,content:{parts:[{text:t}]}}}const Kg=50,fS=He("div")(({theme:t})=>({backgroundColor:"#fff",...t.applyStyles("dark",{backgroundColor:Rc[800]})})),kV=He("div")(({theme:t})=>({width:30,height:6,backgroundColor:Rc[300],borderRadius:3,position:"absolute",top:8,left:"calc(50% - 15px)",...t.applyStyles("dark",{backgroundColor:Rc[900]})}));function qg(t,e){if(t.length!==e.length)throw new Error("Points must have the same dimensions");return Math.sqrt(t.map((r,n)=>Math.pow(r-e[n],2)).reduce((r,n)=>r+n,0))}function Zg(t,e){if(t.length!==e.length)throw new Error("Vectors must have the same dimensions");let r=0,n=0,i=0;for(let s=0;s<t.length;s++)r+=t[s]*e[s],n+=Math.pow(t[s],2),i+=Math.pow(e[s],2);return n=Math.sqrt(n),i=Math.sqrt(i),r/(Math.sqrt(n)*Math.sqrt(i))}function IV(){var st,Ct,At,ar,vt,it,Wt;const[t,e]=B.useState([]),[r,n]=B.useState([]),[i,s]=B.useState([]),[l,c]=B.useState("pca"),[f,h]=B.useState("euclidean"),[y,b]=B.useState(localStorage.GEMINI_API_KEY),[w,x]=B.useState(localStorage.GEMINI_API_KEY),[A,E]=B.useState(1e3),[k,O]=B.useState(!1),[N,M]=B.useState(null),[R,P]=B.useState(null),[I,j]=B.useState(null),[te,oe]=B.useState({cancer_type:[],race:[],ethnicity:[],gender:[],vital_status:[],age_at_index:[]}),[C,F]=B.useState({target:[0,-5,0],longitude:0,latitude:0,zoom:5,rotationX:30,rotationOrbit:10}),[K,V]=B.useState("");B.useState("");const[Q,J]=B.useState({}),[ie,ve]=B.useState([]),[se,re]=B.useState(""),[ye,G]=B.useState(""),[ue,Se]=B.useState(""),[Me,de]=B.useState("3"),[De,$e]=B.useState({}),[Be,Oe]=B.useState("3"),[Ue,ot]=B.useState(15),[qe,ut]=B.useState(""),[et,Mt]=B.useState([]),[Ut,bt]=B.useState(""),[xt,Dt]=B.useState(""),[Lt,gt]=B.useState(""),[rt,ur]=B.useState(""),[qt,Fe]=B.useState(""),[Qe,dt]=B.useState(""),[Tt,Ot]=B.useState(""),[ct,yt]=B.useState(!1),tr=B.useRef(null),Gt=U=>()=>{yt(U)},[Zt,Ne]=B.useState(!1),[Ke,Et]=B.useState({id:"axis-lines",data:[{sourcePosition:[0,0,0],targetPosition:[10,0,0],color:[255,0,0]},{sourcePosition:[0,0,0],targetPosition:[0,10,0],color:[0,255,0]},{sourcePosition:[0,0,0],targetPosition:[0,0,10],color:[0,0,255]}],getSourcePosition:U=>U.sourcePosition,getTargetPosition:U=>U.targetPosition,getColor:U=>U.color,getWidth:1}),Pt=U=>{h(U.target.value)},Yt=U=>{E(U.target.value)},Pr=(U,pe)=>{c(pe)},Nr=U=>{ut(U.target.value)},Ht=U=>{bt(U.target.value)},pr=U=>{Dt(U.target.value)},nn=U=>{gt(U.target.value)},_r=U=>{ur(U.target.value)},Wr=U=>{Fe(U.target.value)},D=U=>{dt(U.target.value)},_=U=>{re(U.target.value)},g=U=>{G(U.target.value)},d=U=>{Se(U.target.value)},m=U=>{de(Me==="3"?"2":"3")},S=U=>{Ot(U.target.value)},W=U=>{b(U.target.value)},X=U=>{ot(U.target.value)},q=U=>{U.target.value==="3"?Oe("2"):Oe("3")},Z=U=>{const pe=U[0].length,Pe=Array(pe).fill(0),xe=Array(pe).fill(0);return U.forEach(Ge=>{Ge.forEach((je,lt)=>{Pe[lt]+=je})}),Pe.forEach((Ge,je)=>Pe[je]/=U.length),U.forEach(Ge=>{Ge.forEach((je,lt)=>{xe[lt]+=Math.pow(je-Pe[lt],2)})}),xe.forEach((Ge,je)=>xe[je]=Math.sqrt(Ge/U.length)),U.map(Ge=>Ge.map((je,lt)=>(je-Pe[lt])/(xe[lt]||1)))},ge=(U,pe,Pe)=>{const xe=Math.ceil(A/3),Ge=[192,128,64];for(let je=1;je<=A;je++){const lt=Math.floor((je-1)/xe),mt=Ge[Math.min(lt,Ge.length-1)];U[pe[je].index]={...U[pe[je].index],color:[...Pe,mt],metric:pe[je].metric}}return U},ae=U=>{U!=null&&U.position&&F(pe=>({...pe,target:U.position,zoom:7}))},Ae=(U,pe)=>{var Pe=window.open("","Title","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=576,top="+(screen.height-400)+",left="+(screen.width-840));Pe.document.body.innerHTML=`<h2>Compared Document for ${pe}</h2><div>${U}</div>`},Xe=()=>{if(Tt){if(!y)return alert("A Gemini API key is required to use semantic search."),!1;PV(Tt,y).then(U=>{var Ge,je,lt;if(U!=null&&U.error)return alert((Ge=U==null?void 0:U.error)==null?void 0:Ge.message),!1;const pe=[Math.random()*255,Math.random()*255,Math.random()*255],Pe={id:Math.random().toString(16).slice(2),patient_id:"",cancer_type:"",text:Tt,embedding:(je=U==null?void 0:U.embedding)==null?void 0:je.values,originalColor:pe,color:pe};j(Pe);const xe=[...r.map(mt=>({...mt,color:[200,200,200,64]})),Pe];$e({}),J({}),n(xe),e([...t,{id:Math.random().toString(16).slice(2),text:Tt,embedding:(lt=U==null?void 0:U.embedding)==null?void 0:lt.values,originalColor:pe,properties:{patient_id:"",cancer_type:""}}]),Ot(""),yt(!1)})}else return alert("Text cannot be empty."),!1},Te=()=>{localStorage.setItem("GEMINI_API_KEY",y),x(y)},ke=()=>{localStorage.removeItem("GEMINI_API_KEY"),b(null),x(null)},nt=(U=!1)=>{const pe=document.createElement("div");pe.style.color="#000000",pe.style.position="fixed",pe.style.top="50%",pe.style.left="50%",pe.style.transform="translate(-50%, -50%)",pe.style.backgroundColor="rgba(255, 255, 255, 0.9)",pe.style.padding="10px",pe.style.border="1px solid #ddd",pe.innerHTML="Initializing...",document.body.appendChild(pe);const Pe=async()=>{let xe={};if(!(De!=null&&De.length)||U){const je=t.map(mt=>mt==null?void 0:mt.embedding),lt=Z(je);xe=await CV(lt,3,Ue,.1,200,(mt,kt)=>{const nr=(mt/kt*100).toFixed(2);pe.innerHTML=`Progress: ${nr}% (${mt} / ${kt} steps)`})}else xe=[...De];pe.remove();const Ge=r.map((je,lt)=>{var mt,kt,nr;return{...je,position:[(mt=xe[lt])==null?void 0:mt[0],(kt=xe[lt])==null?void 0:kt[1],(nr=xe[lt])==null?void 0:nr[2]]}});if(I){const je=Ge.find(lt=>lt.id===I.id);je&&(ae(je),j(null))}n(Ge),$e(xe)};setTimeout(()=>{Pe()},1e3)};B.useEffect(()=>{(async()=>{try{Ne(!0);let pe=await(await fetch("/assets/tcga_reports_3000.json.zip")).blob();const Pe=new Cv;await Pe.loadAsync(pe),pe=await(await Pe.file("tcga_reports_3000.json")).async("string"),pe=JSON.parse(pe);let xe=await(await fetch("/assets/patients_data.json.zip")).blob();const Ge=new Cv;await Ge.loadAsync(xe),xe=await(await Ge.file("patients_data.json")).async("string"),xe=JSON.parse(xe);const je=new Set,lt=new Set,mt=new Set,kt=new Set,nr=new Set;xe.forEach(ft=>{var Kt,fr,gr,Un,Ln;je.add((Kt=ft==null?void 0:ft.demographic)==null?void 0:Kt.race),lt.add((fr=ft==null?void 0:ft.demographic)==null?void 0:fr.ethnicity),mt.add((gr=ft==null?void 0:ft.demographic)==null?void 0:gr.gender),kt.add((Un=ft==null?void 0:ft.demographic)==null?void 0:Un.vital_status),nr.add((Ln=ft==null?void 0:ft.demographic)==null?void 0:Ln.age_at_index)});const yr=Object.fromEntries(xe.map(ft=>[ft.submitter_id,ft])),sn=[],Hr=new Set,jt=[];pe.forEach(ft=>{var fr,gr,Un,Ln,Si,ii,Ts,$,Y,le;Hr.add((fr=ft==null?void 0:ft.properties)==null?void 0:fr.cancer_type),jt.push((gr=ft==null?void 0:ft.properties)==null?void 0:gr.patient_id);const Kt=yr[(Un=ft==null?void 0:ft.properties)==null?void 0:Un.patient_id];sn.push({id:ft==null?void 0:ft.id,patient_id:(Ln=ft==null?void 0:ft.properties)==null?void 0:Ln.patient_id,cancer_type:(Si=ft==null?void 0:ft.properties)==null?void 0:Si.cancer_type,embedding:ft==null?void 0:ft.embedding,race:(ii=Kt==null?void 0:Kt.demographic)==null?void 0:ii.race,ethnicity:(Ts=Kt==null?void 0:Kt.demographic)==null?void 0:Ts.ethnicity,gender:($=Kt==null?void 0:Kt.demographic)==null?void 0:$.gender,vital_status:(Y=Kt==null?void 0:Kt.demographic)==null?void 0:Y.vital_status,age_at_index:(le=Kt==null?void 0:Kt.demographic)==null?void 0:le.age_at_index,text:ft==null?void 0:ft.text,originalColor:[Math.random()*255,Math.random()*255,Math.random()*255],color:[200,200,200,64],distance:0,radius:1})}),oe({cancer_type:[...Hr].sort(),race:[...je].sort(),ethnicity:[...lt].sort(),gender:[...mt].sort(),vital_status:[...kt].sort(),age_at_index:[...nr].sort()}),n(sn),e(pe),Ne(!1)}catch(pe){Ne(!1),console.error("Error fetching data:",pe)}})()},[]),B.useEffect(()=>{const U=r.map((pe,Pe)=>({...pe,position:[Q.data[Pe][se],Q.data[Pe][ye],Q.data[Pe][ue]]}));n(U)},[se,ye,ue]),B.useEffect(()=>{if(qe){const U=te[qe],pe=Object.fromEntries(U.map(xe=>[xe,[Math.random()*255,Math.random()*255,Math.random()*255,128]])),Pe=[...r.map(xe=>({...xe,color:pe[xe[qe]]?pe[xe[qe]]:[200,200,200,64]}))];n(Pe),Mt(pe)}else{const U=[...r.map(pe=>({...pe,color:[200,200,200,64]}))];n(U),Mt([])}},[qe]),B.useEffect(()=>{},[Ut,rt,xt,Lt,qt,Qe]),B.useEffect(()=>{if(k&&N){const U=r[N],pe=[...r.map(Ge=>({...Ge,color:[200,200,200,64]}))];pe[N]={...pe[N],color:[255,0,0,256]};const Pe=pe.map((Ge,je)=>({index:je,metric:f==="euclidean"?qg(Ge.embedding,U.embedding):Zg(Ge.embedding,U.embedding)}));f==="euclidean"?Pe.sort((Ge,je)=>Ge.metric-je.metric):Pe.sort((Ge,je)=>je.metric-Ge.metric);const xe=ge(pe,Pe,pe[N].originalColor);n(xe),s(Pe.slice(0,A).map(Ge=>{const je=xe[Ge.index];return{patient_id:je.patient_id,cancer_type:je.cancer_type,text:je.text,metric:Ge.metric}})),O(!1)}},[k]),B.useEffect(()=>{if(f&&N){const U=r[N],pe=[...r.map(Ge=>({...Ge,color:[200,200,200,64]}))];pe[N]={...pe[N],color:[255,0,0,256]};const Pe=pe.map((Ge,je)=>({index:je,metric:f==="euclidean"?qg(Ge.embedding,U.embedding):Zg(Ge.embedding,U.embedding)}));f==="euclidean"?Pe.sort((Ge,je)=>Ge.metric-je.metric):Pe.sort((Ge,je)=>je.metric-Ge.metric);const xe=ge(pe,Pe,pe[N].originalColor);n(xe),s(Pe.slice(0,A).map(Ge=>{const je=xe[Ge.index];return{patient_id:je.patient_id,cancer_type:je.cancer_type,text:je.text,metric:Ge.metric}})),O(!1)}},[f]),B.useEffect(()=>{if(t.length){if(l==="umap")nt();else if(l==="pca"){const U=document.createElement("div");U.style.color="#000000",U.style.position="fixed",U.style.top="50%",U.style.left="50%",U.style.transform="translate(-50%, -50%)",U.style.backgroundColor="rgba(255, 255, 255, 0.9)",U.style.padding="10px",U.style.border="1px solid #ddd",U.innerHTML="Computing PCA...",document.body.appendChild(U),(()=>{var je;let Pe={};if((je=Q==null?void 0:Q.data)!=null&&je.length)Pe={...Q};else{const lt=t.map(mt=>mt.embedding.slice(0,200));Pe=AV(lt)}U.remove();const xe=Pe.components.map(lt=>(lt*100).toFixed(2));ve(xe),re(0),G(1),Se(2);const Ge=r.map((lt,mt)=>({...lt,position:[Pe.data[mt][se],Pe.data[mt][ye],Pe.data[mt][ue]]}));if(I){const lt=Ge.find(mt=>mt.id===I.id);lt&&(ae(lt),j(null))}n(Ge),J(Pe)})()}}},[l,t]);const ce=new o_({...Ke}),Ve=new a_({id:"point-cloud-layer",data:r,getPosition:U=>U.position,getColor:U=>U.color,pointSize:4,pickable:!0,onClick:U=>{var pe;if(U.object){const Pe=r.indexOf(U.object);if(Pe!==-1){U.object.position,M(Pe);const xe=[...r.map(mt=>({...mt,color:[200,200,200,64]}))];xe[Pe]={...xe[Pe],color:[255,0,0,256]};const Ge=(pe=xe[Pe])==null?void 0:pe.text;V(Ge);const je=xe.map((mt,kt)=>({index:kt,metric:f==="euclidean"?qg(mt.embedding,U.object.embedding):Zg(mt.embedding,U.object.embedding)}));f==="euclidean"?je.sort((mt,kt)=>mt.metric-kt.metric):je.sort((mt,kt)=>kt.metric-mt.metric);const lt=ge(xe,je,xe[Pe].originalColor);n(lt),s(je.slice(0,A).map(mt=>{const kt=lt[mt.index];return{patient_id:kt.patient_id,cancer_type:kt.cancer_type,text:kt.text,metric:mt.metric}})),F(mt=>({...mt,target:[0,0,0],zoom:5}))}}},onHover:U=>{U.object?P({x:U.x,y:U.y,object:U.object}):P(null)}});return z.jsxs(or,{container:!0,direction:"column",style:{height:"100vh",overflow:"hidden"},children:[z.jsx(or,{item:!0,style:{height:"fit-content",flexGrow:0,width:"100%",backgroundColor:bo[900]},children:z.jsx(gs,{variant:"h6",align:"left",style:{borderBottom:"1px solid",borderColor:"#000000",padding:"8px",color:"#ffffff"},children:"Embedding Projector"})}),z.jsxs(or,{item:!0,container:!0,style:{flexGrow:1},children:[z.jsx(or,{item:!0,xs:3,style:{borderRight:"1px solid black",display:"flex",flexDirection:"column",height:"100%"},children:z.jsxs(or,{container:!0,direction:"column",style:{display:"flex",flexGrow:1,minHeight:0},children:[z.jsxs(or,{item:!0,children:[z.jsx(gs,{variant:"subtitle1",color:"#000000",align:"left",style:{padding:"8px",fontWeight:"bold"},children:"DATA"}),z.jsx(ms,{}),z.jsx(cn,{style:{position:"relative",padding:"0 8px 20px 8px"},children:z.jsxs(or,{container:!0,style:{position:"relative"},children:[z.jsx(or,{item:!0,xs:12,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Color By"}),z.jsxs(di,{name:"colorBy",value:qe,onChange:Nr,disabled:Zt,children:[z.jsx(yn,{value:""},""),Object.keys(te).map(U=>z.jsx(yn,{value:U,children:U.split("_").map(pe=>pe.charAt(0).toUpperCase()+pe.slice(1)).join(" ")},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Cancer Type"}),z.jsxs(di,{name:"cancerType",value:Ut,onChange:Ht,disabled:Zt,MenuProps:{PaperProps:{style:{maxHeight:400}}},children:[z.jsx(yn,{value:""},""),te.cancer_type.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Gender"}),z.jsxs(di,{name:"gender",value:rt,onChange:_r,disabled:Zt,children:[z.jsx(yn,{value:""},""),te.gender.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Race"}),z.jsxs(di,{name:"race",value:xt,onChange:pr,disabled:Zt,children:[z.jsx(yn,{value:""},""),te.race.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Ethnicity"}),z.jsxs(di,{name:"ethnicity",value:Lt,onChange:nn,disabled:Zt,children:[z.jsx(yn,{value:""},""),te.ethnicity.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Vital Status"}),z.jsxs(di,{name:"vitalStatus",value:qt,onChange:Wr,disabled:Zt,children:[z.jsx(yn,{value:""},""),te.vital_status.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Age at Index"}),z.jsxs(di,{name:"ageAtIndex",value:Qe,onChange:D,disabled:Zt,children:[z.jsx(yn,{value:""},""),te.age_at_index.map(U=>U&&z.jsx(yn,{value:U,children:z.jsxs(cn,{sx:{display:"flex",alignItems:"center",gap:1},children:[et[U]&&z.jsx(cn,{sx:{width:16,height:16,backgroundColor:`rgb(${et[U].join(", ")})`,borderRadius:2,border:"1px solid #888"}}),U]})},U))]})]})})]})}),z.jsx(ms,{})]}),z.jsxs(or,{item:!0,style:{marginTop:"auto",marginBottom:`${Kg+10}px`},children:[z.jsx(ms,{}),z.jsxs(hO,{value:l,children:[z.jsx(cn,{sx:{borderBottom:1,borderColor:"divider"},children:z.jsxs(pO,{onChange:Pr,variant:"fullWidth",children:[z.jsx(ug,{label:"UMAP",value:"umap"}),z.jsx(ug,{label:"T-SNE",value:"tsne"}),z.jsx(ug,{label:"PCA",value:"pca"})]})}),z.jsx(hg,{value:"umap",style:{position:"relative",padding:0},children:z.jsx(cn,{style:{position:"relative",padding:"0 8px"},children:z.jsxs(or,{container:!0,style:{position:"relative"},children:[z.jsx(or,{item:!0,xs:12,sx:{padding:1},children:z.jsx(Mn,{component:"fieldset",children:z.jsx(gm,{"aria-label":"position",row:!0,children:z.jsxs(Kw,{direction:"row",sx:{alignItems:"center"},children:[z.jsx(lc,{sx:{marginRight:"15px"},children:"Dimension"}),z.jsx(gs,{variant:"button",children:"2D"}),z.jsx(yN,{checked:Be==="3",value:Be,onChange:q}),z.jsx(gs,{variant:"button",children:"3D"})]})})})}),z.jsx(or,{item:!0,xs:12,sx:{padding:1},children:z.jsxs(Mn,{component:"fieldset",fullWidth:!0,children:[z.jsx(lc,{children:"Neighbors"}),z.jsx(Yw,{valueLabelDisplay:"on","aria-label":"custom thumb label",value:Ue,onChange:X,max:50})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsx(Mn,{variant:"standard",children:z.jsx(tg,{variant:"contained",onClick:()=>nt(!0),children:"Run"})})})]})})}),z.jsx(hg,{value:"tsne",children:"T-SNE"}),z.jsx(hg,{value:"pca",style:{position:"relative",padding:0},children:z.jsx(cn,{style:{position:"relative",padding:"0 8px"},children:z.jsxs(or,{container:!0,style:{position:"relative"},children:[z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"X"}),z.jsxs(di,{name:"pcaComponent1",value:se,onChange:_,disabled:Zt,children:[z.jsx(pm,{children:"Variance (%)"}),ie.map((U,pe)=>z.jsx(yn,{value:pe,children:U},pe))]})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Y"}),z.jsx(di,{name:"pcaComponent2",value:ye,onChange:g,disabled:Zt,children:ie.map((U,pe)=>z.jsx(yn,{value:pe,children:U},pe))})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsxs(Mn,{fullWidth:!0,variant:"standard",children:[z.jsx(Mi,{children:"Z"}),z.jsx(di,{name:"pcaComponent3",value:ue,onChange:d,disabled:Me==="2"||Zt,children:ie.map((U,pe)=>z.jsx(yn,{value:pe,children:U},pe))})]})}),z.jsx(or,{item:!0,xs:6,sx:{padding:1},children:z.jsx(Mn,{variant:"standard",children:z.jsx(yM,{style:{justifyContent:"flex-start"},checked:Me==="3",onChange:m})})})]})})})]})]})]})}),z.jsxs(or,{item:!0,xs:6,style:{position:"relative"},ref:tr,children:[z.jsx(nT,{sx:U=>({color:"#fff",zIndex:U.zIndex.drawer+1,position:"absolute"}),open:Zt,children:z.jsx(x0,{color:"inherit"})}),z.jsx(z$,{style:{position:"relative",backgroundColor:Rc[100]},views:l==="umap"&&Be==="2"||l==="pca"&&Me==="2"?null:new yR({}),initialViewState:C,controller:{dragRotate:!0,scrollZoom:!0},layers:[ce,Ve]}),R&&z.jsxs("div",{style:{position:"absolute",left:R.x,top:R.y,backgroundColor:"white",padding:"5px",borderRadius:"3px",pointerEvents:"none",fontSize:"12px",boxShadow:"0px 0px 5px rgba(0, 0, 0, 0.3)"},children:[z.jsxs("div",{children:[z.jsx("b",{children:"PATIENT ID:"})," ",(st=R==null?void 0:R.object)==null?void 0:st.patient_id]}),z.jsxs("div",{children:[z.jsx("b",{children:"CANCER TYPE:"})," ",(Ct=R==null?void 0:R.object)==null?void 0:Ct.cancer_type]}),z.jsxs("div",{children:[z.jsx("b",{children:"GENDER:"})," ",(At=R==null?void 0:R.object)==null?void 0:At.gender]}),z.jsxs("div",{children:[z.jsx("b",{children:"ETHNICITY:"})," ",(ar=R==null?void 0:R.object)==null?void 0:ar.ethnicity]}),z.jsxs("div",{children:[z.jsx("b",{children:"RACE:"})," ",(vt=R==null?void 0:R.object)==null?void 0:vt.race]}),z.jsxs("div",{children:[z.jsx("b",{children:"VITAL STATUS:"})," ",(it=R==null?void 0:R.object)==null?void 0:it.vital_status]}),z.jsxs("div",{children:[z.jsx("b",{children:"AGE AT INDEX:"})," ",(Wt=R==null?void 0:R.object)==null?void 0:Wt.age_at_index]})]}),z.jsx(T3,{sx:U=>({color:"#fff",position:"absolute",bottom:80,right:40,width:80,height:80,borderRadius:"50%",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.3)","&:hover":{boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.5)"},"&:focus":{outline:"none"}}),onClick:Gt(!0),children:z.jsx(yO,{fontSize:"large",sx:U=>({color:U.palette.primary.main})})}),z.jsx(AS,{styles:{".MuiDrawer-root > .MuiPaper-root":{height:"calc(35%)",overflow:"visible",position:"absolute"}}}),z.jsxs(fN,{container:tr.current,anchor:"bottom",open:ct,onClose:Gt(!1),onOpen:Gt(!0),swipeAreaWidth:Kg,disableSwipeToOpen:!1,ModalProps:{keepMounted:!0},children:[z.jsxs(fS,{sx:{position:"absolute",top:-Kg,borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:Zt||ct?"":"0px -4px 8px rgba(0, 0, 0, 0.5)",visibility:"visible",right:0,left:0},children:[z.jsx(kV,{}),z.jsx(gs,{sx:{p:2,color:"text.secondary"},children:"Semanthic Search"})]}),z.jsxs(fS,{sx:{px:2,pb:2,height:"100%",overflow:"auto"},children:[z.jsx(nb,{placeholder:"Enter Text",variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:Tt,onChange:S}),z.jsx(nb,{placeholder:"A Gemini API key is required to use semantic search. Enter your's here:",variant:"outlined",fullWidth:!0,value:y||"",onChange:W,sx:{marginTop:1},disabled:!!w}),z.jsx(tg,{variant:"contained",onClick:()=>Xe(),sx:{marginTop:1},children:"Add Embedding"}),z.jsx(tg,{variant:"contained",onClick:()=>w?ke():Te(),sx:{marginTop:1,marginLeft:1},children:w?"RESET KEY":"SAVE KEY"})]})]})]}),z.jsx(or,{item:!0,xs:3,style:{borderLeft:"1px solid black",display:"flex",flexDirection:"column",height:"100%"},children:z.jsxs(or,{container:!0,direction:"column",style:{display:"flex",flexGrow:1,minHeight:0},children:[z.jsxs(or,{item:!0,children:[z.jsx(gs,{variant:"subtitle1",color:"#000000",align:"left",style:{padding:"8px",fontWeight:"bold"},children:"SETTINGS"}),z.jsx(ms,{}),z.jsxs(cn,{style:{width:"85%",padding:"4px 8px",margin:"0 auto"},children:[z.jsx(lc,{children:"Neighbors"}),z.jsx(Yw,{valueLabelDisplay:"on","aria-label":"custom thumb label",value:A,onChange:Yt,onChangeCommitted:(U,pe)=>O(!0),min:100,max:1e3})]}),z.jsx(ms,{}),z.jsx(cn,{style:{padding:"4px 8px",textAlign:"center"},children:z.jsx(Mn,{children:z.jsx(gm,{"aria-label":"position",row:!0,children:z.jsxs(Kw,{direction:"row",sx:{alignItems:"center"},children:[z.jsx(lc,{sx:{marginRight:"20px",fontSize:18},children:"Distance"}),z.jsxs(AI,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",children:[z.jsx(xw,{value:"cosine",checked:f==="cosine",onChange:Pt,name:"radio-buttons",control:z.jsx(jw,{}),label:"Cosine",sx:{marginRight:"10px",".MuiButtonBase-root":{padding:"8px"}}}),z.jsx(xw,{value:"euclidean",checked:f==="euclidean",onChange:Pt,name:"radio-buttons",control:z.jsx(jw,{}),label:"Euclidean"})]})]})})})})]}),z.jsx(ms,{}),i.length>0&&z.jsx(or,{item:!0,children:z.jsx(UN,{component:R0,style:{maxHeight:220,flexShrink:0},children:z.jsx(RN,{sx:{width:"100%"},size:"small",children:z.jsx(MN,{children:i.map(U=>z.jsxs(WN,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[z.jsx(fg,{component:"th",scope:"row",onClick:()=>Ae(U.text,U.patient_id),sx:{cursor:"pointer"},children:U.patient_id}),z.jsx(fg,{align:"right",children:U.cancer_type}),z.jsx(fg,{align:"right",children:U!=null&&U.metric?U==null?void 0:U.metric.toFixed(3):"0.000"})]},U.patient_id))})})})}),K.length>0&&z.jsxs(or,{container:!0,direction:"column",style:{flexGrow:1,display:"flex",minHeight:0},children:[z.jsxs(or,{item:!0,children:[z.jsx(gs,{variant:"subtitle1",color:"#000000",align:"left",style:{padding:"8px",fontWeight:"bold"},children:"REFERENCE DOCUMENT"}),z.jsx(ms,{})]}),z.jsx(or,{item:!0,style:{overflowY:"auto",flexGrow:1,minHeight:0,maxHeight:300},children:z.jsx(cn,{style:{padding:"8px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:K})})]})]})})]})]})}dC.createRoot(document.getElementById("root")).render(z.jsx(B.StrictMode,{children:z.jsx(IV,{})}));
